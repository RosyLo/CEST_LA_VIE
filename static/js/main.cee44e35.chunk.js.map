{"version":3,"sources":["style/header.module.css","style/chatroom.module.css","style/profileshow.module.css","style/post.module.css","style/editpostpopup.module.css","style/msgPopWrap.module.css","style/storybar.module.css","redux/actionTypes.js","firebase.js","firebaseConfig.js","utils/imageUpload.js","utils/tagProcess.js","utils/formatPost.js","redux/actions/postAction.js","img/cancel.svg","component/common/CancelButton.js","component/common/PopupModal.js","component/common/ChooseTags.js","component/post/Heart.js","component/common/MsgPopup.js","component/post/Comment.js","redux/actions/commentAction.js","component/post/Commenting.js","component/common/EditPostPopup.js","component/common/BarPopup.js","component/common/DeletePopup.js","img/more.svg","component/post/EditPostBar.js","component/post/PostPopup.js","component/common/LoginPopup.js","img/LA_VIE_logo.png","component/common/Logo.js","redux/actions/loginAction.js","img/travel.jpg","component/post/Post.js","component/common/UploadPostBlock.js","img/plusIcon.png","component/common/UploadPostButton.js","component/chat/ChatRoom.js","component/common/SearchTags.js","component/header/ProfileImage.js","img/downarrow.svg","component/header/Header.js","component/common/Loading.js","redux/actions/searchAction.js","component/post/PostList.js","utils/names.js","redux/actions/relationshipAction.js","component/profile/RequestItem.js","component/profile/ProfileShow.js","redux/actions/profileAction.js","img/cross.png","component/profile/story/StoryModal.js","component/common/MakeStoryModal.js","img/check.png","component/profile/story/EditImage.js","component/profile/story/EditStoryPopup.js","redux/actions/storyAction.js","img/left-arrow.png","img/right-arrow.png","component/profile/story/StoryPost.js","img/more.png","component/profile/story/StoryCircle.js","component/profile/story/Image.js","component/profile/story/MakeStory.js","component/profile/story/StoryBar.js","component/profile/ProfileContent.js","component/profile/Profile.js","component/welcome/Welcome.js","component/common/NoMatch.js","component/App.js","redux/reducers/posts.js","redux/reducers/user.js","redux/reducers/comments.js","redux/reducers/tags.js","redux/reducers/searchtags.js","redux/reducers/stories.js","redux/reducers/masterposts.js","redux/reducers/postcomments.js","redux/reducers/loading.js","redux/reducers/welcomeposts.js","redux/reducers/relationships.js","redux/reducers/profile.js","redux/reducers/index.js","index.js","style/popup.module.css","style/postblock.module.css","style/comment.module.css","style/request.module.css","style/profilecontent.module.css","style/makestory.module.css","style/cancelbutton.module.css"],"names":["module","exports","RECIEVED_USER","RECEIVED_PROFILE","ADD_POST","EDIT_POST","DELETE_POST","RECIEVED_POSTS","TOGGLE_LIKE_POST","RECEIVED_COMMENT","ADD_COMMENT","EDIT_COMMENT","DELETE_COMMENT","TOGGLE_Comment_Like","ADD_POST_COMMENT","EDIT_POST_COMMENT","DELETE_POST_COMMENT","TOGGLE_POST_Comment_Like","RECIEVED_TAGS","UPDATE_TAG","ADD_TAG","SEARCH_TAGS","NOSEARCH_TAGS","RECIEVED_STORIES","RECIEVED_MASTERPOSTS","ADD_STORY","DELETE_STORY","EDIT_STORY","RECIEVING_LOADING","RECEIVED_WELCOMEPOSTS","RECEIVED_RELATIONSHIP","SEND_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","UNFRIEND","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","facebookAuthProvider","FacebookAuthProvider","googleAuthProvider","GoogleAuthProvider","uploadImage","image","dest","callback","file","uploadTask","storage","ref","child","put","contentType","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","console","log","state","TaskState","PAUSED","RUNNING","error","code","getDownloadURL","then","downloadURL","tagProcess","newTag","tagpostID","dispatch","getState","tags","tagID","collection","doc","value","map","tag","push","includes","updateTagpostID","find","postID","type","payload","update","tagData","label","set","formatPost","post","postTime","shortTime","toDate","toDateString","fetchPosts","lastVisible","lastSnap","setLastSnap","posts","postsList","orderBy","limit","get","snap","forEach","postData","id","postImage","data","postIssuer","postMessage","postTag","postLikes","docs","startAfter","length","toggleLike","isfrom","user","likeSet","runTransaction","transaction","postDoc","exists","Set","has","uid","delete","add","Array","from","likeIssuerID","CancelButton","onClick","className","styles","cancelWrap","cancelButtonImg","src","cross","StyleModal","handleClose","show","children","ReactDom","createPortal","contentWrap","contentWrapNone","postContentDiv","close","postModalDiv","postModalDivNone","document","getElementById","ChooseTags","tagHolder","setNewTag","useSelector","handleChange","newValue","actionMeta","handleInputChange","inputValue","group","groupEnd","customStyles","control","base","background","borderRadius","isFocused","borderColor","menu","marginTop","menuList","padding","maxHeight","option","isDisabled","isSelected","cursor","multiValue","border","isClearable","onChange","onInputChange","options","placeholder","Heart","likes","popup","useDispatch","isLiked","heartRef","React","useRef","heartClick","current","MsgPopup","popupstyles","msgContentDiv","msgContentDivNone","cancelStory","style","width","height","msgModalDiv","msgModalDivNone","Comment","comment","setPostComments","postComments","commentIssuer","commentIssuerMessage","useState","isCommentDeleteClick","setisCommentDeleteClick","isCommentEdit","setIsCommentEdit","commentContent","setCommentContent","keyDownEvent","e","key","editedPostComment","commentID","postcomments","postComment","newPostComment","editComment","useEffect","commentImage","commentIssuerImage","postIssuerName","commentIssuerName","commentIssuerID","commentMsg","target","onKeyDown","commentActions","commentLike","cancelWrapNone","msgPopStyles","msgPopWrap","buttonWrap","styled","decideButton","comments","newComments","filter","newPostComments","deleteComment","Commenting","newComment","setNewCommment","form","onSubmit","preventDefault","photoURL","displayName","commentTime","FieldValue","serverTimestamp","docRef","addComment","commentInput","nanoid","name","autoComplete","EditPostPopup","editPostID","setisEditClick","isEditClick","setIsUploadPopup","editpost","uploadViewStage","setUploadViewStage","setImage","postImageLink","imageURL","setImageURL","postImageID","postIssuerID","postIssuerImage","choosePic","rightModel","decideBlock","blockTitle","decideButtonBlock","htmlFor","uploadButton","files","URL","createObjectURL","stopPropagation","newMsg","setNewMsg","writeMsgTag","postPopupRightModel","decideBlockMsg","postMsgInput","cols","rows","searchButtonBlock","postSearch","decideButtonWrap","decideButtonVag","uploadPic","editPost","view","modelWrap","topModel","buttonModal","leftModel","isFromEdit","BarPopup","top","right","editContainerDiv","editContainerDivNone","editContentDiv","editContentDivNone","DeletePopup","deletePostID","setisDeletePopupClick","isDeletePopupClick","setIsDeletePopup","setisPostClick","deletepost","isFromDelete","margin","deleteBlockSubTitle","deletePost","EditPostBar","clickEdit","setclickEdit","isDeletePopup","isEditBlockClick","setIsEditBlockClick","isUploadPopup","marginLeft","position","more","setisUploadPopup","PostPopup","clickPostID","isPostClick","clickpost","setLastVisible","commentsList","where","querySnapshot","fetchComments","space","to","location","textDecoration","postblock","postProfileImage","postProfileName","separater","display","postPictureWrap","postPicture","messageBlock","commentsWrap","commenting","LoginPopup","slideTime","contentDiv","modalDiv","modalDivNone","Logo","navIcon","logo","login","provider","setLoginPopup","authProvider","signInWithPopup","a","result","url","profileMessage","userName","userProfileImage","merge","localStorage","setItem","JSON","stringify","Post","isFromUpload","isfromWelcome","commentList","setCommentList","pleaseLogin","setPleaseLogin","newList","nocursor","postHeader","postIssuerNameWelcome","authorPic","picOverlay","content","textspan","picContainerUpload","picContainer","photo","postInteraction","postLikeCount","headerstyle","loginPopContain","loginTitle","travel","loginWrap","title1","title2","text","google","facebook","UploadPostBlock","setisUploadPopupClick","isUploadPopupClick","setIsNewPostConfirm","uploadPicID","addPost","UploadPostButton","isNewPostConfirm","storyCirclePlus","plus","ChatRoom","SearchTags","isWindowSmall","setIsWindowSmall","window","innerWidth","zIndex","search","isMulti","ProfileImage","Header","isProfileToggleClick","setisProfileToggleClick","loginPopup","history","useHistory","headerWrap","navWrap","pathname","downarrow","arrow","signOut","clear","button","Loading","receiveTags","PostList","searchtags","isScrollFetching","setIsScrollFetching","stakeGridRef","loading","scrollTo","body","scrollTop","onscroll","documentElement","scrollHeight","clientHeight","newLast","handleScroll","updateLayout","filterTags","filterPosts","searchtag","wrap","postWrap","gridRef","columnWidth","gutterWidth","gutterHeight","monitorImagesLoaded","noPostWrap","noPostGuide","FRIEND","REQUESTED","REQUESTING","FROMPROFILE","FROMMASTERPROFILE","acceptFriendRequest","relationshipID","status","unFriend","friend","isFrom","docName","excuteDeleteRelationship","res","RequestItem","relatedUser","profile","toggleView","requestButton","stateBlock","request","requestImage","requestName","requestMsg","requestActions","ProfileShow","paramsID","relationships","friendList","setFriendList","requestingList","setRequestingList","requestedList","setRequestedList","relationshipButton","setRelationshipButton","isRequestClick","setIsRequestClick","requestViewState","setRequestViewState","isFriendClick","setIsFriendClick","isMessageClick","setIsMessageClick","getProfile","getProfileRelationShip","rel","requester","requestee","ourRelationship","buttonViewFriend","buttonViewRequested","buttonViewRequesting","buttonViewSendRequest","relationship","buttonView","requestView","profileShowWrap","profileShow","profilePic","profileInfo","followerBlock","followerInfo","postInfo","friendModelWrap","friendTopModal","guide","friendButtonModal","requestModelWrap","requestTopModal","requestButtonModal","requestToggle","requestStateChoose","requestStateNone","StoryModal","cancelStoryNone","storyCancelImg","showStoryContentDiv","showStoryContentDivDivNone","showStoryModalDiv","showStoryModalDivNone","MakeStoryModal","storyContentDiv","storyModalDiv","storyModalDivNone","EditImage","choosedStory","chooseStory","stage","chooseCoverfunc","isCover","isImgChoose","setIsImgChoose","blockWrap","imageTime","pickPicCircle","indexOf","block","pickCoverCircle","check","EditStoryPopup","setIsEditStoryBlockClick","isEditStoryBlockClick","editStory","storyName","setstoryName","choosedCover","setChoosedCover","setIsCover","editStoryStage","setEditStoryStage","isEditSuccess","setIsEditSuccess","storiesID","stories","setChoosedStory","currentPosts","storyImageLink","story","storyID","storyIssuerID","createTime","choosePostTitle","makeStoryGuide","choosePost","grid","newchoosedStory","chooseCoverTitle","chooseCoverPhoto","storyNameingTitle","stateStory","stateStoryStories","masterPost","edtiStory","storyNameing","storyCircle","coverImage","textAlign","storyNameInput","title","StoryPost","isStoryClick","setisStoryClick","currentIndex","setCurrentIndex","isEditStoryClick","setisEditStoryClick","setEditStory","postLists","header","heading","subheading","profileImage","storyEditBar","storyBlockWrap","rightarrow","leftarrow","storyBlock","loop","keyboardNavigation","defaultInterval","onStoryEnd","s","st","onAllStoriesEnd","onStoryStart","storyStyles","objectFit","StoryCircle","circleRef","isStoryDeleteClick","setisStoryDeleteClick","deleteStory","storyDeleteCross","Image","MakeStory","setisMakeStoryClick","isMakeStoryClick","setisMakeStorySucces","makeStoryStage","setMakeStoryStage","addedstory","isMakeSuccess","setIsMakeSuccess","StoryBar","isMakeStorySuccess","containRef","wrapRef","barLeftArrowRef","barRightArrowRef","constainMargin","setconstainMargin","profileposts","storyData","profilepost","catch","fetchStories","storyBarWrap","storyCircleWrap","storyCircleContain","barrightarrow","circleWidth","clientWidth","newconstainMargin","transform","transition","storyBarScrollLeft","barleftarrow","storyBarScrollRight","ProfileContent","fetchMasterPosts","setTimeout","noPostUpload","Profile","userId","propTypes","PropTypes","string","withRouter","Welcome","slogans","tagName","backgroundColor","backgroundImage","pageYOffset","resetTimeout","welcomeposts","index","setIndex","isTo2","setIsTo2","timeoutRef","clearTimeout","prevIndex","filteredPosts","slogan","color","_","idx","duration","NoMatch","Routers","query","URLSearchParams","useLocation","exact","path","render","props","component","App","action","editPostList","initState","parse","getItem","editedComment","editStoryList","masterposts","masterPosts","newRelationship","combineReducers","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM"],"mappings":"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","file":"static/js/main.cee44e35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrap\":\"header_headerWrap__1oR5t\",\"navWrap\":\"header_navWrap__3Oq6O\",\"navIcon\":\"header_navIcon__3bYom\",\"downarrow\":\"header_downarrow__2BPnj\",\"storyCirclePlus\":\"header_storyCirclePlus__2Pcrt\",\"button\":\"header_button__1aa-o\",\"logo\":\"header_logo__1y3Xg\",\"search\":\"header_search__1KUr-\",\"loginPopContain\":\"header_loginPopContain__3GJfB\",\"loginWrap\":\"header_loginWrap__bKdLQ\",\"loginTitle\":\"header_loginTitle__3MSwY\",\"title1\":\"header_title1__2fCtM\",\"title2\":\"header_title2__Ha2YJ\",\"text\":\"header_text__1y4Ea\",\"google\":\"header_google__1jScp\",\"googleIcon\":\"header_googleIcon__21xqA\",\"facebookIcon\":\"header_facebookIcon__2LgUL\",\"facebook\":\"header_facebook__Nc3oE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatRoomWrap\":\"chatroom_chatRoomWrap__2aTkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"profileshow_loading__3RM-x\",\"profileShowWrap\":\"profileshow_profileShowWrap__3reKo\",\"profileShow\":\"profileshow_profileShow__3F1Lt\",\"profilePic\":\"profileshow_profilePic__rsvWY\",\"postInfo\":\"profileshow_postInfo__3K_sv\",\"profileInfo\":\"profileshow_profileInfo__2Zyby\",\"followerBlock\":\"profileshow_followerBlock__2p4FZ\",\"followerInfo\":\"profileshow_followerInfo__3vMTI\",\"block\":\"profileshow_block__2IqbF\",\"profileName\":\"profileshow_profileName__2wsYy\",\"profileWords\":\"profileshow_profileWords__3YmUb\",\"friendModelWrap\":\"profileshow_friendModelWrap__2sz17\",\"friendTopModal\":\"profileshow_friendTopModal__3P53F\",\"friendButtonModal\":\"profileshow_friendButtonModal__3pygN\",\"requestModelWrap\":\"profileshow_requestModelWrap__M-e1T\",\"requestTopModal\":\"profileshow_requestTopModal__19oOn\",\"requestButtonModal\":\"profileshow_requestButtonModal__2PfH_\",\"requestToggle\":\"profileshow_requestToggle__1ouGs\",\"guide\":\"profileshow_guide__15noR\",\"requestStateChoose\":\"profileshow_requestStateChoose__31yV6\",\"requestStateNone\":\"profileshow_requestStateNone__3DIRZ\",\"separater\":\"profileshow_separater__3mko0\",\"relationshipButton\":\"profileshow_relationshipButton__1WC9_\",\"relationshipWaiting\":\"profileshow_relationshipWaiting__3SBFG\",\"decideButtonVag\":\"profileshow_decideButtonVag__DfK1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"post_loading__3mILh\",\"wrap\":\"post_wrap__39DDk\",\"postWrap\":\"post_postWrap__2yJId\",\"noPostWrap\":\"post_noPostWrap__2glCV\",\"noPostGuide\":\"post_noPostGuide__2YZIj\",\"form\":\"post_form__11eap\",\"commentInput\":\"post_commentInput__2Jpy9\",\"post\":\"post_post__d7Chd\",\"postHeader\":\"post_postHeader__1Jf5l\",\"new\":\"post_new__3BR51\",\"nocursor\":\"post_nocursor__DjZAQ\",\"postProfileImage\":\"post_postProfileImage__3UA5A\",\"postIssuerName\":\"post_postIssuerName__1CBWS\",\"authorPic\":\"post_authorPic__tUThV\",\"postIssuerNameWelcome\":\"post_postIssuerNameWelcome__2vDCi\",\"picContainerUpload\":\"post_picContainerUpload__P0GQg\",\"picContainer\":\"post_picContainer__c2y9_\",\"photo\":\"post_photo__34dts\",\"picOverlay\":\"post_picOverlay__17vyZ\",\"content\":\"post_content__1Pzdk\",\"postInteraction\":\"post_postInteraction__1NvPr\",\"postLikeCount\":\"post_postLikeCount__7T4OF\",\"postTag\":\"post_postTag__2IYby\",\"postComments\":\"post_postComments__t9bzx\",\"separater\":\"post_separater__3xgvC\",\"editPostBar\":\"post_editPostBar__2JT8v\",\"title\":\"post_title__Ee8_B\",\"contentDiv\":\"post_contentDiv__37BA5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modelWrap\":\"editpostpopup_modelWrap__e_mkk\",\"topModel\":\"editpostpopup_topModel__222h2\",\"space\":\"editpostpopup_space__Wi662\",\"separater\":\"editpostpopup_separater__2qsmh\",\"buttonModal\":\"editpostpopup_buttonModal__3eU4t\",\"leftModel\":\"editpostpopup_leftModel__sOMI9\",\"rightModel\":\"editpostpopup_rightModel__3er-m\",\"postMsg\":\"editpostpopup_postMsg__3WBoy\",\"postTime\":\"editpostpopup_postTime__SF4KL\",\"cancelButton\":\"editpostpopup_cancelButton__3inyL\",\"cancelButtonImg\":\"editpostpopup_cancelButtonImg__1KQiC\",\"deleteBlockSubTitle\":\"editpostpopup_deleteBlockSubTitle__uOqU0\",\"decideBlock\":\"editpostpopup_decideBlock__3T1T3\",\"labeluploadPic\":\"editpostpopup_labeluploadPic__UrIr2\",\"uploadButton\":\"editpostpopup_uploadButton__2w-i7\",\"decideButton\":\"editpostpopup_decideButton__2jLFh\",\"postPopupRightModel\":\"editpostpopup_postPopupRightModel__2_aAx\",\"decideBlockMsg\":\"editpostpopup_decideBlockMsg__2uC42\",\"postMsgInput\":\"editpostpopup_postMsgInput__1zEAQ\",\"postSearch\":\"editpostpopup_postSearch__LYbHp\",\"searchButtonBlock\":\"editpostpopup_searchButtonBlock__2zo72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"msgPopWrap\":\"msgPopWrap_msgPopWrap__ZUPqi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"storybar_loading__v2wY3\",\"wrap\":\"storybar_wrap__2Mats\",\"storyBarWrap\":\"storybar_storyBarWrap__1Lz4Y\",\"barleftarrow\":\"storybar_barleftarrow__2Bowv\",\"barrightarrow\":\"storybar_barrightarrow__2mwu_\",\"storyCircleWrap\":\"storybar_storyCircleWrap__360Ij\",\"storyCircleContain\":\"storybar_storyCircleContain__26dTN\",\"storyBlock\":\"storybar_storyBlock__3Hpaz\",\"story\":\"storybar_story__3QWw7\",\"storyDeleteCross\":\"storybar_storyDeleteCross__2kfjE\",\"storyCircle\":\"storybar_storyCircle__35Gff\",\"storyCirclePlus\":\"storybar_storyCirclePlus__3irDM\",\"storyName\":\"storybar_storyName__3WDRb\",\"storyEditBar\":\"storybar_storyEditBar__3-zW2\",\"storyBlockWrap\":\"storybar_storyBlockWrap__2_Pxp\",\"rightarrow\":\"storybar_rightarrow__1enTd\",\"leftarrow\":\"storybar_leftarrow__3NcEN\",\"storyEdit\":\"storybar_storyEdit__4vAEs\",\"cancelStory\":\"storybar_cancelStory__3sKwf\",\"deleteStory\":\"storybar_deleteStory__vOrl1\",\"noPostUpload\":\"storybar_noPostUpload__164Av\",\"noPostGuide\":\"storybar_noPostGuide__3QIwd\"};","export const RECIEVED_USER = 'RECIEVED_USER';\nexport const RECEIVED_PROFILE = 'RECEIVED_PROFILE';\nexport const ADD_POST = 'ADD_POST';\nexport const EDIT_POST = 'EDIT_POST';\nexport const DELETE_POST = 'DELETE_POST';\nexport const RECIEVED_POSTS = 'RECIEVED_POSTS';\nexport const TOGGLE_LIKE_POST = 'TOGGLE_LIKE_POST';\nexport const RECEIVED_COMMENT = 'RECEIVED_COMMENT';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const TOGGLE_Comment_Like = 'TOGGLE_Comment_Like';\nexport const ADD_POST_COMMENT = 'ADD_POST_COMMENT';\nexport const EDIT_POST_COMMENT = 'EDIT_POST_COMMENT';\nexport const DELETE_POST_COMMENT = 'DELETE_POST_COMMENT';\nexport const TOGGLE_POST_Comment_Like = 'TOGGLE_POST_Comment_Like';\nexport const RECIEVED_TAGS = 'RECIEVED_TAGS';\nexport const UPDATE_TAG = 'UPDATE_TAG';\nexport const ADD_TAG = 'ADD_TAG';\nexport const SEARCH_TAGS = 'SEARCH_TAGS';\nexport const NOSEARCH_TAGS = 'NOSEARCH_TAGS';\nexport const RECIEVED_STORIES = 'RECIEVED_STORIES';\nexport const RECIEVED_MASTERPOSTS = 'RECIEVED_MASTERPOSTS';\nexport const ADD_STORY = 'ADD_STORY';\nexport const DELETE_STORY = 'DELETE_STORY';\nexport const EDIT_STORY = 'EDIT_STORY';\nexport const RECIEVING_LOADING = 'RECIEVING_LOADING';\nexport const RECEIVED_WELCOMEPOSTS = 'RECEIVED_WELCOMEPOSTS';\nexport const RECEIVED_RELATIONSHIP = 'RECEIVED_RELATIONSHIP';\nexport const SEND_FRIEND_REQUEST = 'SEND_FRIEND_REQUEST';\nexport const ACCEPT_FRIEND_REQUEST = 'ACCEPT_FRIEND_REQUEST';\nexport const UNFRIEND = 'UNFRIEND';\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport { firebaseConfig } from './firebaseConfig';\n\n//initialize firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\nexport const auth = firebase.auth();\nexport const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport default firebase;\n","export const firebaseConfig = {\n    apiKey: 'AIzaSyBVZWdJJwPkKS_EMsJ_DJEz8KueVp1yFio',\n    authDomain: 'c-est-la-vie-data.firebaseapp.com',\n    databaseURL: 'https://c-est-la-vie-data.firebaseio.com',\n    projectId: 'c-est-la-vie-data',\n    storageBucket: 'c-est-la-vie-data.appspot.com',\n    messagingSenderId: '123383218156',\n    appId: '1:123383218156:web:49824064c7747053a5cac9',\n    measurementId: 'G-4FL2KGWYV7',\n  };","import firebase from '../firebase';\n\nconst uploadImage = (image, dest, callback) => {\n  var file = image;\n  // Create the file metadata\n  var metadata = {\n    contentType: 'image/jpeg', // #TODO: shouldn't hard code it, please fix.\n  };\n  var storageRef = firebase.storage().ref();\n  var uploadTask = storageRef.child(dest).put(file, metadata);\n  uploadTask.on(\n    firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n    function (snapshot) {\n      var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case firebase.storage.TaskState.PAUSED: // or 'paused'\n          console.log('Upload is paused');\n          break;\n        case firebase.storage.TaskState.RUNNING: // or 'running'\n          console.log('Upload is running');\n          break;\n      }\n    },\n    function (error) {\n      switch (error.code) {\n        case 'storage/unauthorized':\n          break;\n        case 'storage/canceled':\n          break;\n        case 'storage/unknown':\n          break;\n      }\n    },\n    function () {\n      uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        callback(downloadURL);\n      });\n    },\n  );\n};\n\nexport default uploadImage;\n","import { nanoid } from 'nanoid';\nimport { UPDATE_TAG, ADD_TAG } from '../redux/actionTypes';\nimport { db } from '../firebase';\n\nexport const tagProcess = (newTag, tagpostID) => (dispatch, getState) => {\n  const { tags } = getState();\n  const ref = db.collection('Tag').doc(newTag.value);\n  //tag array\n  let tagID = [];\n  tags.map((tag) => {\n    tagID.push(tag.value);\n  });\n\n  //如果有該tag了，新增tag的postID array\n  if (tagID.includes(newTag.value)) {\n    let updateTag = tags.find((tag) => tag.value === newTag.value);\n    let updateTagpostID = updateTag.postID;\n    updateTagpostID.push(tagpostID);\n\n    dispatch({\n      type: UPDATE_TAG,\n      payload: { tags },\n    });\n    //更新 firebase postID array\n    const ref = db.collection('Tag').doc(newTag.value);\n    ref.update({\n      postID: updateTagpostID,\n    });\n  } else {\n    //如果沒有該tag，新增新的state data 進tag state\n    const tagData = {\n      postID: [tagpostID],\n      label: newTag.label,\n      value: newTag.value,\n    };\n\n    dispatch({\n      type: ADD_TAG,\n      payload: { tagData },\n    });\n\n    //新增新的文件，文件名是tagValue\n    const ref = db.collection('Tag').doc(newTag.value);\n    ref.set(tagData).then(() => {});\n  }\n};\n","export default function formatPost(post) {\n  if (post && typeof post.postTime !== 'string') {\n    const date = post.postTime.toDate();\n    const shortTime = date.toDateString();\n    post.postTime = shortTime;\n  }\n}\n","import { nanoid } from 'nanoid';\nimport {\n  ADD_POST,\n  EDIT_POST,\n  DELETE_POST,\n  RECIEVED_POSTS,\n  TOGGLE_LIKE_POST,\n  TOGGLE_Comment_Like,\n  TOGGLE_POST_Comment_Like,\n  RECIEVING_LOADING,\n  RECEIVED_WELCOMEPOSTS,\n} from '../actionTypes';\nimport uploadImage from '../../utils/imageUpload';\nimport { tagProcess } from '../../utils/tagProcess';\nimport firebase, { db } from '../../firebase';\nimport formatPost from '../../utils/formatPost';\n\nexport const fetchPosts = (lastVisible, lastSnap, setLastSnap) => (dispatch, getState) => {\n  const { posts } = getState();\n  if (lastVisible === 0) {\n    const postsList = [];\n    db.collection('Post')\n      .orderBy('postTime', 'desc')\n      //get 10 post at first fetch\n      .limit(10)\n      .get()\n      .then((snap) => {\n        snap.forEach((post) => {\n          const postData = {\n            postID: post.id,\n            postImage: post.data().postImage,\n            postIssuer: post.data().postIssuer,\n            postMessage: post.data().postMessage,\n            postTag: post.data().postTag,\n            postLikes: post.data().postLikes || [],\n            postTime: post.data().postTime,\n          };\n          formatPost(postData);\n          postsList.push(postData);\n        });\n        setLastSnap(snap.docs[9]);\n      })\n      .then(() => {\n        dispatch({\n          type: RECIEVED_POSTS,\n          payload: { postsList },\n        });\n      })\n      .then(() => {\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  } else if (lastSnap) {\n    let postsList = [...posts];\n    db.collection('Post')\n      .orderBy('postTime', 'desc')\n      .startAfter(lastSnap)\n      //get 10 post at the following fetch\n      .limit(10)\n      .get()\n      .then((snap) => {\n        snap.forEach((post) => {\n          const postData = {\n            postID: post.id,\n            postImage: post.data().postImage,\n            postIssuer: post.data().postIssuer,\n            postMessage: post.data().postMessage,\n            postTag: post.data().postTag,\n            postLikes: post.data().postLikes || [],\n            postTime: post.data().postTime,\n          };\n          formatPost(postData);\n          postsList.push(postData);\n        });\n        setLastSnap(snap.docs[snap.docs.length - 1]);\n      })\n      .then(() => {\n        dispatch({\n          type: RECIEVED_POSTS,\n          payload: { postsList },\n        });\n      })\n      .then(() => {\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  }\n};\n\nexport const addPost = (image, newMsg, newTag) => (dispatch, getState) => {\n  const { user } = getState();\n\n  if (!user) return;\n  uploadImage(image, `Post/postImageLink${image.name}`, (downloadURL) => {\n    const post = {\n      postID: '',\n      postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: downloadURL },\n      postIssuer: {\n        postIssuerID: user.uid,\n        postIssuerImage: user.photoURL,\n        postIssuerName: user.displayName,\n      },\n      postMessage: newMsg,\n      postTag: {\n        postID: '',\n        label: newTag.label,\n        value: newTag.value,\n      },\n      postLikes: [],\n      postTime: firebase.firestore.FieldValue.serverTimestamp(),\n    };\n    const ref = db.collection('Post');\n    ref.add(post).then((docRef) => {\n      post.postID = docRef.id;\n\n      ref\n        .doc(docRef.id)\n        .update({\n          postID: docRef.id,\n        })\n        .then(() => {\n          ref\n            .doc(post.postID)\n            .get()\n            .then((post) => {\n              const postData = post.data();\n              formatPost(postData);\n              dispatch({ type: ADD_POST, payload: { post: postData } });\n              dispatch(tagProcess(newTag, docRef.id));\n            });\n        });\n    });\n  });\n};\n\nexport const editPost = (editPostID, image, imageURL, newMsg, newTag, setIsUploadPopup) => (\n  dispatch,\n  getState,\n) => {\n  const { user } = getState();\n  if (!user) return;\n  let post = {};\n  if (image === null) {\n    post = {\n      postID: editPostID,\n      postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: imageURL },\n      postIssuer: {\n        postIssuerID: user.uid,\n        postIssuerImage: user.photoURL,\n        postIssuerName: user.displayName,\n      },\n      postMessage: newMsg,\n      postTag: {\n        postID: '',\n        label: newTag.label,\n        value: newTag.value,\n      },\n      postLikes: [],\n    };\n    const ref = db.collection('Post').doc(editPostID);\n    ref\n      .update(post)\n      .then(() => {\n        dispatch({ type: EDIT_POST, payload: { post } });\n      })\n      .then(() => {\n        setIsUploadPopup(true);\n      });\n    dispatch(tagProcess(newTag, post.postID));\n  } else {\n    uploadImage(image, `Post/postImageLink${image.name}`, (downloadURL) => {\n      post = {\n        postID: editPostID,\n        postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: downloadURL },\n        postIssuer: {\n          postIssuerID: user.uid,\n          postIssuerImage: user.photoURL,\n          postIssuerName: user.displayName,\n        },\n        postMessage: newMsg,\n        postTag: newTag,\n        postLikes: [],\n      };\n      const ref = db.collection('Post').doc(editPostID);\n      ref.update(post).then(() => {\n        dispatch({ type: EDIT_POST, payload: { post } });\n        dispatch(tagProcess(newTag, post.postID));\n        setIsUploadPopup(true);\n      });\n    });\n  }\n};\n\nexport const deletePost = (deletePost, setisDeletePopupClick) => (dispatch, getState) => {\n  const postID = deletePost.postID;\n  const ref = db.collection('Post');\n  ref\n    .doc(deletePost.postID)\n    .delete()\n    .then(() => {\n      setisDeletePopupClick(false);\n      dispatch({ type: DELETE_POST, payload: { postID } });\n    });\n};\n\nexport const toggleLike = (id, isfrom) => (dispatch, getState) => {\n  const { user } = getState();\n\n  if (!user) return;\n\n  let ref = {};\n  let set = '';\n  let type = '';\n\n  if (isfrom === 'post') {\n    ref = db.collection('Post').doc(id);\n    set = 'postLikes';\n    type = TOGGLE_LIKE_POST;\n  } else if (isfrom === 'comment') {\n    ref = db.collection('Comment').doc(id);\n    set = 'likeIssuerID';\n    type = TOGGLE_Comment_Like;\n  }\n\n  let likeSet = {};\n  return db.runTransaction((transaction) => {\n    return transaction\n      .get(ref)\n      .then((postDoc) => {\n        if (postDoc.exists) {\n          return postDoc;\n        } else return;\n      })\n      .then((postDoc) => {\n        likeSet = new Set(postDoc.data()[set]);\n        if (likeSet.has(user.uid)) {\n          likeSet.delete(user.uid);\n        } else {\n          likeSet.add(user.uid);\n        }\n      })\n      .then(() => {\n        if (isfrom === 'post') {\n          let postLikes = Array.from(likeSet);\n          transaction.update(ref, { postLikes });\n          dispatch({ type: type, payload: { id, postLikes } });\n        } else if (isfrom === 'comment') {\n          let likeIssuerID = Array.from(likeSet);\n          transaction.update(ref, { likeIssuerID });\n          dispatch({ type: TOGGLE_Comment_Like, payload: { id, likeIssuerID } });\n          dispatch({ type: TOGGLE_POST_Comment_Like, payload: { id, likeIssuerID } });\n        }\n      });\n  });\n};\n\nexport const fetchMasterPosts = (paramsID) => (dispatch, getState) => {\n  db.collection('Post')\n    .orderBy('postTime', 'desc')\n    .where('postIssuer.postIssuerID', '==', paramsID)\n    .get()\n    .then((snap) => {\n      const postsList = [];\n      snap.forEach((post) => {\n        const postData = {\n          postID: post.id,\n          postImage: post.data().postImage,\n          postIssuer: post.data().postIssuer,\n          postMessage: post.data().postMessage,\n          postTag: post.data().postTag,\n          postLikes: post.data().postLikes || [],\n          postTime: post.data().postTime,\n        };\n        formatPost(postData);\n        postsList.push(postData);\n      });\n      return postsList;\n    })\n    .then((postsList) => {\n      dispatch({\n        type: RECIEVED_POSTS,\n        payload: { postsList },\n      });\n    })\n    .then(() => {\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n\nexport const fetchWelcomePosts = () => (dispatch) => {\n  const postsList = [];\n  db.collection('Post')\n    .orderBy('postTime', 'desc')\n    .get()\n    .then((snap) => {\n      snap.forEach((post) => {\n        const postData = {\n          postID: post.id,\n          postImage: post.data().postImage,\n          postIssuer: post.data().postIssuer,\n          postMessage: post.data().postMessage,\n          postTag: post.data().postTag,\n          postLikes: post.data().postLikes || [],\n          postTime: post.data().postTime,\n        };\n        if (typeof postData.postTime !== 'string') {\n          let date = postData.postTime.toDate();\n          let shortTime = date.toDateString();\n          postData.postTime = shortTime;\n        }\n        postsList.push(postData);\n      });\n      return postsList;\n    })\n    .then((postsList) => {\n      dispatch({ type: RECEIVED_WELCOMEPOSTS, payload: postsList });\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n","export default __webpack_public_path__ + \"static/media/cancel.5bd7c88e.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../../style/cancelbutton.module.css';\nimport cross from '../../img/cancel.svg';\n\nfunction CancelButton({ onClick }) {\n  return (\n    <div className={styles.cancelWrap} onClick={onClick}>\n      <img className={styles.cancelButtonImg} src={cross} />\n    </div>\n  );\n}\n\nCancelButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default CancelButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport CancelButton from './CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const StyleModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentWrap : styles.contentWrapNone}`}>\n        <div className={styles.postContentDiv}>\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n          {children}\n        </div>\n      </div>\n      <div className={`${show ? styles.postModalDiv : styles.postModalDivNone}`} />\n    </>,\n    document.getElementById('portal'),\n  );\n};\n\nStyleModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport CreatableSelect from 'react-select/creatable';\n\nfunction ChooseTags({ newTag, setNewTag }) {\n  const tags = useSelector((state) => state.tags);\n  const handleChange = (newValue, actionMeta) => {\n    setNewTag(newValue);\n  };\n  const handleInputChange = (inputValue, actionMeta) => {\n    console.group('Input Changed');\n    console.groupEnd();\n  };\n\n  const customStyles = {\n    control: (base, state) => ({\n      ...base,\n      background: ' rgb(250,250,250)',\n      borderRadius: state.isFocused ? '3px 3px 0 0' : 3,\n      borderColor: 'rgb(219,219,219)',\n      borderRadius: '8px',\n      boxShadow: state.isFocused ? null : null,\n      '&:hover': {\n        borderColor: 'rgb(187, 140, 47)',\n      },\n    }),\n    menu: (base) => ({\n      ...base,\n      borderRadius: '5px',\n      marginTop: 0,\n    }),\n    menuList: (base) => ({\n      ...base,\n      padding: 0,\n      maxHeight: '80px',\n    }),\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n    multiValue: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      border: 'none',\n      background: 'rgb(250,250,250)',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n  };\n  let tagHolder;\n  if (newTag) {\n    tagHolder = newTag.value;\n  } else {\n    tagHolder = '#Tag...';\n  }\n\n  return (\n    <>\n      {newTag ? (\n        <CreatableSelect\n          isClearable\n          onChange={handleChange}\n          onInputChange={handleInputChange}\n          options={tags}\n          placeholder={tagHolder}\n          styles={customStyles}\n          value={newTag.value}\n        />\n      ) : (\n        <CreatableSelect\n          isClearable\n          onChange={handleChange}\n          onInputChange={handleInputChange}\n          options={tags}\n          placeholder={tagHolder}\n          styles={customStyles}\n          value='#Tag...'\n        />\n      )}\n    </>\n  );\n}\n\nChooseTags.propTypes = {\n  setNewTag: PropTypes.func.isRequired,\n  newTag: PropTypes.object,\n};\n\nexport default ChooseTags;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toggleLike } from '../../redux/actions/postAction';\nimport '../../style/heart.css';\n\nfunction Heart({ id, likes, isfrom, popup }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const isLiked = user ? likes.includes(user.uid) : false;\n  const heartRef = React.useRef(null);\n  const heartClick = () => {\n    if (isLiked) {\n      heartRef.current.className = ' HeartAnimation';\n    } else {\n      heartRef.current.className = ' HeartAnimation animate';\n    }\n  };\n\n  return (\n    <>\n      {isLiked ? (\n        <div\n          className='HeartAnimation animate'\n          ref={heartRef}\n          onClick={() => {\n            dispatch(toggleLike(id, isfrom));\n            heartClick();\n          }}></div>\n      ) : (\n        <div\n          className='HeartAnimation'\n          ref={heartRef}\n          onClick={() => {\n            dispatch(toggleLike(id, isfrom));\n            heartClick();\n          }}></div>\n      )}\n    </>\n  );\n}\n\nHeart.propTypes = {\n  id: PropTypes.string.isRequired,\n  likes: PropTypes.array.isRequired,\n  isfrom: PropTypes.string.isRequired,\n  popup: PropTypes.bool.isRequired,\n};\n\nexport default Heart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport cross from '../../img/cancel.svg';\nimport styles from '../../style/storybar.module.css';\nimport popupstyles from '../../style/popup.module.css';\n\nexport const MsgPopup = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? popupstyles.msgContentDiv : popupstyles.msgContentDivNone}`}>\n        <div className={styles.cancelStory} onClick={handleClose}>\n          <div className={popupstyles.cancelWrap}>\n            <img style={{ width: '6px', height: '6px' }} src={cross}></img>\n          </div>\n        </div>\n        {children}\n      </div>\n      <div className={`${show ? popupstyles.msgModalDiv : popupstyles.msgModalDivNone}`} />\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nMsgPopup.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Heart from '../post/Heart';\nimport { MsgPopup } from '../common/MsgPopup';\nimport CancelButton from '../common/CancelButton';\nimport { editComment, deleteComment } from '../../redux/actions/commentAction';\nimport styles from '../../style/comment.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction Comment({ comment, setPostComments, postComments }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const { commentIssuer, commentIssuerMessage } = comment;\n  //(div) comment onclick >>isedit true >>從 div 改為 input >>input onchange 改 commentcontent state, onkeydown 觸發 fun 若是 13，(0)改isedit 為false，回div(1)dispatch  edit comment, (2)用commentid 改db,改state >>\n  const [isCommentDeleteClick, setisCommentDeleteClick] = useState(false);\n  const [isCommentEdit, setIsCommentEdit] = useState(false);\n  const [commentContent, setCommentContent] = useState(commentIssuerMessage);\n\n  //edit\n  const keyDownEvent = (e) => {\n    if (e.key === 'Enter') {\n      setIsCommentEdit(false);\n      setCommentContent(commentContent);\n      comment.commentIssuerMessage = commentContent;\n      dispatch(editComment(comment, commentContent));\n    }\n  };\n  useEffect(() => {\n    setCommentContent(comment.commentIssuerMessage);\n  }, [commentIssuerMessage]);\n  return (\n    <>\n      <div className={styles.comment}>\n        <img className={styles.commentImage} src={commentIssuer.commentIssuerImage} />\n        <p>\n          <span className={styles.postIssuerName}>{commentIssuer.commentIssuerName}</span>\n\n          {user.uid === commentIssuer.commentIssuerID && isCommentEdit ? (\n            <input\n              className={styles.commentMsg}\n              value={commentContent}\n              onChange={(e) => {\n                setCommentContent(e.target.value);\n              }}\n              onKeyDown={(e) => {\n                keyDownEvent(e);\n              }}\n            />\n          ) : (\n            <span\n              className={styles.commentMsg}\n              onClick={() => {\n                setIsCommentEdit(true);\n              }}>\n              {commentContent}\n            </span>\n          )}\n        </p>\n        <div className={styles.commentActions}>\n          <div className={styles.commentLike}>\n            <Heart id={comment.commentID} likes={comment.likeIssuerID} isfrom='comment' />\n          </div>\n          {user.uid === commentIssuer.commentIssuerID ? (\n            <CancelButton onClick={() => setisCommentDeleteClick(true)} />\n          ) : (\n            <div className={styles.cancelWrapNone}></div>\n          )}\n        </div>\n      </div>\n      <MsgPopup\n        show={isCommentDeleteClick}\n        handleClose={() => {\n          setisCommentDeleteClick(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Sure to Delete ?</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisCommentDeleteClick(false);\n              }}>\n              Cancel\n            </button>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisCommentDeleteClick(false);\n                dispatch(deleteComment(comment, setPostComments, postComments));\n              }}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.object.isRequired,\n  setPostComments: PropTypes.func.isRequired,\n  postComments: PropTypes.array.isRequired,\n};\n\nexport default Comment;\n","import {\n  RECEIVED_COMMENT,\n  ADD_COMMENT,\n  DELETE_COMMENT,\n  ADD_POST_COMMENT,\n  EDIT_POST_COMMENT,\n  DELETE_POST_COMMENT,\n  RECIEVING_LOADING,\n} from '../actionTypes';\nimport firebase, { db } from '../../firebase';\n\nexport const fetchComments = (clickPostID, lastSnap, setLastSnap, lastVisible) => (\n  dispatch,\n  getState,\n) => {\n  const { comments } = getState();\n  let queryOpen = false;\n  if (lastVisible === 0) {\n    let commentsList = [];\n    db.collection('Comment')\n      .orderBy('commentTime', 'desc')\n      .limit(10)\n      .where('postID', '==', clickPostID)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          commentsList.push(doc.data());\n        });\n        setLastSnap(querySnapshot.docs[9]);\n        queryOpen = true;\n      })\n      .then(() => {\n        dispatch({ type: RECEIVED_COMMENT, payload: { commentsList } });\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  } else if (lastSnap) {\n    let commentsList = [...comments];\n    db.collection('Comment')\n      .orderBy('commentTime', 'desc')\n      .startAfter(lastSnap)\n      .limit(5)\n      .where('postID', '==', clickPostID)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          commentsList.push(doc.data());\n        });\n        setLastSnap(querySnapshot.docs[querySnapshot.docs.length - 1]);\n      })\n      .then(() => {\n        dispatch({ type: RECEIVED_COMMENT, payload: { commentsList } });\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  }\n};\n\nexport const addComment = (postID, newComment) => (dispatch, getState) => {\n  if (!newComment) return;\n  const { user } = getState();\n  if (!user) return;\n  const comment = {\n    commentIssuer: {\n      commentIssuerID: user.uid,\n      commentIssuerImage: user.photoURL,\n      commentIssuerName: user.displayName,\n    },\n    commentIssuerMessage: newComment,\n    likeIssuerID: [],\n    postID: postID,\n    commentID: '',\n    commentTime: firebase.firestore.FieldValue.serverTimestamp(),\n  };\n  const ref = db.collection('Comment');\n  ref.add(comment).then((docRef) => {\n    comment.commentID = docRef.id;\n    dispatch({ type: ADD_POST_COMMENT, payload: { comment } });\n    dispatch({ type: ADD_COMMENT, payload: { comment } });\n    //寫commentID 回firebase\n    ref.doc(docRef.id).update({\n      commentID: docRef.id,\n    });\n  });\n};\n\nexport const editComment = (comment, commentContent) => (dispatch, getState) => {\n  let editedPostComment = [];\n  const ref = db.collection('Comment').doc(comment.commentID);\n  ref\n    .update({\n      commentIssuerMessage: commentContent,\n    })\n    .then(() => {\n      //撈出有編輯的那筆，改那筆\n      const { postcomments } = getState();\n      postcomments.forEach((postComment) => {\n        let newPostComment = { ...postComment };\n        if (postComment.commentID === comment.commentID) {\n          newPostComment.commentIssuerMessage = commentContent;\n        }\n        editedPostComment.push(newPostComment);\n      });\n\n      dispatch({\n        type: EDIT_POST_COMMENT,\n        payload: { editedPostComment },\n      });\n    });\n};\nexport const deleteComment = (comment, setPostComments, postComments) => (dispatch, getState) => {\n  const { comments } = getState();\n  const { postcomments } = getState();\n  let newComments = comments.filter((postComment) => postComment.commentID !== comment.commentID);\n\n  let newPostComments = postcomments.filter(\n    (postComment) => postComment.commentID !== comment.commentID,\n  );\n  dispatch({\n    type: DELETE_COMMENT,\n    payload: { newComments },\n  });\n  dispatch({\n    type: DELETE_POST_COMMENT,\n    payload: { newPostComments },\n  });\n\n  const ref = db.collection('Comment').doc(comment.commentID);\n  ref.delete().then(() => {\n    console.log('delete data successful');\n  });\n};\n","import { React, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addComment } from '../../redux/actions/commentAction';\nimport styles from '../../style/post.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction Commenting({ postID }) {\n  const [newComment, setNewCommment] = useState('');\n  const dispatch = useDispatch();\n\n  return (\n    <form\n      className={styles.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        dispatch(addComment(postID, newComment));\n        setNewCommment('');\n      }}>\n      <input\n        className={styles.commentInput}\n        value={newComment}\n        type='text'\n        id={nanoid()}\n        name='text'\n        autoComplete='off'\n        placeholder='Reply...'\n        onChange={(e) => {\n          setNewCommment(e.target.value);\n        }}></input>\n    </form>\n  );\n}\n\nCommenting.propTypes = {\n  postID: PropTypes.string.isRequired,\n};\n\nexport default Commenting;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Post from '../post/Post';\nimport ChooseTags from './ChooseTags';\nimport { StyleModal } from '../common/PopupModal';\nimport { editPost } from '../../redux/actions/postAction';\nimport styles from '../../style/popup.module.css';\nimport styled from '../../style/editpostpopup.module.css';\n\nfunction EditPostPopup({ editPostID, setisEditClick, isEditClick, setIsUploadPopup }) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const editpost = posts.find((post) => post.postID === editPostID);\n  const [uploadViewStage, setUploadViewStage] = useState(0);\n  const [image, setImage] = useState(null);\n  const [imageURL, setImageURL] = useState(editpost.postImage.postImageLink);\n  const post = {\n    postID: editpost.postID,\n    postImage: {\n      postImageID: editpost.postImage.postImageID,\n      postImageLink: imageURL,\n    },\n    postIssuer: {\n      postIssuerID: editpost.postIssuer.postIssuerID,\n      postIssuerImage: editpost.postIssuer.postIssuerImage,\n      postIssuerName: editpost.postIssuer.postIssuerName,\n    },\n    postMessage: editpost.postMessage,\n    postTag: editpost.postTag,\n    postLikes: editpost.postLikes,\n    postTime: editpost.postTime,\n  };\n\n  const handlePictureChange = (e) => {\n    setImage(e.target.files[0]);\n    const imageURL = URL.createObjectURL(e.target.files[0]);\n    setImageURL(imageURL);\n  };\n\n  const choosePic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Pick the Photo</div>\n        <div className={styled.decideButtonBlock}>\n          <label htmlFor='editPictureButton' className={styles.uploadButton}>\n            Choose\n          </label>\n          <input type='file' id='editPictureButton' onChange={handlePictureChange} />\n          {imageURL && (\n            <button\n              className={styles.decideButton}\n              onClick={(e) => {\n                setUploadViewStage(1);\n                e.stopPropagation();\n              }}>\n              Next\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n  //msg & tag\n  const [newMsg, setNewMsg] = useState(post.postMessage);\n  const [newTag, setNewTag] = useState(post.postTag);\n\n  // Msg\n  const handleMsgChange = (e) => {\n    setNewMsg(e.target.value);\n  };\n\n  const writeMsgTag = (\n    <div className={styled.postPopupRightModel}>\n      <div className={styled.decideBlockMsg}>\n        <textarea\n          className={styled.postMsgInput}\n          type='text'\n          id='postMsg'\n          name='postMsg'\n          cols='20'\n          rows='13'\n          value={newMsg}\n          placeholder={newMsg}\n          onChange={handleMsgChange}></textarea>\n        <div className={styled.searchButtonBlock}>\n          <div className={styled.postSearch}>\n            <ChooseTags newTag={newTag} setNewTag={setNewTag} />\n          </div>\n          <div className={styles.decideButtonWrap}>\n            <button className={styles.decideButton} onClick={() => setUploadViewStage(0)}>\n              Back\n            </button>\n            {newMsg && newTag ? (\n              <button\n                className={styles.decideButton}\n                onClick={() => {\n                  setUploadViewStage(2);\n                }}>\n                Next\n              </button>\n            ) : (\n              <button className={styles.decideButtonVag}> Next</button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const uploadPic = (\n    <div className={styles.rightModel}>\n      <div className={styles.decideBlock}>\n        <div className={styles.blockTitle}>Share your Story!</div>\n        <div className={styled.decideButtonBlock}>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              setUploadViewStage(1);\n              e.stopPropagation();\n            }}>\n            Back\n          </button>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              setIsUploadPopup(true);\n              e.preventDefault();\n              e.stopPropagation();\n              dispatch(editPost(editPostID, image, imageURL, newMsg, newTag, setIsUploadPopup));\n              setisEditClick(false);\n              setImageURL(null);\n              setUploadViewStage(0);\n            }}>\n            Upload\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  let view = '';\n  if (uploadViewStage === 0) {\n    view = choosePic;\n  } else if (uploadViewStage === 1) {\n    view = writeMsgTag;\n  } else if (uploadViewStage === 2) {\n    view = uploadPic;\n  }\n\n  return (\n    <>\n      <StyleModal\n        show={isEditClick}\n        handleClose={() => {\n          setisEditClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}></div>\n          <div className={styled.buttonModal}>\n            <div className={styles.leftModel}>\n              <Post post={post} isFromEdit={true} newTag={newTag} />\n            </div>\n            {view}\n          </div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nEditPostPopup.propTypes = {\n  editPostID: PropTypes.string.isRequired,\n  setisEditClick: PropTypes.func.isRequired,\n  setIsUploadPopup: PropTypes.func.isRequired,\n  isEditClick: PropTypes.bool.isRequired,\n  editStory: PropTypes.string.isRequired,\n  setEditStory: PropTypes.object.isRequired,\n};\n\nexport default EditPostPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../../style/popup.module.css';\n\nexport const BarPopup = ({ handleClose, show, top, right, children }) => {\n  return (\n    <div\n      className={`${show ? styles.editContainerDiv : styles.editContainerDivNone}`}\n      style={{ top: top, right: right }}>\n      <div className={`${show ? styles.editContentDiv : styles.editContentDivNone}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nBarPopup.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  top: PropTypes.string,\n  right: PropTypes.string,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Post from '../post/Post';\nimport { StyleModal } from '../common/PopupModal';\nimport { deletePost } from '../../redux/actions/postAction';\nimport styles from '../../style/popup.module.css';\nimport styled from '../../style/editpostpopup.module.css';\n\nfunction DeletePopup({\n  deletePostID,\n  setisDeletePopupClick,\n  isDeletePopupClick,\n  setIsDeletePopup,\n  setisPostClick,\n}) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const deletepost = posts.find((post) => post.postID === deletePostID);\n\n  return (\n    <StyleModal\n      show={isDeletePopupClick}\n      handleClose={() => {\n        setisDeletePopupClick(false);\n      }}>\n      <div className={styles.modelWrap}>\n        <div className={styles.topModel}></div>\n        <div className={styled.buttonModal}>\n          <div className={styles.leftModel}>\n            {deletepost && <Post post={deletepost} isFromDelete={true} />}\n          </div>\n\n          <div className={styles.rightModel}>\n            <div className={styles.decideBlock} style={{ margin: '0px 0px 50px 0px' }}>\n              <div className={styles.blockTitle}>Think Twice</div>\n              <p className={styled.deleteBlockSubTitle}>Say GoodBye to the Story?</p>\n              <div className={styled.decideButtonBlock}>\n                <button\n                  className={styles.decideButton}\n                  onClick={() => {\n                    setisDeletePopupClick(false);\n                  }}>\n                  Back\n                </button>\n                <button\n                  className={styles.decideButton}\n                  onClick={() => {\n                    dispatch(deletePost(deletepost, setisDeletePopupClick));\n                    setisPostClick(false);\n                    setIsDeletePopup(true);\n                  }}>\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </StyleModal>\n  );\n}\n\nDeletePopup.propTypes = {\n  deletePostID: PropTypes.string.isRequired,\n  setisDeletePopupClick: PropTypes.func.isRequired,\n  setIsDeletePopup: PropTypes.func.isRequired,\n  setisPostClick: PropTypes.func.isRequired,\n  isDeletePopupClick: PropTypes.bool.isRequired,\n};\n\nexport default DeletePopup;\n","export default __webpack_public_path__ + \"static/media/more.73d5af0c.svg\";","import { React, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport EditPostPopup from '../common/EditPostPopup';\nimport { BarPopup } from '../common/BarPopup';\nimport DeletePopup from '../common/DeletePopup';\nimport { MsgPopup } from '../common/MsgPopup';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\nimport more from '../../img/more.svg';\n\nfunction EditPostBar({\n  postID,\n  postIssuerID,\n  clickEdit,\n  setclickEdit,\n  isDeletePopup,\n  setIsDeletePopup,\n  setisPostClick,\n}) {\n  const user = useSelector((state) => state.user);\n  //click edit\n  const [isEditClick, setisEditClick] = useState(false);\n  const [isEditBlockClick, setIsEditBlockClick] = useState(false);\n  const [isDeletePopupClick, setisDeletePopupClick] = useState(false);\n  const [isUploadPopup, setIsUploadPopup] = useState(false);\n  return (\n    <>\n      {isDeletePopup}\n      {user && user.uid === postIssuerID && (\n        <>\n          <div\n            style={{ marginLeft: 'auto', position: 'relative' }}\n            className='editPostBar'\n            onClick={(e) => {\n              e.stopPropagation();\n              setclickEdit(postID);\n              setIsEditBlockClick(!isEditBlockClick);\n            }}>\n            <img src={more} style={{ width: '17px', height: '17px', cursor: 'pointer' }} />\n\n            {postID === clickEdit && (\n              <BarPopup show={isEditBlockClick} top='20px' right='0px'>\n                <div\n                  className='editPost'\n                  onClick={(e) => {\n                    setisEditClick(true);\n                    e.stopPropagation();\n                  }}>\n                  Edit\n                </div>\n                <div\n                  className='deletePost'\n                  onClick={(e) => {\n                    setisDeletePopupClick(true);\n                    e.stopPropagation();\n                  }}>\n                  Delete\n                </div>\n                {isEditClick && (\n                  <EditPostPopup\n                    setisEditClick={setisEditClick}\n                    isEditClick={isEditClick}\n                    editPostID={postID}\n                    setIsUploadPopup={setIsUploadPopup}\n                  />\n                )}\n                {isDeletePopupClick && (\n                  <DeletePopup\n                    setisDeletePopupClick={setisDeletePopupClick}\n                    isDeletePopupClick={isDeletePopupClick}\n                    deletePostID={postID}\n                    setIsDeletePopup={setIsDeletePopup}\n                    setisPostClick={setisPostClick}\n                  />\n                )}\n              </BarPopup>\n            )}\n          </div>\n        </>\n      )}\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isUploadPopup}\n        handleClose={() => {\n          setisUploadPopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsUploadPopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nEditPostBar.propTypes = {\n  postID: PropTypes.string.isRequired,\n  postIssuerID: PropTypes.string.isRequired,\n  setDeletePost: PropTypes.func,\n  setclickEdit: PropTypes.func,\n  setisPostClick: PropTypes.func,\n  clickEdit: PropTypes.string,\n  isDeletePopup: PropTypes.bool,\n  setIsDeletePopup: PropTypes.func,\n};\n\nexport default EditPostBar;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EditPostBar from './EditPostBar';\nimport Comment from './Comment';\nimport { StyleModal } from '../common/PopupModal';\nimport Commenting from './Commenting';\nimport { fetchComments } from '../../redux/actions/commentAction';\nimport styles from '../../style/editpostpopup.module.css';\nimport postblock from '../../style/postblock.module.css';\n\nfunction PostPopup({\n  post,\n  clickPostID,\n  setisPostClick,\n  isPostClick,\n  isDeletePopup,\n  setIsDeletePopup,\n}) {\n  const { postID, postIssuer, postImage, postLikes, postTime, postTag, postMessage } = post;\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const clickpost = posts.find((post) => post.postID === clickPostID);\n  // postComments: 符合post id的\n  const [postComments, setPostComments] = useState([]);\n  const [clickEdit, setclickEdit] = useState('');\n  const [lastSnap, setLastSnap] = useState('');\n  const [lastVisible, setLastVisible] = useState(0);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let commentsList = comments.map((comment) => {\n      if (comment.postID === postID) {\n        return comment;\n      }\n    });\n    setPostComments(commentsList);\n  }, [comments]);\n\n  useEffect(() => {\n    dispatch(fetchComments(clickPostID, lastSnap, setLastSnap, lastVisible));\n  }, [lastVisible]);\n\n  return (\n    <StyleModal\n      show={isPostClick}\n      handleClose={() => {\n        setisPostClick(false);\n      }}>\n      {clickpost && (\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}>\n            <div className={styles.space}></div>\n            <Link\n              to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n              style={{ textDecoration: 'none' }}>\n              <img\n                className={postblock.postProfileImage}\n                src={clickpost.postIssuer.postIssuerImage}></img>\n            </Link>\n\n            <div className={postblock.postProfileName}>{clickpost.postIssuer.postIssuerName}</div>\n\n            {user && user.uid === clickpost.postIssuer.postIssuerID && (\n              <EditPostBar\n                postID={clickPostID}\n                postIssuerID={clickpost.postIssuer.postIssuerID}\n                clickEdit={clickEdit}\n                setclickEdit={setclickEdit}\n                isDeletePopup={isDeletePopup}\n                setIsDeletePopup={setIsDeletePopup}\n                setisPostClick={setisPostClick}\n              />\n            )}\n          </div>\n          <div className={postblock.separater}></div>\n          <div className={styles.buttonModal}>\n            <div className={styles.leftModel} style={{ display: 'block' }}>\n              <div className={postblock.postPictureWrap}>\n                <img className={postblock.postPicture} src={clickpost.postImage.postImageLink} />\n              </div>\n              <div className={postblock.messageBlock}>\n                {postMessage}\n                <br />\n                <br />\n              </div>\n            </div>\n\n            <div className={postblock.rightModel}>\n              <div className={postblock.commentsWrap}>\n                {postComments.length > 0\n                  ? postComments.map((postComment) => {\n                      if (postComment) {\n                        return (\n                          <>\n                            <Comment\n                              key={postComment.commentID}\n                              comment={postComment}\n                              setPostComments={setPostComments}\n                              postComments={postComments}\n                            />\n                          </>\n                        );\n                      }\n                    })\n                  : 'No comments yet!'}\n\n                {postComments.length > 9 ? (\n                  <div\n                    onClick={() => {\n                      let newLast = lastVisible + 5;\n                      setLastVisible(newLast);\n                    }}>\n                    +\n                  </div>\n                ) : (\n                  ''\n                )}\n              </div>\n              {user && (\n                <div className={postblock.commenting}>\n                  <Commenting postID={postID} />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </StyleModal>\n  );\n}\n\nPostPopup.propTypes = {\n  clickPostID: PropTypes.string.isRequired,\n  postID: PropTypes.string.isRequired,\n  setisPostClick: PropTypes.func.isRequired,\n  setIsDeletePopup: PropTypes.func.isRequired,\n  isPostClick: PropTypes.bool.isRequired,\n  clickEdit: PropTypes.bool.isRequired,\n  isDeletePopup: PropTypes.bool.isRequired,\n  post: PropTypes.object.isRequired,\n};\n\nexport default PostPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport CancelButton from '../common/CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const LoginPopup = ({ handleClose, show, children, slideTime }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentDiv : styles.contentWrapNone}`}>\n        {slideTime ? (\n          <div\n            className={styles.close}\n            onClick={() => {\n              slideTime();\n            }}>\n            <CancelButton onClick={handleClose} />\n          </div>\n        ) : (\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n        )}\n        {children}\n      </div>\n\n      <div className={`${show ? styles.modalDiv : styles.modalDivNone}`}></div>\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nLoginPopup.propTypes = {\n  handleClose: PropTypes.func,\n  slideTime: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","export default __webpack_public_path__ + \"static/media/LA_VIE_logo.c8c708c3.png\";","import React from 'react';\nimport styles from '../../style/header.module.css';\nimport logo from '../../img/LA_VIE_logo.png';\n\nfunction Logo() {\n  return (\n    <>\n      <img className={styles.navIcon} src={logo}></img>\n    </>\n  );\n}\n\nexport default Logo;\n","import { RECIEVED_USER } from '../actionTypes';\nimport { db, auth, facebookAuthProvider, googleAuthProvider } from '../../firebase';\n\nexport const login = (provider, setLoginPopup, setisPostClick) => (dispatch) => {\n  let authProvider;\n  if (provider === 'google') {\n    authProvider = googleAuthProvider;\n  } else if (provider === 'facebook') {\n    authProvider = facebookAuthProvider;\n  }\n  auth.signInWithPopup(authProvider).then(async (result) => {\n    setLoginPopup(false);\n    if (setisPostClick) {\n      setisPostClick(false);\n    }\n    if (result) {\n      const { user } = result;\n      let url = user.photoURL;\n      url += '?width=700';\n      db.collection('User')\n        .doc(user.uid)\n        .set(\n          {\n            profileMessage: 'LA VIE',\n            userName: user.displayName,\n            userProfileImage: url,\n          },\n          { merge: true },\n        )\n        .then(() => {\n          // window.location = '/main';\n          localStorage.setItem('User', JSON.stringify(user));\n          dispatch({ type: RECIEVED_USER, payload: { user } });\n        });\n    }\n  });\n};\n\nexport const logout = () => (dispatch) => {\n  auth.signOut();\n  localStorage.clear();\n  dispatch({ type: RECIEVED_USER, payload: { user: null } });\n  window.location = '/';\n};\n","export default __webpack_public_path__ + \"static/media/travel.bbbe0cbb.jpg\";","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Heart from './Heart';\nimport Comment from './Comment';\nimport Commenting from './Commenting';\nimport EditPostBar from './EditPostBar';\nimport PostPopup from './PostPopup';\nimport { LoginPopup } from '../common/LoginPopup';\nimport Logo from '../common/Logo';\nimport '../../style/heart.css';\nimport '../../style/heart.css';\nimport { login } from '../../redux/actions/loginAction';\nimport travel from '../../img/travel.jpg';\nimport headerstyle from '../../style/header.module.css';\nimport styles from '../../style/post.module.css';\nfunction Post({\n  post,\n  newTag,\n  isFromDelete,\n  isFromUpload,\n  isFromEdit,\n  isfromWelcome,\n  clickEdit,\n  setclickEdit,\n  isDeletePopup,\n  setIsDeletePopup,\n}) {\n  const { postID, postIssuer, postImage, postLikes, postTime, postTag, postMessage } = post;\n  const user = useSelector((state) => state.user);\n  const postcomments = useSelector((state) => state.postcomments);\n  const [commentList, setCommentList] = useState([]);\n  const [pleaseLogin, setPleaseLogin] = useState(false);\n  const [isPostClick, setisPostClick] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let newList = postcomments.filter((comment) => comment.postID === postID);\n    setCommentList(newList);\n  }, [postcomments]);\n\n  const checkLogin = () => {\n    if (!user) {\n      setPleaseLogin(!pleaseLogin);\n    }\n  };\n  return (\n    <>\n      <div\n        className={\n          isFromDelete || isFromUpload || isFromEdit\n            ? `${styles.post} ${styles.nocursor}`\n            : styles.post\n        }\n        onClick={() => {\n          checkLogin();\n        }}>\n        <div className={styles.postHeader}>\n          {!isfromWelcome && user ? (\n            <>\n              <div>\n                <Link\n                  to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n                  style={{ textDecoration: 'none', display: 'inline-block' }}>\n                  <img className={styles.postProfileImage} src={postIssuer.postIssuerImage}></img>\n                </Link>\n              </div>\n              <Link\n                to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n                style={{ textDecoration: 'none', marginLeft: '10px' }}>\n                <div className={styles.postIssuerName}>{postIssuer.postIssuerName}</div>\n              </Link>\n            </>\n          ) : (\n            <>\n              <div\n                onClick={() => {\n                  setisPostClick(true);\n                }}>\n                <img className={styles.postProfileImage} src={postIssuer.postIssuerImage}></img>\n              </div>\n              <div\n                className={styles.postIssuerNameWelcome}\n                onClick={() => {\n                  setisPostClick(true);\n                }}>\n                {postIssuer.postIssuerName}\n              </div>\n            </>\n          )}\n          {!isFromDelete && !isFromUpload && !isfromWelcome && !isFromEdit && (\n            <EditPostBar\n              postID={postID}\n              postIssuerID={postIssuer.postIssuerID}\n              clickEdit={clickEdit}\n              setclickEdit={setclickEdit}\n              isDeletePopup={isDeletePopup}\n              setIsDeletePopup={setIsDeletePopup}\n              setisPostClick={setisPostClick}\n            />\n          )}\n        </div>\n        <div className={styles.authorPic}>\n          {!isFromUpload && !isFromEdit && (\n            <div\n              className={styles.picOverlay}\n              onClick={() => {\n                setisPostClick(true);\n              }}>\n              <div className={styles.content}>\n                <div className={styles.textspan}>{postMessage}</div>\n              </div>\n            </div>\n          )}\n          <div className={isFromUpload ? styles.picContainerUpload : styles.picContainer}>\n            <img className={styles.photo} src={postImage.postImageLink}></img>\n          </div>\n        </div>\n        <div className={styles.postInteraction}>\n          {isFromDelete || isFromUpload || isfromWelcome || isFromEdit ? (\n            <>\n              <div className='HeartAnimation animate'></div>\n              <div style={{ width: '170px' }}></div>\n              {newTag ? <div>#{newTag.value}</div> : <div>#{postTag.value}</div>}\n            </>\n          ) : (\n            <>\n              <Heart\n                id={postID}\n                likes={postLikes}\n                isfrom='post'\n                popup={isFromDelete || isFromUpload || isfromWelcome || isFromEdit ? '1' : '2'}\n              />\n              {!isfromWelcome && (\n                <>\n                  <div className={styles.postLikeCount}>{postLikes.length}</div>\n                  <div className={styles.postTag}>#{postTag.value}</div>\n                </>\n              )}\n            </>\n          )}\n        </div>\n        <>\n          {isfromWelcome || !user || isFromUpload || isFromEdit || isFromDelete ? (\n            ''\n          ) : (\n            <div\n              className={styles.postComments}\n              onClick={() => {\n                setisPostClick(true);\n              }}>\n              See More\n            </div>\n          )}\n          {user && !isFromDelete && !isFromUpload && !isFromEdit && (\n            <>\n              {commentList.map((comment) => {\n                return <Comment key={comment.commentID} comment={comment} />;\n              })}\n              <div className={styles.separater}></div>\n              <Commenting postID={postID} />\n            </>\n          )}\n        </>\n      </div>\n      {isPostClick && user && !isFromDelete && !isFromUpload && !isFromEdit && !isfromWelcome && (\n        <PostPopup\n          isFromDelete={isFromDelete}\n          isFromUpload={isFromUpload}\n          setisPostClick={setisPostClick}\n          isPostClick={isPostClick}\n          clickPostID={postID}\n          postID={postID}\n          post={post}\n          isDeletePopup={isDeletePopup}\n          setIsDeletePopup={setIsDeletePopup}\n        />\n      )}\n      {!isfromWelcome && (\n        <LoginPopup\n          show={pleaseLogin}\n          handleClose={() => {\n            setPleaseLogin(false);\n          }}>\n          <div className={headerstyle.loginPopContain}>\n            <div className={headerstyle.loginTitle}>\n              <img src={travel} />\n            </div>\n            <div className={headerstyle.loginWrap}>\n              <Logo />\n              <br />\n              <div className={headerstyle.title1}> Share your life in</div>\n              <div className={headerstyle.title2}> LA VIE</div>\n              <br />\n              <br />\n              <div className={headerstyle.text}> Login with</div>\n              <div\n                className={headerstyle.google}\n                onClick={() => dispatch(login('google', setPleaseLogin, setisPostClick))}>\n                Google Login\n              </div>\n              <div className={headerstyle.text}> OR</div>\n              <div\n                className={headerstyle.facebook}\n                onClick={() => dispatch(login('facebook', setPleaseLogin, setisPostClick))}>\n                Facebook Login\n              </div>\n            </div>\n          </div>\n        </LoginPopup>\n      )}\n    </>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    postID: PropTypes.string,\n    postTime: PropTypes.object,\n    postMessage: PropTypes.string,\n    postTag: PropTypes.object,\n    postImage: PropTypes.shape({\n      postImageLink: PropTypes.string,\n    }),\n    postIssuer: PropTypes.shape({\n      postIssuerID: PropTypes.string,\n      postIssuerName: PropTypes.string,\n      postIssuerImage: PropTypes.string,\n    }),\n    postLikes: PropTypes.array,\n  }),\n  setDeletePost: PropTypes.func,\n  setclickEdit: PropTypes.func,\n  setIsDeletePopup: PropTypes.func,\n  isFromDelete: PropTypes.bool,\n  isFromUpload: PropTypes.bool,\n  isFromEdit: PropTypes.bool,\n  isfromWelcome: PropTypes.bool,\n  isDeletePopup: PropTypes.bool,\n  clickEdit: PropTypes.string,\n  newTag: PropTypes.object,\n};\n\nexport default Post;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addPost } from '../../redux/actions/postAction';\nimport { StyleModal } from './PopupModal';\nimport ChooseTags from './ChooseTags';\nimport Post from '../post/Post';\nimport styled from '../../style/editpostpopup.module.css';\nimport styles from '../../style/popup.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction UploadPostBlock({ setisUploadPopupClick, isUploadPopupClick, setIsNewPostConfirm }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const [uploadViewStage, setUploadViewStage] = useState(0);\n  const [image, setImage] = useState(null);\n  const [imageURL, setImageURL] = useState(null);\n\n  const post = {\n    postID: 'postID' + nanoid(),\n    postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: imageURL },\n    postIssuer: {\n      postIssuerID: user.uid,\n      postIssuerImage: user.photoURL,\n      postIssuerName: user.displayName,\n    },\n    postMessage: '',\n    postTag: 'YourTag',\n    postLikes: [],\n  };\n\n  const handlePictureChange = (e) => {\n    setImage(e.target.files[0]);\n    const imageURL = URL.createObjectURL(e.target.files[0]);\n    setImageURL(imageURL);\n  };\n\n  const uploadPicID = nanoid();\n  const choosePic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Pick the Photo</div>\n        <div className={styled.decideButtonBlock}>\n          <label htmlFor={uploadPicID} className={styles.uploadButton}>\n            Choose\n          </label>\n          <input type='file' id={uploadPicID} onChange={handlePictureChange} />\n\n          {imageURL ? (\n            <button\n              className={styles.decideButton}\n              onClick={() => {\n                setUploadViewStage(1);\n              }}>\n              Next\n            </button>\n          ) : (\n            <button className={styles.decideButtonVag}> Next</button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  //msg & tag\n  const [newMsg, setNewMsg] = useState('');\n  const [newTag, setNewTag] = useState(null);\n  // Msg\n  const handleMsgChange = (e) => {\n    setNewMsg(e.target.value);\n  };\n\n  const writeMsgTag = (\n    <div className={styled.postPopupRightModel}>\n      <div className={styled.decideBlockMsg}>\n        <textarea\n          className={styled.postMsgInput}\n          type='text'\n          id='postMsg'\n          name='postMsg'\n          cols='20'\n          rows='13'\n          value={newMsg}\n          placeholder='This is my Fashion Declare!'\n          onChange={handleMsgChange}></textarea>\n        <div className={styled.searchButtonBlock}>\n          <div className={styled.postSearch}>\n            <ChooseTags newTag={newTag} setNewTag={setNewTag} />\n          </div>\n          <div className={styles.decideButtonWrap}>\n            <button className={styles.decideButton} onClick={() => setUploadViewStage(0)}>\n              Back\n            </button>\n            {newMsg && newTag ? (\n              <button\n                className={styles.decideButton}\n                onClick={(e) => {\n                  setUploadViewStage(2);\n                  e.stopPropagation();\n                }}>\n                Next\n              </button>\n            ) : (\n              <button className={styles.decideButtonVag}> Next</button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  //最終上傳\n  const uploadPic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Share your Story!</div>\n        <div className={styled.decideButtonBlock}>\n          <button className={styles.decideButton} onClick={() => setUploadViewStage(1)}>\n            Back\n          </button>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              e.preventDefault();\n              dispatch(addPost(image, newMsg, newTag));\n              setisUploadPopupClick(false);\n              setUploadViewStage(0);\n              setIsNewPostConfirm(true);\n              setImage(null);\n              setImageURL(null);\n              setNewMsg('');\n              setNewTag(null);\n              setUploadViewStage(0);\n            }}>\n            Upload\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  let view = '';\n  if (uploadViewStage === 0) {\n    view = choosePic;\n  } else if (uploadViewStage === 1) {\n    view = writeMsgTag;\n  } else if (uploadViewStage === 2) {\n    view = uploadPic;\n  }\n  return (\n    <>\n      <StyleModal\n        show={isUploadPopupClick}\n        handleClose={() => {\n          setisUploadPopupClick(false);\n          setImage(null);\n          setImageURL(null);\n          setNewMsg('');\n          setNewTag(null);\n          setUploadViewStage(0);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}></div>\n          <div className={styles.buttonModal}>\n            <div className={styles.leftModel}>\n              <Post post={post} isFromUpload={true} newTag={newTag} />\n            </div>\n            {view}\n          </div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nUploadPostBlock.propTypes = {\n  isUploadPopupClick: PropTypes.bool.isRequired,\n  setisUploadPopupClick: PropTypes.func.isRequired,\n  setIsNewPostConfirm: PropTypes.func.isRequired,\n};\n\nexport default UploadPostBlock;\n","export default __webpack_public_path__ + \"static/media/plusIcon.8a20f873.png\";","import React, { useState } from 'react';\nimport UploadPostBlock from './UploadPostBlock';\nimport { MsgPopup } from './MsgPopup';\nimport styled from '../../style/popup.module.css';\nimport styles from '../../style/header.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\nimport plus from '../../img/plusIcon.png';\n\nfunction UploadPostButton() {\n  const [isUploadPopupClick, setisUploadPopupClick] = useState(false);\n  //for new post\n  const [isNewPostConfirm, setIsNewPostConfirm] = useState(false);\n  return (\n    <>\n      <div\n        className={styles.navIcon}\n        onClick={() => {\n          setisUploadPopupClick(true);\n        }}>\n        <img className={styles.storyCirclePlus} src={plus} />\n      </div>\n      <UploadPostBlock\n        setisUploadPopupClick={setisUploadPopupClick}\n        isUploadPopupClick={isUploadPopupClick}\n        setIsNewPostConfirm={setIsNewPostConfirm}\n      />\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isNewPostConfirm}\n        handleClose={() => {\n          setIsNewPostConfirm(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Upload Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsNewPostConfirm(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nexport default UploadPostButton;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport ChatMessage from './ChatMessage';\nimport firebase, { auth } from '../../firebase';\nimport '../../style/chatroom.css';\nimport styles from '../../style/chatroom.module.css';\n\nfunction ChatRoom() {\n  const dummy = React.useRef();\n  const db = firebase.firestore();\n  const messagesRef = db.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  const user = useSelector((state) => state.user);\n  const [messages] = useCollectionData(query, { idField: 'id' });\n  const [formValue, setFormValue] = useState('');\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n\n    const { uid, photoURL } = auth.currentUser;\n\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL,\n    });\n\n    setFormValue('');\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <>\n      <div className={styles.chatRoomWrap}>\n        {messages && messages.map((msg) => <ChatMessage key={msg.id} message={msg} />)}\n        <span ref={dummy}></span>\n\n        <form onSubmit={sendMessage}>\n          <input\n            value={formValue}\n            onChange={(e) => setFormValue(e.target.value)}\n            placeholder='say something nice'\n          />\n          1234567\n          <button type='submit' disabled={!formValue}></button>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default ChatRoom;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SEARCH_TAGS, NOSEARCH_TAGS } from '../../redux/actionTypes';\nimport CreatableSelect from 'react-select/creatable';\nimport Select from 'react-select';\nimport styles from '../../style/header.module.css';\n\nfunction SearchTags() {\n  const dispatch = useDispatch();\n  const tags = useSelector((state) => state.tags);\n  const [isWindowSmall, setIsWindowSmall] = useState(false);\n  useEffect(() => {\n    if (window.innerWidth <= 425) {\n      setIsWindowSmall(true);\n    }\n  }, [dispatch]);\n\n  const handleChange = (newValue, actionMeta) => {\n    if (!newValue) {\n      dispatch({ type: NOSEARCH_TAGS });\n    } else {\n      dispatch({ type: SEARCH_TAGS, payload: { newValue } });\n    }\n  };\n  const handleChangeSingle = (value, actionMeta) => {\n    console.group('Value Changed');\n    let newValue = [];\n    newValue.push(value);\n    if (!newValue) {\n      dispatch({ type: NOSEARCH_TAGS });\n    } else {\n      dispatch({ type: SEARCH_TAGS, payload: { newValue } });\n    }\n  };\n\n  const customStyles = {\n    control: (base, state) => ({\n      ...base,\n      background: ' rgb(250,250,250)',\n      borderRadius: state.isFocused ? '3px 3px 0 0' : 3,\n      borderColor: ' rgb(219,219,219)',\n      borderRadius: '8px',\n      boxShadow: state.isFocused ? null : null,\n      '&:hover': {\n        borderColor: 'rgb(187, 140, 47)',\n      },\n    }),\n    menu: (base) => ({\n      ...base,\n      borderRadius: '5px',\n      marginTop: 0,\n      zIndex: '10000',\n    }),\n    menuList: (base) => ({\n      ...base,\n      padding: 0,\n      zIndex: '10000',\n    }),\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n    multiValue: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      border: 'none',\n      background: 'rgb(250,250,250)',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n  };\n\n  return (\n    <div className={styles.search} styles={{ zIndex: '10000' }}>\n      {isWindowSmall ? (\n        <Select\n          onChange={handleChangeSingle}\n          options={tags}\n          placeholder={'Find Post.....'}\n          styles={customStyles}\n        />\n      ) : (\n        <CreatableSelect\n          isMulti\n          onChange={handleChange}\n          options={tags}\n          placeholder={'Find Post...'}\n          styles={customStyles}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default SearchTags;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport styles from '../../style/header.module.css';\n\nfunction ProfileImage() {\n  const user = useSelector((state) => state.user);\n\n  return (\n    <>\n      {user ? (\n        <img className={styles.navIcon} src={user.photoURL}></img>\n      ) : (\n        <img className={styles.navIcon}></img>\n      )}\n    </>\n  );\n}\n\nexport default ProfileImage;\n","export default __webpack_public_path__ + \"static/media/downarrow.538e818f.svg\";","import { React, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport UploadPostButton from '../common/UploadPostButton';\nimport { BarPopup } from '../common/BarPopup';\nimport Logo from '../common/Logo';\nimport ChatRoom from '../chat/ChatRoom';\nimport SearchTags from '../common/SearchTags';\nimport { LoginPopup } from '../common/LoginPopup';\nimport ProfileImage from '../header/ProfileImage';\nimport { login, logout } from '../../redux/actions/loginAction';\nimport arrow from '../../img/downarrow.svg';\nimport styles from '../../style/header.module.css';\nimport '../../style/header.module.css';\nimport travel from '../../img/travel.jpg';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const [isProfileToggleClick, setisProfileToggleClick] = useState(false);\n  const [loginPopup, setLoginPopup] = useState(false);\n  const history = useHistory();\n  const [isChatRoomOpen, setIsChatRoomOpen] = useState(false);\n  return (\n    <>\n      <div className={styles.headerWrap}>\n        <nav>\n          <div className={styles.navWrap}>\n            <div style={{ border: 'none' }}>\n              {user ? (\n                <Link to='/main'>\n                  <Logo />\n                </Link>\n              ) : (\n                <Link to='/'>\n                  <Logo />\n                </Link>\n              )}\n            </div>\n            {history.location.pathname === '/' ? (\n              <div className={styles.search} styles={{ zIndex: '10000' }}></div>\n            ) : (\n              <SearchTags />\n            )}\n            {user ? (\n              <>\n                <Link\n                  to={{\n                    pathname: '/chatroom',\n                    search: `?id=${user.uid}`,\n                  }}>\n                  {/* <h1>⚛️🔥💬</h1> */}\n                </Link>\n\n                <UploadPostButton />\n                {/* 頭貼 */}\n\n                <Link\n                  to={{\n                    pathname: '/profile',\n                    search: `?id=${user.uid}`,\n                  }}>\n                  <ProfileImage />\n                </Link>\n                <img\n                  className={styles.downarrow}\n                  src={arrow}\n                  onClick={() => {\n                    setisProfileToggleClick(!isProfileToggleClick);\n                  }}></img>\n\n                {isProfileToggleClick ? (\n                  <BarPopup\n                    show={isProfileToggleClick}\n                    top='75px'\n                    right='0px'\n                    handleClose={() => {\n                      setisProfileToggleClick(!isProfileToggleClick);\n                    }}>\n                    <div\n                      className='deletePost'\n                      onClick={() => {\n                        dispatch(logout());\n                      }}>\n                      LogOut\n                    </div>\n                  </BarPopup>\n                ) : (\n                  ''\n                )}\n              </>\n            ) : (\n              <>\n                <div className={styles.button} onClick={() => setLoginPopup(true)}>\n                  Login\n                </div>\n                <Link to='/main' style={{ textDecoration: 'none' }}>\n                  <div className={styles.button}>Visit</div>\n                </Link>\n              </>\n            )}\n          </div>\n        </nav>\n      </div>\n      <div style={{ width: '100%', height: '130px' }}></div>\n      <LoginPopup\n        show={loginPopup}\n        handleClose={() => {\n          setLoginPopup(false);\n        }}>\n        <div className={styles.loginPopContain}>\n          <div className={styles.loginTitle}>\n            <img src={travel}></img>\n          </div>\n          <div className={styles.loginWrap}>\n            <Logo />\n            <br />\n            <div className={styles.title1}> Share your life in</div>\n            <div className={styles.title2}> LA VIE</div>\n            <br />\n            <br />\n            <div className={styles.text}> Login with</div>\n            <div className={styles.google} onClick={() => dispatch(login('google', setLoginPopup))}>\n              Google Login\n            </div>\n\n            <div className={styles.text}> OR</div>\n            <div\n              className={styles.facebook}\n              onClick={() => dispatch(login('facebook', setLoginPopup))}>\n              Facebook Login\n            </div>\n          </div>\n        </div>\n      </LoginPopup>\n      {/* {isChatRoomOpen && <ChatRoom />} */}\n    </>\n  );\n};\n\nHeader.propTypes = {\n  handlePictureChange: PropTypes.func,\n  handleUploadPic: PropTypes.func,\n  uploadPic: PropTypes.func,\n  setCurrentUser: PropTypes.func,\n  currentUser: PropTypes.object,\n};\n\nexport default Header;\n","import { React } from 'react';\nimport Logo from './Logo';\nimport '../../style/loading.css';\n\nfunction Loading() {\n  return (\n    <div className='loading'>\n      Loading...\n      <br />\n      <br />\n      <Logo />\n    </div>\n  );\n}\n\nexport default Loading;\n","import { RECIEVED_TAGS } from '../actionTypes';\nimport { db } from '../../firebase';\n\nexport const receiveTags = () => (dispatch) => {\n  const tags = [];\n  db.collection('Tag')\n    .get()\n    .then((snap) => {\n      snap.forEach((tag) => {\n        const tagData = {\n          postID: tag.data().postID,\n          label: tag.data().label,\n          value: tag.data().value,\n        };\n        tags.push(tagData);\n      });\n    })\n    .then(() => {\n      dispatch({\n        type: RECIEVED_TAGS,\n        payload: { tags },\n      });\n    });\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StackGrid from 'react-stack-grid';\nimport Post from './Post';\nimport Loading from '../common/Loading';\nimport { MsgPopup } from '../common/MsgPopup';\nimport { fetchPosts } from '../../redux/actions/postAction';\nimport { receiveTags } from '../../redux/actions/searchAction';\nimport styles from '../../style/post.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction PostList() {\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const searchtags = useSelector((state) => state.searchtags);\n  const [clickEdit, setclickEdit] = useState('');\n  const [lastSnap, setLastSnap] = useState('');\n  const [isDeletePopup, setIsDeletePopup] = useState(false);\n  const [isScrollFetching, setIsScrollFetching] = useState(false);\n  const stakeGridRef = React.useRef(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchPosts(lastVisible.current, lastSnap, setLastSnap));\n    dispatch(receiveTags());\n  }, [dispatch]);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n  const lastVisible = React.useRef(0);\n  const handleScroll = () => {\n    setIsScrollFetching(!isScrollFetching);\n    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    if (winScroll >= height - 40) {\n      let newLast = lastVisible.current + 10;\n      dispatch(fetchPosts(lastVisible.current, lastSnap, setLastSnap));\n      lastVisible.current = newLast;\n    }\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    console.log(document.body.scrollTop);\n  }, []);\n  // infinit scroll\n  useEffect(() => {\n    window.onscroll = () => {\n      handleScroll();\n    };\n  }, [lastSnap]);\n\n  useEffect(() => {\n    if (stakeGridRef.current) {\n      stakeGridRef.current.updateLayout();\n    }\n  }, [comments, posts]);\n\n\n  //search tags\n  let filterTags = [];\n  let filterPosts = [];\n  searchtags.forEach((searchtag) => {\n    filterTags.push(searchtag.value);\n  });\n\n  posts.forEach((post) => {\n    filterTags.forEach((tag) => {\n      if (post.postTag.value === tag) {\n        filterPosts.push(post);\n      }\n    });\n  });\n  if (filterTags.length > 0) {\n  } else {\n    filterPosts = posts;\n  }\n\n  return (\n    <>\n      {loading === false ? (\n        <>\n          <div className={styles.wrap}>\n            <div className={styles.postWrap}>\n              {filterPosts.length > 0 ? (\n                <StackGrid\n                  gridRef={(e) => (stakeGridRef.current = e)}\n                  columnWidth={300}\n                  gutterWidth={30}\n                  gutterHeight={30}\n                  monitorImagesLoaded={true}>\n                  {filterPosts.map((post) => (\n                    <Post\n                      key={post.postID}\n                      post={post}\n                      clickEdit={clickEdit}\n                      setclickEdit={setclickEdit}\n                      isDeletePopup={isDeletePopup}\n                      setIsDeletePopup={setIsDeletePopup}\n                    />\n                  ))}\n                </StackGrid>\n              ) : (\n                <div className={styles.noPostWrap}>\n                  <div className={styles.noPostGuide}>\n                    No post match the search, please adjust the filter.\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className={styles.loading}>\n          <Loading />\n        </div>\n      )}\n\n      {/* DeletePopup */}\n      <MsgPopup\n        show={isDeletePopup}\n        handleClose={() => {\n          setIsDeletePopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Delete Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsDeletePopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nexport default PostList;\n","export const FRIEND = 'FRIEND';\nexport const REQUESTED = 'REQUESTED';\nexport const REQUESTING = 'REQUESTING';\nexport const UNFRIEND = 'UNFRIEND';\nexport const FROMPROFILE = 'FROMPROFILE';\nexport const FROMMASTERPROFILE = 'FROMMASTERPROFILE';\n","import { generatePath } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { RECEIVED_RELATIONSHIP, SEND_FRIEND_REQUEST, ACCEPT_FRIEND_REQUEST } from '../actionTypes';\nimport { db } from '../../firebase';\nimport { UNFRIEND, FRIEND, REQUESTING, FROMPROFILE, FROMMASTERPROFILE } from '../../utils/names';\n\n//state: 以使用者的角色\n//db 上的state : friend,requesting\n//local state: friend, requesting, requested,null\n\nexport const getProfileRelationShip = (paramsID) => (dispatch, getState) => {\n  const { user } = getState();\n  const relationships = [];\n  //get profile request friends list\n  db.collection('RelationShip')\n    .where('requester.uid', '==', paramsID)\n    .get()\n    .then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        relationships.push(doc.data());\n      });\n      //get profile friends request list\n      db.collection('RelationShip')\n        .where('requestee.uid', '==', paramsID)\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            relationships.push(doc.data());\n          });\n          dispatch({ type: RECEIVED_RELATIONSHIP, payload: { relationships } });\n        });\n    });\n};\n\nexport const sendFriendRequest = () => (dispatch, getState) => {\n  const { user } = getState();\n  const { profile } = getState();\n  const relationship = {\n    requester: {\n      uid: user.uid,\n      userName: user.displayName,\n      userProfileImage: user.photoURL,\n    },\n    requestee: {\n      uid: profile.uid,\n      userName: profile.userName,\n      userProfileImage: profile.userProfileImage,\n    },\n    status: REQUESTING,\n    relationshipID: `${user.uid}-${profile.uid}`,\n  };\n\n  // //更新db\n  db.collection('RelationShip')\n    .doc(`${user.uid}-${profile.uid}`)\n    .set(relationship)\n    .then(() => {\n      console.log('send request successful');\n      relationship.relationshipID = `${user.uid}-${profile.uid}`;\n      //＋relationship\n      dispatch({ type: SEND_FRIEND_REQUEST, payload: { relationship } });\n    });\n};\n\nexport const acceptFriendRequest = (relationshipID) => (dispatch, getState) => {\n  // db:找到該relationship, 改status\n  db.collection('RelationShip')\n    .doc(relationshipID)\n    .update({\n      status: FRIEND,\n    })\n    .then(() => {\n      console.log('update request successful');\n      //找到該relationship，改status\n      dispatch({ type: ACCEPT_FRIEND_REQUEST, payload: { relationshipID } });\n    });\n};\n\nexport const unFriend = (friend, isFrom) => (dispatch, getState) => {\n  const { user } = getState();\n  let docName;\n  if (isFrom === FROMPROFILE) {\n    docName = friend.relationshipID;\n    db.collection('RelationShip')\n      .doc(docName)\n      .delete()\n      .then(() => {\n        console.log('delete request successful');\n        dispatch(excuteDeleteRelationship(docName));\n        //找到該relationship，刪除\n      });\n  } else if (isFrom === FROMMASTERPROFILE) {\n    //找到該relationship，刪除\n    db.collection('RelationShip')\n      .where('relationshipID', '==', `${friend.uid}-${user.uid}`)\n      .get()\n      .then((res) => {\n        if (res) {\n          docName = `${friend.uid}-${user.uid}`;\n          dispatch(excuteDeleteRelationship(docName));\n        } else if (!res) {\n          db.collection('RelationShip')\n            .where('relationshipID', '==', `${user.uid}-${friend.uid}`)\n            .get()\n            .then((res) => {\n              docName = `${user.uid}-${friend.uid}`;\n              dispatch(excuteDeleteRelationship(docName));\n            });\n        }\n      });\n  }\n};\n\nconst excuteDeleteRelationship = (docName) => (dispatch) => {\n  db.collection('RelationShip')\n    .doc(docName)\n    .delete()\n    .then(() => {\n      dispatch({ type: UNFRIEND, payload: { docName } });\n    });\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { acceptFriendRequest, unFriend } from '../../redux/actions/relationshipAction';\nimport styles from '../../style/request.module.css';\nimport { FRIEND, REQUESTED, REQUESTING, FROMMASTERPROFILE } from '../../utils/names';\n\nfunction RequestItem({ relatedUser, status }) {\n  //request,friend：都只有對方的資料，沒有status,和自己的\n  const dispatch = useDispatch();\n  const profile = useSelector((state) => state.profile);\n  const user = useSelector((state) => state.user);\n  //requesting, requested,friend,unfriend\n  const [requestStateButton, setRequestStateButton] = useState(status);\n\n  let toggleView = '';\n\n  if (status === FRIEND) {\n    toggleView = (\n      <button\n        className={styles.requestButton}\n        onClick={() => {\n          dispatch(unFriend(relatedUser, FROMMASTERPROFILE));\n        }}>\n        UnFriend\n      </button>\n    );\n  } else if (profile.uid === user.uid) {\n    if (status === REQUESTED) {\n      toggleView = (\n        <button\n          className={styles.requestButton}\n          onClick={() => {\n            dispatch(acceptFriendRequest(`${relatedUser.uid}-${user.uid}`));\n          }}>\n          Accept\n        </button>\n      );\n    } else if (status === REQUESTING) {\n      toggleView = <div className={styles.stateBlock}>Requesting</div>;\n    }\n  }\n\n  return (\n    <div className={styles.request}>\n      <img className={styles.requestImage} src={relatedUser.userProfileImage} />\n      <p>\n        <span className={styles.requestName}>{relatedUser.userName}</span>\n        <span className={styles.requestMsg}></span>\n      </p>\n      {toggleView && <div className={styles.requestActions}>{toggleView}</div>}\n    </div>\n  );\n}\n\nRequestItem.propTypes = {\n  relatedUser: PropTypes.object,\n  status: PropTypes.string,\n};\nexport default RequestItem;\n","import { React, useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getProfileRelationShip } from '../../redux/actions/relationshipAction';\nimport { getProfile } from '../../redux/actions/profileAction';\nimport {\n  sendFriendRequest,\n  acceptFriendRequest,\n  unFriend,\n} from '../../redux/actions/relationshipAction';\nimport Loading from '../common/Loading';\nimport RequestItem from '../profile/RequestItem';\nimport { StyleModal } from '../common/PopupModal';\nimport styles from '../../style/profileshow.module.css';\nimport { FRIEND, REQUESTED, REQUESTING, FROMPROFILE } from '../../utils/names';\n\nfunction ProfileShow({ paramsID }) {\n  const profile = useSelector((state) => state.profile);\n  const posts = useSelector((state) => state.posts);\n  const user = useSelector((state) => state.user);\n  const relationships = useSelector((state) => state.relationships);\n  const loading = useSelector((state) => state.loading);\n  const dispatch = useDispatch();\n  const [friendList, setFriendList] = useState(null);\n  const [requestingList, setRequestingList] = useState([]);\n  const [requestedList, setRequestedList] = useState([]);\n  const [relationshipButton, setRelationshipButton] = useState(null);\n  const [isRequestClick, setIsRequestClick] = useState(false);\n  const [requestViewState, setRequestViewState] = useState(REQUESTED);\n  const [isFriendClick, setIsFriendClick] = useState(false);\n  const [isMessageClick, setIsMessageClick] = useState(false);\n\n  useEffect(() => {\n    dispatch(getProfile(paramsID));\n    dispatch(getProfileRelationShip(paramsID));\n  }, [paramsID]);\n  //當使用者在別人頁面時，要判斷與此人關係為何\n  useEffect(() => {\n    // relationshipSplit();\n    if (relationships && user && profile) {\n      const friendList = relationships\n        .filter((rel) => rel.status === FRIEND)\n        .map((rel) => (rel.requester.uid === profile.uid ? rel.requestee : rel.requester));\n\n      const ourRelationship = relationships.find(\n        (rel) =>\n          (rel.requestee.uid === profile.uid || rel.requester.uid === profile.uid) &&\n          (rel.requestee.uid === user.uid || rel.requester.uid === user.uid),\n      );\n      setRelationshipButton(ourRelationship);\n      setFriendList(friendList);\n\n      //到自己頁面有requestlist\n      if (user.uid === profile.uid) {\n        const requestingList = relationships\n          .filter((rel) => rel.status === REQUESTING && rel.requester.uid === profile.uid)\n          .map((rel) => rel.requestee);\n\n        const requestedList = relationships\n          .filter((rel) => rel.status === REQUESTING && rel.requestee.uid === profile.uid)\n          .map((rel) => rel.requester);\n\n        setRequestedList(requestedList);\n        setRequestingList(requestingList);\n      }\n    }\n  }, [relationships, profile, user]);\n\n  //unfollow?\n  const buttonViewFriend = (\n    <>\n      <button\n        className={styles.relationshipButton}\n        onClick={() => {\n          dispatch(unFriend(relationshipButton, FROMPROFILE));\n        }}>\n        UnFriend\n      </button>\n      <button\n        className={styles.relationshipButton}\n        onClick={() => {\n          setIsMessageClick(!isMessageClick);\n        }}>\n        Message\n      </button>\n    </>\n  );\n  //accept: 到requester 頁面，點 accept\n  const buttonViewRequested = (\n    <button\n      className={styles.relationshipButton}\n      onClick={() => {\n        dispatch(acceptFriendRequest(relationshipButton.relationshipID));\n      }}>\n      Accept\n    </button>\n  );\n  const buttonViewRequesting = <div className={styles.decideButtonVag}>Waiting</div>;\n  const buttonViewSendRequest = (\n    <button\n      className={styles.relationshipButton}\n      onClick={() => {\n        dispatch(sendFriendRequest());\n      }}>\n      +Friend\n    </button>\n  );\n\n  //state: 以使用者的角色\n  //db 上的state : friend,requesting\n  //local state: friend, requesting, requested,null\n  let buttonView = '';\n  if (relationshipButton?.status === FRIEND) {\n    buttonView = buttonViewFriend;\n  } else if (relationshipButton?.status === REQUESTING) {\n    if (relationshipButton.requestee.uid === user.uid) {\n      buttonView = buttonViewRequested;\n    } else if (relationshipButton.requester.uid === user.uid) {\n      buttonView = buttonViewRequesting;\n    }\n  } else {\n    buttonView = buttonViewSendRequest;\n  }\n\n  //request state view\n  let requestView = '';\n  if (requestViewState === REQUESTING) {\n    requestView = requestingList.map((relatedUser) => (\n      <RequestItem key={relatedUser.uid} relatedUser={relatedUser} status={REQUESTING} />\n    ));\n  } else if (requestViewState === REQUESTED) {\n    requestView = requestedList.map((relatedUser) => (\n      <RequestItem key={relatedUser.uid} relatedUser={relatedUser} status={REQUESTED} />\n    ));\n  }\n  return (\n    <>\n      <div className={styles.profileShowWrap}>\n        {loading === false ? (\n          <div className={styles.profileShow}>\n            <img className={styles.profilePic} src={profile.userProfileImage}></img>\n            <div className={styles.profileInfo}>\n              <div className={styles.followerBlock}>\n                <div className={styles.followerInfo}>{profile.userName}</div>\n                <div className={styles.followerInfo}>\n                  {user && user.uid !== profile.uid && buttonView}\n                </div>\n              </div>\n              <div className={styles.followerBlock}>\n                <div className={styles.postInfo}>\n                  {posts.length} <span>Posts</span>\n                </div>\n                <div\n                  className={styles.followerInfo}\n                  onClick={() => setIsFriendClick(!isFriendClick)}>\n                  {friendList?.length} <span>Friends</span>\n                </div>\n                {user.uid === profile.uid && (\n                  <div\n                    className={styles.followerInfo}\n                    onClick={() => {\n                      setIsRequestClick(!isRequestClick);\n                    }}>\n                    <span>Requests...</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className={styles.loading}>\n            <Loading />\n          </div>\n        )}\n      </div>\n      {/* friend block*/}\n      <StyleModal\n        show={isFriendClick}\n        handleClose={() => {\n          setIsFriendClick(false);\n        }}>\n        <div className={styles.friendModelWrap}>\n          <div className={styles.friendTopModal}>\n            <div className={styles.guide}>Friends</div>\n          </div>\n          <div className={styles.separater}></div>\n          <div className={styles.friendButtonModal}>\n            {friendList?.map((relatedUser) => (\n              <RequestItem\n                key={relatedUser.relationshipID}\n                relatedUser={relatedUser}\n                status={FRIEND}\n              />\n            ))}\n          </div>\n        </div>\n      </StyleModal>\n      {/* request block*/}\n      <StyleModal\n        show={isRequestClick}\n        handleClose={() => {\n          setIsRequestClick(false);\n        }}>\n        <div className={styles.requestModelWrap}>\n          <div className={styles.requestTopModal}>\n            <div className={styles.guide}>Requests</div>\n          </div>\n          <div className={styles.separater}></div>\n          <div className={styles.requestButtonModal}>\n            <div className={styles.requestToggle}>\n              <div\n                onClick={() => {\n                  setRequestViewState(REQUESTED);\n                }}\n                className={`${\n                  requestViewState === REQUESTED\n                    ? styles.requestStateChoose\n                    : styles.requestStateNone\n                }`}>\n                Friend Requests\n              </div>\n\n              <div\n                onClick={() => {\n                  setRequestViewState(REQUESTING);\n                }}\n                className={`${\n                  requestViewState === REQUESTING\n                    ? styles.requestStateChoose\n                    : styles.requestStateNone\n                }`}>\n                Requesting\n              </div>\n            </div>\n          </div>\n\n          <div>{requestView}</div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nProfileShow.propTypes = {\n  paramsID: PropTypes.string,\n};\n\nexport default ProfileShow;\n","import { RECEIVED_PROFILE, RECIEVING_LOADING } from '../actionTypes';\nimport { db } from '../../firebase';\n\nexport const getProfile = (paramsID) => (dispatch) => {\n  dispatch({ type: RECIEVING_LOADING, payload: true });\n  db.collection('User')\n    .doc(paramsID)\n    .get()\n    .then((doc) => {\n      const profile = doc.data();\n      profile.uid = doc.id;\n      dispatch({\n        type: RECEIVED_PROFILE,\n        payload: { profile },\n      });\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n","export default __webpack_public_path__ + \"static/media/cross.0d5d3013.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport styled from '../../../style/popup.module.css';\nimport cross from '../../../img/cross.png';\n\nexport const StoryModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div\n        className={`${show ? styled.cancelStory : styled.cancelStoryNone}`}\n        onClick={() => {\n          handleClose(false);\n        }}>\n        <img\n          className={styled.storyCancelImg}\n          onClick={() => {\n            handleClose(false);\n          }}\n          src={cross}></img>\n      </div>\n\n      <div className={`${show ? styled.showStoryContentDiv : styled.showStoryContentDivDivNone}`}>\n        {children}\n      </div>\n      <div className={`${show ? styled.showStoryModalDiv : styled.showStoryModalDivNone}`} />\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nStoryModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\nimport CancelButton from './CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const MakeStoryModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentWrap : styles.contentWrapNone}`}>\n        <div className={styles.storyContentDiv}>\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n          {children}\n        </div>\n      </div>\n\n      <div className={`${show ? styles.storyModalDiv : styles.storyModalDivNone}`}></div>\n    </>,\n    document.getElementById('portal'),\n  );\n};\n\nMakeStoryModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '../../../style/makestory.module.css';\nimport check from '../../../img/check.png';\n\nfunction EditImage({ post, choosedStory, chooseStory, stage, chooseCoverfunc, isCover }) {\n  const { postID, postImage, postTime } = post;\n  const [isImgChoose, setIsImgChoose] = useState(false);\n  useEffect(() => {\n    choosedStory.map((postID) => {\n      if (postID === post.postID) {\n        setIsImgChoose(true);\n      }\n    });\n  }, [choosedStory]);\n\n  return (\n    <>\n      {stage === 0 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            setIsImgChoose(!isImgChoose);\n            chooseStory(postID);\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n\n      {stage === 1 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            if (choosedStory.includes(post.postID)) {\n              chooseCoverfunc(post);\n            }\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isCover === post.postImage.postImageLink ? (\n              <div className={styled.pickCoverCircle}>\n                <img className={styled.check} src={check} />\n              </div>\n            ) : (\n              ''\n            )}\n          </div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n    </>\n  );\n}\n\nEditImage.propTypes = {\n  post: PropTypes.object.isRequired,\n  choosedStory: PropTypes.array.isRequired,\n  stage: PropTypes.number.isRequired,\n  chooseStory: PropTypes.func,\n  chooseCoverfunc: PropTypes.func,\n  isCover: PropTypes.string,\n};\n\nexport default EditImage;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { edtiStory } from '../../../redux/actions/storyAction';\nimport { MakeStoryModal } from '../../common/MakeStoryModal';\nimport EditImage from '../story/EditImage';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styles from '../../../style/popup.module.css';\nimport { nanoid } from 'nanoid';\nimport styled from '../../../style/makestory.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\n\nfunction EditStoryPopup({ setIsEditStoryBlockClick, isEditStoryBlockClick, editStory }) {\n  const dispatch = useDispatch();\n  const [storyName, setstoryName] = useState(editStory.storyName);\n  const [choosedCover, setChoosedCover] = useState('');\n  const [isCover, setIsCover] = useState(null);\n  const [editStoryStage, setEditStoryStage] = useState(0);\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const [isEditSuccess, setIsEditSuccess] = useState(false);\n  let storiesID = [];\n  useEffect(() => {\n    //繞成 storyID array\n    storiesID = editStory.stories.map((post) => {\n      return post.postID;\n    });\n    setChoosedStory(storiesID);\n  }, []);\n  const [choosedStory, setChoosedStory] = useState(storiesID);\n\n  //若沒有改choosedpost，沒有image link\n  useEffect(() => {\n    //check isCover 是不是在choosedStory 裡\n    let currentPosts = [];\n    posts.forEach((post) => {\n      const postID = choosedStory.find((id) => id === post.postID);\n      if (postID) {\n        currentPosts.push(post);\n      }\n    });\n\n    currentPosts.map((post) => {\n      if (post.postImage.postImageLink === editStory.storyImageLink) {\n        setChoosedCover(editStory.storyImageLink);\n        setIsCover(editStory.storyImageLink);\n      }\n    });\n  }, [choosedStory]);\n\n  const story = {\n    storyID: editStory.storyID,\n    storyName: storyName,\n    storyImageLink: choosedCover,\n    storyIssuerID: user.uid,\n    createTime: editStory.createTime,\n    stories: choosedStory,\n  };\n\n  //選擇post\n  const choosePostTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setIsEditStoryBlockClick(false);\n        }}>\n        Cancel\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Story Posts</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(1);\n        }}>\n        Next\n      </button>\n    </>\n  );\n\n  const chooseStory = (postID) => {\n    if (choosedStory.includes(postID)) {\n      let newchoosedStory = choosedStory.filter((storyID) => storyID !== postID);\n      setChoosedStory(newchoosedStory);\n    } else {\n      let newchoosedStory = choosedStory;\n      newchoosedStory.push(postID);\n      setChoosedStory(newchoosedStory);\n    }\n  };\n\n  const choosePost = (\n    <>\n      <div className={styled.grid}>\n        {posts.map((post) => (\n          <EditImage\n            key={post.postID}\n            post={post}\n            choosedStory={choosedStory}\n            stage={0}\n            chooseStory={() => {\n              chooseStory(post.postID);\n            }}\n          />\n        ))}\n      </div>\n    </>\n  );\n\n  //選擇cover image\n\n  const chooseCoverTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(0);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Cover Photo</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(2);\n        }}>\n        Next\n      </button>\n    </>\n  );\n\n  const chooseCoverfunc = (post) => {\n    if (post.postImage.postImageLink !== choosedCover) {\n      setChoosedCover(post.postImage.postImageLink);\n      setIsCover(post.postImage.postImageLink);\n    }\n  };\n\n  const chooseCoverPhoto = (\n    <div className={styled.grid}>\n      {posts.map((post) => (\n        <EditImage\n          key={post.postID}\n          post={post}\n          choosedStory={choosedStory}\n          choosedCover={choosedCover}\n          stage={1}\n          chooseCoverfunc={() => chooseCoverfunc(post)}\n          isCover={isCover}\n        />\n      ))}\n    </div>\n  );\n\n  //Story 命名\n\n  const storyNameingTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(1);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Name Your Story</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={(e) => {\n          e.preventDefault();\n          dispatch(edtiStory(story));\n          setIsEditStoryBlockClick(false);\n          setstoryName('');\n          setChoosedCover('');\n          setChoosedStory([]);\n          setEditStoryStage(0);\n          setIsEditSuccess(true);\n        }}>\n        Upload\n      </button>\n    </>\n  );\n\n  const handleMsgChange = (e) => {\n    setstoryName(e.target.value);\n  };\n  const storyNameing = (\n    <>\n      <div className={styled.storyCircle}>\n        {!choosedCover ? '' : <img className={styled.coverImage} src={choosedCover} />}\n      </div>\n      <form\n        className={styles.form}\n        style={{ textAlign: 'center' }}\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}>\n        <input\n          type='text'\n          id={nanoid()}\n          name='text'\n          autoComplete='off'\n          value={storyName}\n          onChange={handleMsgChange}\n          className={styled.storyNameInput}></input>\n      </form>\n    </>\n  );\n\n  let title = '';\n  let view = '';\n  if (editStoryStage === 0) {\n    title = choosePostTitle;\n    view = choosePost;\n  } else if (editStoryStage === 1) {\n    title = chooseCoverTitle;\n    view = chooseCoverPhoto;\n  } else if (editStoryStage === 2) {\n    title = storyNameingTitle;\n    view = storyNameing;\n  }\n\n  return (\n    <>\n      <MakeStoryModal\n        show={isEditStoryBlockClick}\n        handleClose={() => {\n          setIsEditStoryBlockClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styled.topModel}>{title}</div>\n          <div className={styled.buttonModal}>\n            <div>{view}</div>\n          </div>\n        </div>\n      </MakeStoryModal>\n      <MsgPopup\n        show={isEditSuccess}\n        handleClose={() => {\n          setIsEditSuccess(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsEditSuccess(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nEditStoryPopup.propTypes = {\n  editStory: PropTypes.object.isRequired,\n  setEditStory: PropTypes.func.isRequired,\n  isEditStoryBlockClick: PropTypes.bool.isRequired,\n  setIsEditStoryBlockClick: PropTypes.func.isRequired,\n};\n\nexport default EditStoryPopup;\n","import { RECIEVED_STORIES, ADD_STORY, DELETE_STORY, EDIT_STORY } from '../actionTypes';\nimport firebase, { db } from '../../firebase';\n\nexport const fetchStories = (paramsID) => (dispatch, getState) => {\n  const { posts } = getState();\n  const profileposts = posts.filter((post) => post.postIssuer.postIssuerID === paramsID);\n  // 組合story state\n  // 1.拿到此人的所有story\n  // 2.組合 story 資訊，包含用post id去找post 資訊\n  let story = [];\n  db.collection('Story')\n    .orderBy('createTime', 'desc')\n    .where('storyIssuerID', '==', paramsID)\n    .get()\n    .then((snap) => {\n      snap.forEach((doc) => {\n        let storyData = {\n          storyID: doc.data().storyID,\n          storyName: doc.data().storyName,\n          storyImageLink: doc.data().storyImageLink,\n          storyIssuerID: doc.data().storyIssuerID,\n          createTime: doc.data().createTime,\n        };\n        let stories = doc.data().stories.map((storiesID) => {\n          return profileposts.find((profilepost) => profilepost.postID === storiesID);\n        });\n        storyData.stories = stories;\n        story.push(storyData);\n      });\n    })\n    .then(() => {\n      dispatch({\n        type: RECIEVED_STORIES,\n        payload: { story },\n      });\n    })\n    .catch((error) => console.log(error));\n};\n\nexport const addStory = (addedstory) => (dispatch, getState) => {\n  const { user } = getState();\n  const { posts } = getState();\n  const story = {\n    storyID: '',\n    storyName: addedstory.storyName,\n    storyImageLink: addedstory.storyImageLink,\n    storyIssuerID: user.uid,\n    createTime: firebase.firestore.FieldValue.serverTimestamp(),\n    stories: addedstory.stories,\n  };\n  const ref = db.collection('Story');\n  ref\n    .add(story)\n    .then((docRef) => {\n      story.storyID = docRef.id;\n      ref.doc(docRef.id).update({\n        storyID: docRef.id,\n      });\n      let stateStory = story;\n      let stateStoryStories = [];\n      stateStory.stories.map((postID) => {\n        posts.map((masterPost) => {\n          if (masterPost.postID === postID) {\n            stateStoryStories.push(masterPost);\n          }\n        });\n      });\n      stateStory.stories = stateStoryStories;\n      return stateStory;\n    })\n    .then((stateStory) => {\n      dispatch({ type: ADD_STORY, payload: { stateStory } });\n    });\n};\n\nexport const deleteStory = (deleteStory, setisStoryDeleteClick) => (dispatch, getState) => {\n  //delete db\n  const storyID = deleteStory.storyID;\n  const ref = db.collection('Story');\n\n  ref\n    .doc(storyID)\n    .delete()\n    .then(() => {\n      setisStoryDeleteClick(false);\n    })\n    .then(() => {\n      //delete state\n      dispatch({ type: DELETE_STORY, payload: { deleteStory } });\n    });\n};\n\nexport const edtiStory = (story) => (dispatch, getState) => {\n  const { user } = getState();\n  const { posts } = getState();\n  if (!user) return;\n  //set db\n  const ref = db.collection('Story').doc(story.storyID);\n  ref\n    .update(story)\n    .then(() => {\n      let stateStory = story;\n      let stateStoryStories = [];\n      stateStory.stories.map((postID) => {\n        posts.map((masterPost) => {\n          if (masterPost.postID === postID) {\n            stateStoryStories.push(masterPost);\n          }\n        });\n      });\n      stateStory.stories = stateStoryStories;\n      return stateStory;\n    })\n    .then((stateStory) => {\n      //set state\n      dispatch({ type: EDIT_STORY, payload: { stateStory } });\n    });\n};\n\nexport const filterStoryPost = (deletepostID) => (dispatch, getState) => {\n  const { user } = getState();\n  const { posts } = getState();\n  if (!user) return;\n  //set db\n  const ref = db\n    .collection('Story')\n    .where('storyIssuerID', '==', user.uid)\n    .get()\n    .then((snap) => {\n      snap.forEach((doc) => {\n        doc.stories.forEach((id) => {\n          if (id === deletepostID) {\n            db.collection('Story')\n              .doc(doc.id)\n              .update({\n                stories: firebase.firestore.FieldValue.arrayRemove(deletepostID),\n              });\n          }\n        });\n      });\n    });\n};\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport Stories from 'react-insta-stories';\nimport { StoryModal } from './StoryModal';\nimport EditStoryPopup from './EditStoryPopup';\nimport { BarPopup } from '../../common/BarPopup';\nimport styles from '../../../style/storybar.module.css';\nimport leftarrow from '../../../img/left-arrow.png';\nimport more from '../../../img/more.png';\nimport rightarrow from '../../../img/right-arrow.png';\n\nfunction StoryPost({ story, isStoryClick, setisStoryClick }) {\n  const user = useSelector((state) => state.user);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isEditStoryClick, setisEditStoryClick] = useState(false);\n  const [isEditStoryBlockClick, setIsEditStoryBlockClick] = useState(false);\n  const [editStory, setEditStory] = useState(story);\n  let postLists = [];\n  story.stories.map((post) => {\n    if (post) {\n      let postData = {\n        url: post.postImage.postImageLink,\n        header: {\n          heading: post.postIssuer.postIssuerName,\n          subheading: post.postTime,\n          profileImage: post.postIssuer.postIssuerImage,\n        },\n      };\n      postLists.push(postData);\n    }\n  });\n  return (\n    <>\n      <StoryModal\n        show={isStoryClick}\n        handleClose={() => {\n          setisStoryClick(false);\n        }}>\n        {user.uid === story.storyIssuerID && (\n          <div\n            className={styles.storyEditBar}\n            onClick={(e) => {\n              e.stopPropagation();\n              setisEditStoryClick(!isEditStoryClick);\n            }}>\n            <img src={more} style={{ width: '12px', height: '12px', zIndex: '10000' }}></img>\n            <BarPopup\n              show={isEditStoryClick}\n              top='20px'\n              right='80px'\n              handleClose={() => {\n                setisEditStoryClick(!isEditStoryClick);\n              }}>\n              {' '}\n              <div\n                onClick={() => {\n                  setIsEditStoryBlockClick(true);\n                  setEditStory(story);\n                }}>\n                Edit\n              </div>\n            </BarPopup>\n          </div>\n        )}\n\n        <div className={styles.storyBlockWrap}>\n          <img\n            src={rightarrow}\n            className={styles.rightarrow}\n            onClick={() => {\n              setCurrentIndex(currentIndex + 1);\n            }}\n          />\n\n          <img\n            src={leftarrow}\n            className={styles.leftarrow}\n            onClick={() => {\n              setCurrentIndex(currentIndex - 1);\n            }}\n          />\n\n          {isStoryClick ? (\n            <div className={styles.storyBlock}>\n              <Stories\n                loop\n                keyboardNavigation\n                defaultInterval={8000}\n                stories={postLists}\n                onStoryEnd={(s, st) => console.log('story ended', s, st)}\n                onAllStoriesEnd={(s, st) => console.log('all stories ended', s, st)}\n                onStoryStart={(s, st) => console.log('story started', s, st)}\n                currentIndex={currentIndex}\n                storyStyles={{\n                  width: '360px',\n                  height: '100%',\n                  objectFit: 'cover',\n                }}\n              />\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n      </StoryModal>\n\n      {isEditStoryBlockClick && (\n        <EditStoryPopup\n          isEditStoryBlockClick={isEditStoryBlockClick}\n          setIsEditStoryBlockClick={setIsEditStoryBlockClick}\n          editStory={editStory}\n          setEditStory={setEditStory}\n        />\n      )}\n    </>\n  );\n}\n\nStoryPost.propTypes = {\n  story: PropTypes.object.isRequired,\n  isStoryClick: PropTypes.bool.isRequired,\n  setisStoryClick: PropTypes.func.isRequired,\n};\n\nexport default StoryPost;\n","export default \"data:image/png;base64,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\"","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport StoryPost from './StoryPost';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styled from '../../../style/popup.module.css';\nimport styles from '../../../style/storybar.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport { deleteStory } from '../../../redux/actions/storyAction';\nimport cross from '../../../img/cancel.svg';\n\nfunction StoryCircle({ story, circleRef }) {\n  const { storyImageLink, storyIssuerID } = story;\n  const [isStoryClick, setisStoryClick] = useState(false);\n  const user = useSelector((state) => state.user);\n  const [isStoryDeleteClick, setisStoryDeleteClick] = useState(false);\n  const dispatch = useDispatch();\n  return (\n    <>\n      <div className={styles.story} ref={circleRef}>\n        {storyIssuerID === user.uid && (\n          <div\n            className={styles.deleteStory}\n            onClick={() => {\n              setisStoryDeleteClick(true);\n            }}>\n            <img className={styles.storyDeleteCross} src={cross} />\n          </div>\n        )}\n        <img\n          className={styles.storyCircle}\n          src={storyImageLink}\n          onClick={(e) => {\n            setisStoryClick(true);\n            e.stopPropagation();\n          }}\n        />\n        <div className={styles.storyName}>{story.storyName}</div>\n      </div>\n\n      <StoryPost\n        key={story.postID}\n        story={story}\n        isStoryClick={isStoryClick}\n        setisStoryClick={setisStoryClick}\n      />\n      <MsgPopup\n        show={isStoryDeleteClick}\n        handleClose={() => {\n          setisStoryDeleteClick(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Sure to Delete ?</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisStoryDeleteClick(false);\n              }}>\n              Cancel\n            </button>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                dispatch(deleteStory(story, setisStoryDeleteClick));\n              }}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nStoryCircle.propTypes = {\n  story: PropTypes.object.isRequired,\n  circleRef: PropTypes.object.isRequired,\n};\n\nexport default StoryCircle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '../../../style/makestory.module.css';\nimport check from '../../../img/check.png';\n\nfunction Image({ post, choosedStory, chooseStory, stage, chooseCoverfunc, isCover }) {\n  const { postID, postImage, postTime } = post;\n  const isImgChoose = choosedStory.includes(postID);\n  return (\n    <>\n      {stage === 0 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            chooseStory(postID);\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n\n      {stage === 1 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            if (choosedStory.includes(post.postID)) {\n              chooseCoverfunc(post);\n            }\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isCover === post.postImage.postImageLink && (\n              <div className={styled.pickCoverCircle}>\n                <img className={styled.check} src={check} />\n              </div>\n            )}\n          </div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n    </>\n  );\n}\n\nImage.propTypes = {\n  post: PropTypes.object.isRequired,\n  choosedStory: PropTypes.array.isRequired,\n  stage: PropTypes.number.isRequired,\n  chooseStory: PropTypes.func,\n  chooseCoverfunc: PropTypes.func,\n  isCover: PropTypes.string,\n};\n\nexport default Image;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addStory } from '../../../redux/actions/storyAction';\nimport { MakeStoryModal } from '../../common/MakeStoryModal';\nimport Image from '../story/Image';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styles from '../../../style/popup.module.css';\nimport styled from '../../../style/makestory.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction MakeStory({ setisMakeStoryClick, isMakeStoryClick, setisMakeStorySucces }) {\n  const dispatch = useDispatch();\n  const [storyName, setstoryName] = useState('');\n  const [choosedCover, setChoosedCover] = useState('');\n  const [choosedStory, setChoosedStory] = useState([]);\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const [makeStoryStage, setMakeStoryStage] = useState(0);\n  const story = {\n    storyID: '',\n    storyName: storyName,\n    storyImageLink: choosedCover,\n    storyIssuerID: user.uid,\n    createTime: '',\n    stories: choosedStory,\n  };\n  //選擇post\n  const choosePostTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setisMakeStoryClick(false);\n        }}>\n        Cancel\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Story Posts</div>{' '}\n      {choosedStory.length > 0 ? (\n        <button\n          className={styled.decideButton}\n          onClick={() => {\n            setMakeStoryStage(1);\n          }}>\n          Next\n        </button>\n      ) : (\n        <button className={styled.decideButtonVag}>Next</button>\n      )}\n    </>\n  );\n\n  const chooseStory = (postID) => {\n    if (choosedStory.includes(postID)) {\n      let newchoosedStory = choosedStory.filter((storyID) => storyID !== postID);\n      setChoosedStory(newchoosedStory);\n    } else {\n      let newchoosedStory = [...choosedStory];\n      newchoosedStory.push(postID);\n      setChoosedStory(newchoosedStory);\n    }\n  };\n\n  const choosePost = (\n    <>\n      <div className={styled.grid}>\n        {posts.map((post) => (\n          <Image\n            key={post.postID}\n            post={post}\n            choosedStory={choosedStory}\n            stage={0}\n            chooseStory={() => {\n              chooseStory(post.postID);\n            }}\n          />\n        ))}\n      </div>\n    </>\n  );\n\n  //選擇cover image\n\n  const chooseCoverTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setMakeStoryStage(0);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Cover Photo</div>{' '}\n      {!choosedCover ? (\n        <button className={styled.decideButtonVag}>Next</button>\n      ) : (\n        <button\n          className={styled.decideButton}\n          onClick={() => {\n            setMakeStoryStage(2);\n          }}>\n          Next\n        </button>\n      )}\n    </>\n  );\n  const [isCover, setIsCover] = useState('');\n  const chooseCoverfunc = (post) => {\n    if (post.postImage.postImageLink !== choosedCover) {\n      setChoosedCover(post.postImage.postImageLink);\n      setIsCover(post.postImage.postImageLink);\n    }\n  };\n\n  const chooseCoverPhoto = (\n    <div className={styled.grid}>\n      {posts.map((post) => (\n        <Image\n          key={post.postID}\n          post={post}\n          choosedStory={choosedStory}\n          choosedCover={choosedCover}\n          stage={1}\n          chooseCoverfunc={() => chooseCoverfunc(post)}\n          isCover={isCover}\n        />\n      ))}\n    </div>\n  );\n\n  //Story 命名\n\n  const storyNameingTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setMakeStoryStage(1);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Name Your Story</div>{' '}\n      {storyName === '' ? (\n        <button className={styled.decideButtonVag}>Upload</button>\n      ) : (\n        <button\n          className={styled.decideButton}\n          onClick={(e) => {\n            e.preventDefault();\n            //要dispatch\n            dispatch(addStory(story));\n            // setMakeStoryStage(2);\n            setisMakeStoryClick(false);\n            setstoryName('');\n            setChoosedCover('');\n            setChoosedStory([]);\n            setMakeStoryStage(0);\n            setisMakeStorySucces(true);\n          }}>\n          Upload\n        </button>\n      )}\n    </>\n  );\n\n  const handleMsgChange = (e) => {\n    setstoryName(e.target.value);\n  };\n  const storyNameing = (\n    <>\n      <div className={styled.storyCircle}>\n        {!choosedCover ? '' : <img className={styled.coverImage} src={choosedCover} />}\n      </div>\n      <form\n        className={styles.form}\n        style={{ textAlign: 'center' }}\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}>\n        <input\n          type='text'\n          id={nanoid()}\n          name='text'\n          autoComplete='off'\n          placeholder='Story Name ...'\n          onChange={handleMsgChange}\n          className={styled.storyNameInput}></input>\n      </form>\n    </>\n  );\n\n  let title = '';\n  let view = '';\n  if (makeStoryStage === 0) {\n    title = choosePostTitle;\n    view = choosePost;\n  } else if (makeStoryStage === 1) {\n    title = chooseCoverTitle;\n    view = chooseCoverPhoto;\n  } else if (makeStoryStage === 2) {\n    title = storyNameingTitle;\n    view = storyNameing;\n  }\n  const [isMakeSuccess, setIsMakeSuccess] = useState(0);\n  return (\n    <>\n      <MakeStoryModal\n        show={isMakeStoryClick}\n        handleClose={() => {\n          setisMakeStoryClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styled.topModel}>{title}</div>\n          <div className={styled.buttonModal}>\n            <div>{view}</div>\n          </div>\n        </div>\n      </MakeStoryModal>\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isMakeSuccess}\n        handleClose={() => {\n          setIsMakeSuccess(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>New Story Is On!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsMakeSuccess(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nMakeStory.propTypes = {\n  isMakeStoryClick: PropTypes.bool.isRequired,\n  setisMakeStoryClick: PropTypes.func.isRequired,\n  setisMakeStorySucces: PropTypes.func.isRequired,\n};\n\nexport default MakeStory;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StoryCircle from '../../../component/profile/story/StoryCircle';\nimport MakeStory from '../story/MakeStory';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport { fetchStories } from '../../../redux/actions/storyAction';\nimport styles from '../../../style/storybar.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport styled from '../../../style/popup.module.css';\nimport plus from '../../../img/plusIcon.png';\nimport leftarrow from '../../../img/left-arrow.png';\nimport rightarrow from '../../../img/right-arrow.png';\n\nfunction StoryBar({ paramsID }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const stories = useSelector((state) => state.stories);\n  const posts = useSelector((state) => state.posts);\n  const [isMakeStoryClick, setisMakeStoryClick] = useState(false);\n  const [isMakeStorySuccess, setisMakeStorySucces] = useState(false);\n  const containRef = React.useRef(null);\n  const wrapRef = React.useRef(null);\n  const barLeftArrowRef = React.useRef(null);\n  const barRightArrowRef = React.useRef(null);\n  const circleRef = React.useRef(null);\n  const [constainMargin, setconstainMargin] = useState(0);\n  const loading = useSelector((state) => state.loading);\n  //stories 慢，判斷完了\n  useEffect(() => {\n    if (posts.length > 0) {\n      dispatch(fetchStories(paramsID));\n    }\n  }, [posts]);\n\n  useEffect(() => {\n    if (barRightArrowRef.current && barRightArrowRef.current) {\n      barRightArrowRef.current.style.display = 'none';\n      barLeftArrowRef.current.style.display = 'none';\n      if (stories.length > 3) {\n        barRightArrowRef.current.style.display = 'block';\n      }\n    }\n  }, [stories]);\n\n  const storyBarScrollLeft = () => {\n    let circleWidth = circleRef.current.clientWidth;\n    if (containRef.current.clientWidth > wrapRef.current.clientWidth) {\n      let newconstainMargin = constainMargin - circleWidth;\n      setconstainMargin(newconstainMargin);\n      containRef.current.style.transform = `translateX(${newconstainMargin}px)`;\n      containRef.current.style.transition = 'transform 1s ease-in-out';\n      barLeftArrowRef.current.style.display = 'block';\n      if (\n        -constainMargin + wrapRef.current.clientWidth + circleWidth >=\n        containRef.current.clientWidth\n      ) {\n        barRightArrowRef.current.style.display = 'none';\n        barLeftArrowRef.current.style.display = 'block';\n      }\n    }\n  };\n\n  const storyBarScrollRight = () => {\n    let circleWidth = circleRef.current.clientWidth;\n    if (containRef.current.clientWidth > wrapRef.current.clientWidth) {\n      let newconstainMargin = constainMargin + circleWidth;\n      setconstainMargin(newconstainMargin);\n      containRef.current.style.transform = `translateX(${newconstainMargin}px)`;\n      containRef.current.style.transition = 'transform 1s ease-in-out';\n      if (user.uid === paramsID) {\n        if (-constainMargin <= circleWidth) {\n          barLeftArrowRef.current.style.display = 'none';\n          barRightArrowRef.current.style.display = 'block';\n        }\n      } else {\n        if (-constainMargin + wrapRef.current.clientWidth > containRef.current.clientWidth) {\n          barLeftArrowRef.current.style.display = 'none';\n          barRightArrowRef.current.style.display = 'block';\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className={styles.wrap}>\n        {loading === false ? (\n          <div className={styles.storyBarWrap}>\n            <div className={styles.storyCircleWrap} ref={wrapRef}>\n              <div className={styles.storyCircleContain} ref={containRef}>\n                {user.uid === paramsID && posts.length > 0 && (\n                  <div\n                    className={styles.storyCircle}\n                    onClick={() => {\n                      setisMakeStoryClick(true);\n                    }}>\n                    <img className={styles.storyCirclePlus} src={plus} />\n                  </div>\n                )}\n                {posts.length > 0 && (\n                  <>\n                    {stories.map((story) => (\n                      <StoryCircle key={story.storyID} story={story} circleRef={circleRef} />\n                    ))}\n                  </>\n                )}\n              </div>\n            </div>\n            {stories.length > 0 && (\n              <>\n                <img\n                  src={rightarrow}\n                  className={styles.barrightarrow}\n                  ref={barRightArrowRef}\n                  onClick={() => {\n                    storyBarScrollLeft();\n                  }}\n                />\n                <img\n                  src={leftarrow}\n                  className={styles.barleftarrow}\n                  ref={barLeftArrowRef}\n                  onClick={() => {\n                    storyBarScrollRight();\n                  }}\n                />\n              </>\n            )}\n          </div>\n        ) : (\n          <div className={styles.loading} />\n        )}\n      </div>\n      {/* make story */}\n      <MakeStory\n        isMakeStoryClick={isMakeStoryClick}\n        setisMakeStoryClick={setisMakeStoryClick}\n        setisMakeStorySucces={setisMakeStorySucces}\n      />\n      {/* MakeStory Success Popup */}\n      <MsgPopup\n        show={isMakeStorySuccess}\n        handleClose={() => {\n          setisMakeStorySucces(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisMakeStorySucces(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nStoryBar.propTypes = {\n  paramsID: PropTypes.string.isRequired,\n};\n\nexport default StoryBar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport StackGrid from 'react-stack-grid';\nimport Post from '../post/Post';\nimport { MsgPopup } from '../common/MsgPopup';\nimport UploadPostButton from '../common/UploadPostButton';\nimport { fetchMasterPosts } from '../../redux/actions/postAction';\nimport { receiveTags } from '../../redux/actions/searchAction';\nimport styles from '../../style/profilecontent.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction ProfileContent({ paramsID }) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const searchtags = useSelector((state) => state.searchtags);\n  const [clickEdit, setclickEdit] = useState('');\n  const [isDeletePopup, setIsDeletePopup] = useState(false);\n  const stakeGridRef = React.useRef(null);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n\n  useEffect(() => {\n    window.onscroll = '';\n    window.scrollTo(0, 0);\n    dispatch(fetchMasterPosts(paramsID));\n    dispatch(receiveTags());\n  }, [dispatch, paramsID]);\n\n  useEffect(() => {\n    if (stakeGridRef.current) {\n      stakeGridRef.current.updateLayout();\n    }\n  }, [comments]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (stakeGridRef.current) {\n        stakeGridRef.current.updateLayout();\n      }\n    }, 500);\n  }, [posts]);\n\n  let filterTags = [];\n  let filterPosts = [];\n  searchtags.map((searchtag) => {\n    filterTags.push(searchtag.value);\n  });\n\n  posts.map((post) => {\n    filterTags.map((tag) => {\n      if (post.postTag.value === tag) {\n        filterPosts.push(post);\n      }\n    });\n  });\n  if (filterTags.length > 0) {\n    //將tag 放進 filterTags array裡\n  } else {\n    filterPosts = posts;\n  }\n\n  return (\n    <>\n      {loading === false ? (\n        <div className={styles.wrap}>\n          <div className={styles.postWrap}>\n            {posts.length > 0 ? (\n              <>\n                {filterPosts.length > 0 ? (\n                  <StackGrid\n                    gridRef={(e) => (stakeGridRef.current = e)}\n                    columnWidth={300}\n                    gutterWidth={30}\n                    gutterHeight={30}\n                    monitorImagesLoaded={true}>\n                    {filterPosts.map((post) => (\n                      <Post\n                        key={post.postID}\n                        post={post}\n                        clickEdit={clickEdit}\n                        setclickEdit={setclickEdit}\n                        setIsDeletePopup={setIsDeletePopup}\n                      />\n                    ))}\n                  </StackGrid>\n                ) : (\n                  <div className={styles.noPostWrap}>\n                    <div className={styles.noPostGuide}>\n                      No post match the search, please adjust the filter.\n                    </div>\n                  </div>\n                )}\n              </>\n            ) : (\n              <div className={styles.noPostUpload}>\n                <div className={styles.noPostGuide}>No Posts Yet, Upload My First Post:</div>{' '}\n                <UploadPostButton />\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        <div className={styles.loading}></div>\n      )}\n\n      {/* DeletePopup */}\n      <MsgPopup\n        show={isDeletePopup}\n        handleClose={() => {\n          setIsDeletePopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Delete Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsDeletePopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nProfileContent.propTypes = {\n  paramsID: PropTypes.string,\n};\n\nexport default ProfileContent;\n","import { React } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ProfileShow from './ProfileShow';\nimport StoryBar from './story/StoryBar';\nimport ProfileContent from './ProfileContent';\n\nfunction Profile({ userId }) {\n  const user = useSelector((state) => state.user);\n  let view = '';\n\n  if (!user) {\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  } else if (user.uid === userId) {\n    //master\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <StoryBar paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  } else {\n    //viewer\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <StoryBar paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  }\n\n  return <>{view}</>;\n}\n\nProfile.propTypes = {\n  userId: PropTypes.string,\n};\n\nexport default withRouter(Profile);\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StackGrid from 'react-stack-grid';\nimport Post from '../post/Post';\nimport Loading from '../common/Loading';\nimport Logo from '../common/Logo';\nimport { LoginPopup } from '../common/LoginPopup';\nimport { fetchWelcomePosts } from '../../redux/actions/postAction';\nimport { login } from '../../redux/actions/loginAction';\nimport headerstyle from '../../style/header.module.css';\nimport styles from '../../style/post.module.css';\nimport '../../style/welcome.css';\nimport '../../style/welcomeshow.css';\nimport travel from '../../img/travel.jpg';\n\nfunction Welcome() {\n  const dispatch = useDispatch();\n  const slogans = [\n    {\n      tag: 'OUTFIT',\n      tagName: 'STUNNING OUTFIT',\n      backgroundColor: 'rgb(187,140,47)',\n      backgroundImage: '#cfc1ae',\n    },\n    {\n      tag: 'TRAVEL',\n      tagName: 'AMAZING VACATION',\n      backgroundColor: 'rgb(86, 181, 183)',\n      backgroundImage: '#fbde90',\n      // 114, 202, 232\n    },\n    {\n      tag: 'FOODIE',\n      tagName: 'CHRISTMAS DINNER',\n      backgroundColor: 'rgb(106, 138,106)',\n      backgroundImage: '#b3cd8f',\n    },\n  ];\n\n  const handleScroll = () => {\n    if (window.pageYOffset > 400) {\n      resetTimeout();\n    } else slideTime();\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    dispatch(fetchWelcomePosts());\n    window.onscroll = () => {\n      handleScroll();\n    };\n    return () => {\n      window.onscroll = '';\n    };\n  }, []);\n\n  //get welcome posts\n  const welcomeposts = useSelector((state) => state.welcomeposts);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n  const [pleaseLogin, setPleaseLogin] = useState(false);\n  const [isPostClick, setisPostClick] = useState(false);\n  const stakeGridRef = React.useRef(null);\n\n  //slide show\n  const delay = 5000;\n  const [index, setIndex] = React.useState(0);\n  const [isTo2, setIsTo2] = useState(true);\n  const timeoutRef = React.useRef(null);\n\n  function resetTimeout() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  }\n\n  const slideTime = () => {\n    resetTimeout();\n    timeoutRef.current = setTimeout(\n      () =>\n        setIndex((prevIndex) => {\n          if (prevIndex === 1 && isTo2) {\n            setIsTo2(false);\n            return 2;\n          } else if (prevIndex === 1) {\n            setIsTo2(true);\n            return 0;\n          } else if (prevIndex === 0) {\n            return 1;\n          } else if (prevIndex == 2) {\n            return 1;\n          }\n        }),\n      delay,\n    );\n    return () => {\n      resetTimeout();\n    };\n  };\n  useEffect(() => {\n    slideTime();\n  }, [index]);\n\n  const filteredPosts = welcomeposts.filter((post) => {\n    if (index === 0) return post.postTag.value === 'OUTFIT';\n    if (index === 1) return post.postTag.value === 'TRAVEL';\n    if (index === 2) return post.postTag.value === 'FOODIE';\n  });\n  return (\n    <>\n      {loading === false ? (\n        <div\n          className='slideshow'\n          onClick={() => {\n            resetTimeout();\n          }}>\n          <div\n            className='slideshowSlider'\n            style={{ transform: `translate3d(${-index * 100}%, 0, 0)` }}>\n            {slogans.map((slogan, index) => (\n              <div className='slide' key={index}>\n                <div className='welcomeShow'>\n                  <div>Share Your</div>\n\n                  <div className='welcomeShowTag'>\n                    <div\n                      className='tagNameLine'\n                      style={{ backgroundColor: slogan.backgroundImage }}></div>\n                    <div className='tagNameText' style={{ color: slogan.backgroundColor }}>\n                      {slogan.tagName}\n                    </div>\n                    <div\n                      style={{\n                        width: '35px',\n                        height: '35px',\n                        position: 'absolute',\n                        right: '150px',\n                        top: '-55px',\n                      }}></div>\n                  </div>\n                  <div>with the World</div>\n                </div>\n                <div className='slideshowDots'>\n                  {slogans.map((_, idx) => (\n                    <div\n                      key={idx}\n                      className={`slideshowDot${index === idx ? ' active' : ''}`}\n                      onClick={() => {\n                        setIndex(idx);\n                      }}></div>\n                  ))}\n                </div>\n                <div\n                  className='wrap'\n                  onClick={() => {\n                    setPleaseLogin(true);\n                  }}>\n                  <div className='postWrap'>\n                    <StackGrid\n                      gridRef={(e) => (stakeGridRef.current = e)}\n                      columnWidth={300}\n                      gutterWidth={33}\n                      gutterHeight={30}\n                      duration={0}\n                      monitorImagesLoaded={true}>\n                      {filteredPosts.map((post) => (\n                        <Post key={post.postID} post={post} isfromWelcome={true} />\n                      ))}\n                    </StackGrid>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className={styles.loading}>\n          <Loading />\n        </div>\n      )}\n      {slideTime && (\n        <LoginPopup\n          show={pleaseLogin}\n          handleClose={() => {\n            setPleaseLogin(false);\n          }}\n          slideTime={slideTime}>\n          <div className={headerstyle.loginPopContain}>\n            <div className={headerstyle.loginTitle}>\n              <img src={travel}></img>\n            </div>\n            <div className={headerstyle.loginWrap}>\n              <Logo />\n              <br />\n              <div className={headerstyle.title1}> Share your life in</div>\n              <div className={headerstyle.title2}> LA VIE</div>\n              <br />\n              <br />\n              <div className={headerstyle.text}> Login with</div>\n              <div\n                className={headerstyle.google}\n                onClick={() => dispatch(login('google', setPleaseLogin, setisPostClick))}>\n                Google Login\n              </div>\n\n              <div className={headerstyle.text}> OR</div>\n              <div\n                className={headerstyle.facebook}\n                onClick={() => dispatch(login('facebook', setPleaseLogin, setisPostClick))}>\n                Facebook Login\n              </div>\n            </div>\n          </div>\n        </LoginPopup>\n      )}\n    </>\n  );\n}\n\nexport default Welcome;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../style/nomatch.css';\n\nfunction NoMatch() {\n  const user = useSelector((state) => state.user);\n  return (\n    <>\n      <div className='noMatch'>\n        <div className='noMatchTitle'> I wanna go to : </div>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = './';\n          }}>\n          Welcome\n        </button>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = './main';\n          }}>\n          Main\n        </button>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = `./profile?id=${user.uid}`;\n          }}>\n          Profile\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default NoMatch;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Header from './header/Header';\nimport PostList from './post/PostList';\nimport Profile from './profile/Profile';\nimport Welcome from './welcome/Welcome';\nimport NoMatch from './common/NoMatch';\nimport { BrowserRouter as Router, Switch, Route, useLocation, Redirect } from 'react-router-dom';\nimport ChatRoom from './chat/ChatRoom';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction Routers() {\n  const user = useSelector((state) => state.user);\n  const query = useQuery();\n\n  return (\n    <>\n      <Header />\n      <Switch>\n        <Route exact path='/'>\n          {user ? <Redirect to='/main' /> : <Welcome />}\n        </Route>\n        <Route\n          path='/profile'\n          render={(props) => <Profile {...props} userId={query.get('id')} />}\n        />\n        {/* <Route\n          path='/chatroom/:'\n          render={(props) => <ChatRoom {...props} userId={query.get('id')} />}\n        /> */}\n        <Route path='/main' component={PostList} />\n        <Route component={NoMatch} />\n      </Switch>\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Routers />\n    </Router>\n  );\n}\n\nexport default App;\n","import { ADD_POST, EDIT_POST, DELETE_POST, RECIEVED_POSTS, TOGGLE_LIKE_POST } from '../actionTypes';\n\nconst posts = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_POSTS: {\n      return action.payload.postsList;\n    }\n    case ADD_POST: {\n      return [action.payload.post, ...state];\n    }\n    case DELETE_POST: {\n      return state.filter((post) => post.postID !== action.payload.postID);\n    }\n\n    case EDIT_POST: {\n      let editPostList = state.map((post) => {\n        if (post.postID === action.payload.post.postID) {\n          return action.payload.post;\n        }\n        return post;\n      });\n      return editPostList;\n    }\n\n    case TOGGLE_LIKE_POST: {\n      return state.map((post) => {\n        if (post.postID === action.payload.id) {\n          return { ...post, postLikes: action.payload.postLikes };\n        }\n        return post;\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default posts;\n","import { RECIEVED_USER } from '../actionTypes';\n\nconst initState = JSON.parse(localStorage.getItem('User'));\n\nconst user = (state = initState, action) => {\n  switch (action.type) {\n    case RECIEVED_USER: {\n      return action.payload.user;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","import {\n  RECEIVED_COMMENT,\n  ADD_COMMENT,\n  EDIT_COMMENT,\n  DELETE_COMMENT,\n  TOGGLE_Comment_Like,\n} from '../actionTypes';\n\n//comments: 該post popup 的comments 們（10,5），若有別篇的add，一樣加進來，在各compo render 時再判斷是哪篇post的\nconst comments = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.commentsList;\n      return newComments;\n    }\n    // 不管來自哪篇。都加進comments\n    case ADD_COMMENT: {\n      return [action.payload.comment, ...state];\n    }\n    case EDIT_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.editedComment;\n      return newComments;\n    }\n    case DELETE_COMMENT: {\n      return action.payload.newComments;\n    }\n    case TOGGLE_Comment_Like: {\n      return state.map((comment) => {\n        if (comment.commentID === action.payload.id) {\n          return { ...comment, likeIssuerID: action.payload.likeIssuerID };\n        }\n        return comment;\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default comments;\n","import { RECIEVED_TAGS, UPDATE_TAG, ADD_TAG } from '../actionTypes';\n\nconst tags = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_TAGS: {\n      return action.payload.tags;\n    }\n    case UPDATE_TAG: {\n      return action.payload.tags;\n    }\n    case ADD_TAG: {\n      return [...state, action.payload.tagData];\n    }\n    default:\n      return state;\n  }\n};\n\nexport default tags;\n","import { SEARCH_TAGS, NOSEARCH_TAGS } from '../actionTypes';\n\nconst searchtags = (state = [], action) => {\n  switch (action.type) {\n    case SEARCH_TAGS: {\n      return action.payload.newValue;\n    }\n    case NOSEARCH_TAGS: {\n      return [];\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default searchtags;\n","import { RECIEVED_STORIES, ADD_STORY, DELETE_STORY, EDIT_STORY } from '../actionTypes';\n\nconst stories = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_STORIES: {\n      return action.payload.story;\n    }\n    case ADD_STORY: {\n      return [action.payload.stateStory, ...state];\n    }\n    case DELETE_STORY: {\n      return state.filter((story) => story.storyID !== action.payload.deleteStory.storyID);\n    }\n    case EDIT_STORY: {\n      let editStoryList = state.map((story) => {\n        if (story.storyID === action.payload.stateStory.storyID) {\n          return action.payload.stateStory;\n        }\n        return story;\n      });\n      return editStoryList;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default stories;\n","import { RECIEVED_MASTERPOSTS } from '../actionTypes';\n\nconst masterposts = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_MASTERPOSTS: {\n      return action.payload.masterPosts;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default masterposts;\n\n//profile 頁面，因為infinit 沒辦法用原本取posts 的方式取用，add post, delete post 又都掛在posts 上，\n//要即時看到，只能用posts>>每次切換頁面，呼叫fetch posts，染出該頁的內容\n","import {\n  ADD_POST_COMMENT,\n  EDIT_POST_COMMENT,\n  DELETE_POST_COMMENT,\n  TOGGLE_POST_Comment_Like,\n} from '../actionTypes';\n\n//comments: 該post popup 的comments 們（10,5），若有別篇的add，一樣加進來，在各compo render 時再判斷是哪篇post的\nconst postcomments = (state = [], action) => {\n  switch (action.type) {\n    case ADD_POST_COMMENT: {\n      return [...state, action.payload.comment];\n    }\n\n    case EDIT_POST_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.editedPostComment;\n      return newComments;\n    }\n    case DELETE_POST_COMMENT: {\n      return action.payload.newPostComments;\n    }\n    case TOGGLE_POST_Comment_Like: {\n      return state.map((comment) => {\n        if (comment.commentID === action.payload.id) {\n          return { ...comment, likeIssuerID: action.payload.likeIssuerID };\n        }\n        return comment;\n      });\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default postcomments;\n","import { RECIEVING_LOADING } from '../actionTypes';\n\nconst loading = (state = true, action) => {\n  switch (action.type) {\n    case RECIEVING_LOADING: {\n      return action.payload;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default loading;\n","import { RECEIVED_WELCOMEPOSTS } from '../actionTypes';\n\nconst welcomeposts = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_WELCOMEPOSTS: {\n      return action.payload;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default welcomeposts;\n","import {\n  RECEIVED_RELATIONSHIP,\n  SEND_FRIEND_REQUEST,\n  ACCEPT_FRIEND_REQUEST,\n  UNFRIEND,\n} from '../actionTypes';\nimport { FRIEND } from '../../utils/names';\nconst relationships = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_RELATIONSHIP: {\n      return action.payload.relationships;\n    }\n    case SEND_FRIEND_REQUEST: {\n      let newRelationship = [...state];\n      newRelationship.push(action.payload.relationship);\n      return newRelationship;\n    }\n\n    case ACCEPT_FRIEND_REQUEST: {\n      return state.map((relationship) => {\n        if (relationship.relationshipID === action.payload.relationshipID) {\n          return { ...relationship, status: FRIEND };\n        }\n        return relationship;\n      });\n    }\n    case UNFRIEND: {\n      return state.filter((relationship) => relationship.relationshipID !== action.payload.docName);\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default relationships;\n","import { RECEIVED_PROFILE } from '../actionTypes';\n\nconst profile = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_PROFILE: {\n      return action.payload.profile;\n    }\n    default:\n      return state;\n  }\n};\nexport default profile;\n","import posts from './posts';\nimport user from './user';\nimport comments from './comments';\nimport tags from './tags';\nimport searchtags from './searchtags';\nimport stories from './stories';\nimport masterposts from './masterposts';\nimport postcomments from './postcomments';\nimport loading from './loading';\nimport welcomeposts from './welcomeposts';\nimport relationships from './relationships';\nimport profile from './profile';\nimport { combineReducers } from 'redux';\n\nexport default combineReducers({\n  user,\n  posts,\n  comments,\n  tags,\n  searchtags,\n  stories,\n  masterposts,\n  postcomments,\n  loading,\n  welcomeposts,\n  relationships,\n  profile,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App';\nimport { Provider } from 'react-redux';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './redux/reducers/index';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"storyCancelImg\":\"popup_storyCancelImg__3ODbE\",\"cancelStory\":\"popup_cancelStory__3mv7G\",\"cancelStoryNone\":\"popup_cancelStoryNone__1Zf-g\",\"showStoryModalDiv\":\"popup_showStoryModalDiv__2ejen\",\"showStoryModalDivNone\":\"popup_showStoryModalDivNone__2TJba\",\"showStoryContentDiv\":\"popup_showStoryContentDiv__2mI0r\",\"showStoryContentDivDivNone\":\"popup_showStoryContentDivDivNone__2p-WG\",\"msgModalDiv\":\"popup_msgModalDiv___8dZl\",\"msgModalDivNone\":\"popup_msgModalDivNone__3WAWr\",\"msgContentDiv\":\"popup_msgContentDiv__1qYHI\",\"msgContentDivNone\":\"popup_msgContentDivNone__18hii\",\"editContainerDiv\":\"popup_editContainerDiv__1IQXJ\",\"editContainerDivNone\":\"popup_editContainerDivNone__3xzVw\",\"editContentDiv\":\"popup_editContentDiv__3sFdR\",\"editContentDivNone\":\"popup_editContentDivNone__3z94r\",\"modalDiv\":\"popup_modalDiv__1D4H_\",\"modalDivNone\":\"popup_modalDivNone__2skBj\",\"contentDiv\":\"popup_contentDiv__1OSRR\",\"contentWrapNone\":\"popup_contentWrapNone__2_5hr\",\"storyModalDiv\":\"popup_storyModalDiv__35wH3\",\"storyModalDivNone\":\"popup_storyModalDivNone__1HJK8\",\"storyContentDiv\":\"popup_storyContentDiv__Jl9N_\",\"postModalDiv\":\"popup_postModalDiv__FtxY6\",\"postModalDivNone\":\"popup_postModalDivNone__2WCGQ\",\"postContentDiv\":\"popup_postContentDiv__3F5dU\",\"shareText\":\"popup_shareText__1LePq\",\"modelWrap\":\"popup_modelWrap__3Q-jp\",\"contentWrap\":\"popup_contentWrap__3b6tH\",\"fade\":\"popup_fade__1rLU_\",\"topModel\":\"popup_topModel__GtDw8\",\"moreBar\":\"popup_moreBar__3ao5t\",\"separater\":\"popup_separater__2sQw-\",\"buttonModal\":\"popup_buttonModal__3SBhJ\",\"leftModel\":\"popup_leftModel__3BIx3\",\"postPicture\":\"popup_postPicture__1y4bw\",\"rightModel\":\"popup_rightModel__3c_Hm\",\"blockTitle\":\"popup_blockTitle__36JX9\",\"postMsg\":\"popup_postMsg__G3LFb\",\"postTime\":\"popup_postTime__kUoy0\",\"cancelButton\":\"popup_cancelButton__2tEIm\",\"cancelWrap\":\"popup_cancelWrap__1jBlz\",\"close\":\"popup_close__3OcBh\",\"cancelButtonImg\":\"popup_cancelButtonImg__1wsr6\",\"decideBlock\":\"popup_decideBlock__3rPDD\",\"labeluploadPic\":\"popup_labeluploadPic__3BLEZ\",\"uploadButton\":\"popup_uploadButton__1z6IH\",\"decideButton\":\"popup_decideButton__jC9Rz\",\"decideButtonVag\":\"popup_decideButtonVag__5SQCP\",\"decideButtonWrap\":\"popup_decideButtonWrap__2McHj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postProfileImage\":\"postblock_postProfileImage__19tgN\",\"postProfileName\":\"postblock_postProfileName__Lidk-\",\"postPicture\":\"postblock_postPicture__wVLJS\",\"messageBlock\":\"postblock_messageBlock__1vFrm\",\"rightModel\":\"postblock_rightModel__3UaAT\",\"commentsWrap\":\"postblock_commentsWrap__1Qc9G\",\"separater\":\"postblock_separater__1-xuo\",\"commenting\":\"postblock_commenting__jmRWo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"comment_comment__N63zc\",\"cancelWrapNone\":\"comment_cancelWrapNone__1C9kx\",\"postIssuerName\":\"comment_postIssuerName__pb8Mf\",\"commentImage\":\"comment_commentImage__23wkZ\",\"commentMsg\":\"comment_commentMsg__3WcEu\",\"deleteComment\":\"comment_deleteComment__23TMI\",\"commentLike\":\"comment_commentLike__89bCS\",\"commentActions\":\"comment_commentActions__3sk4v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"request\":\"request_request__Og_Op\",\"requestImage\":\"request_requestImage__X9Wm9\",\"requestName\":\"request_requestName__2K1U_\",\"requestMsg\":\"request_requestMsg__3Hq-L\",\"requestActions\":\"request_requestActions__3qfnG\",\"requestButton\":\"request_requestButton__13JAb\",\"stateBlock\":\"request_stateBlock__vHtpb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"profilecontent_loading__1ohd_\",\"tabs\":\"profilecontent_tabs__3C7we\",\"tab\":\"profilecontent_tab__3GHcf\",\"postWrap\":\"profilecontent_postWrap__1YI-W\",\"wrap\":\"profilecontent_wrap__1hd-E\",\"noPostUpload\":\"profilecontent_noPostUpload__1inAE\",\"noPostGuide\":\"profilecontent_noPostGuide___S1L7\",\"noPostWrap\":\"profilecontent_noPostWrap__2_J7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonModal\":\"makestory_buttonModal__155Uy\",\"grid\":\"makestory_grid__yFHAM\",\"blockWrap\":\"makestory_blockWrap__3qRSM\",\"block\":\"makestory_block__5Qy_G\",\"pickPicCircle\":\"makestory_pickPicCircle__S8_P3\",\"pickCoverCircle\":\"makestory_pickCoverCircle__37ZHC\",\"check\":\"makestory_check__2iwp6\",\"storyCircle\":\"makestory_storyCircle__1ba3M\",\"imageTime\":\"makestory_imageTime__2O2_f\",\"coverImage\":\"makestory_coverImage__2wHmx\",\"storyNameInput\":\"makestory_storyNameInput__1ZLxu\",\"makeStoryGuide\":\"makestory_makeStoryGuide__1nChY\",\"topModel\":\"makestory_topModel__NTEEw\",\"decideButton\":\"makestory_decideButton__17Etz\",\"decideButtonVag\":\"makestory_decideButtonVag__ypgTI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelWrap\":\"cancelbutton_cancelWrap__1yrj6\",\"cancelButtonImg\":\"cancelbutton_cancelButtonImg__2jftC\"};"],"sourceRoot":""}