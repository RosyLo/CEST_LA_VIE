{"version":3,"sources":["style/header.module.css","style/chatroom.module.css","style/profileshow.module.css","style/editpostpopup.module.css","style/msgPopWrap.module.css","style/post.module.css","style/storybar.module.css","redux/actionTypes.js","firebase.js","utils/imageUpload.js","utils/tagProcess.js","utils/formatPost.js","redux/actions/postAction.js","img/cancel.svg","component/common/CancelButton.js","component/common/PopupModal.js","component/common/ChooseTags.js","component/post/Heart.js","component/common/MsgPopup.js","component/post/Comment.js","redux/actions/commentAction.js","component/post/Commenting.js","component/common/EditPostPopup.js","component/common/BarPopup.js","component/common/DeletePopup.js","img/more.svg","component/post/EditPostBar.js","component/post/PostPopup.js","component/common/LoginPopup.js","img/LA_VIE_logo.png","component/common/Logo.js","redux/actions/loginAction.js","img/travel.jpg","component/post/Post.js","component/common/UploadPostBlock.js","img/plusIcon.png","component/common/UploadPostButton.js","component/chat/ChatRoom.js","component/common/SearchTags.js","component/header/ProfileImage.js","img/downarrow.svg","component/header/Header.js","component/common/Loading.js","redux/actions/searchAction.js","component/post/PostList.js","utils/names.js","redux/actions/relationshipAction.js","component/profile/RequestItem.js","component/profile/ProfileShow.js","redux/actions/profileAction.js","img/cross.png","component/profile/story/StoryModal.js","component/common/MakeStoryModal.js","img/check.png","component/profile/story/EditImage.js","component/profile/story/EditStoryPopup.js","redux/actions/storyAction.js","img/left-arrow.png","img/right-arrow.png","component/profile/story/StoryPost.js","img/more.png","component/profile/story/StoryCircle.js","component/profile/story/Image.js","component/profile/story/MakeStory.js","component/profile/story/StoryBar.js","component/profile/ProfileContent.js","component/profile/Profile.js","component/welcome/Welcome.js","component/common/NoMatch.js","component/App.js","redux/reducers/posts.js","redux/reducers/user.js","redux/reducers/comments.js","redux/reducers/tags.js","redux/reducers/searchtags.js","redux/reducers/stories.js","redux/reducers/masterposts.js","redux/reducers/postcomments.js","redux/reducers/loading.js","redux/reducers/welcomeposts.js","redux/reducers/relationships.js","redux/reducers/profile.js","redux/reducers/index.js","index.js","style/popup.module.css","style/postblock.module.css","style/comment.module.css","style/request.module.css","style/profilecontent.module.css","style/makestory.module.css","style/cancelbutton.module.css"],"names":["module","exports","RECIEVED_USER","RECEIVED_PROFILE","ADD_POST","EDIT_POST","DELETE_POST","RECIEVED_POSTS","TOGGLE_LIKE_POST","RECEIVED_COMMENT","ADD_COMMENT","EDIT_COMMENT","DELETE_COMMENT","TOGGLE_Comment_Like","ADD_POST_COMMENT","EDIT_POST_COMMENT","DELETE_POST_COMMENT","TOGGLE_POST_Comment_Like","RECIEVED_TAGS","UPDATE_TAG","ADD_TAG","SEARCH_TAGS","NOSEARCH_TAGS","RECIEVED_STORIES","RECIEVED_MASTERPOSTS","ADD_STORY","DELETE_STORY","EDIT_STORY","RECIEVING_LOADING","RECEIVED_WELCOMEPOSTS","RECEIVED_RELATIONSHIP","SEND_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","UNFRIEND","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","facebookAuthProvider","FacebookAuthProvider","googleAuthProvider","GoogleAuthProvider","uploadImage","image","dest","callback","file","uploadTask","storage","ref","child","put","contentType","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","console","log","state","TaskState","PAUSED","RUNNING","error","code","getDownloadURL","then","downloadURL","tagProcess","newTag","tagpostID","dispatch","getState","tags","tagID","collection","doc","value","map","tag","push","includes","updateTagpostID","find","postID","type","payload","update","tagData","label","set","formatPost","post","postTime","shortTime","toDate","toDateString","fetchPosts","lastVisible","lastSnap","setLastSnap","posts","postsList","orderBy","limit","get","snap","forEach","postData","id","postImage","data","postIssuer","postMessage","postTag","postLikes","docs","startAfter","length","togglePostLike","isfrom","user","likeSet","runTransaction","transaction","postDoc","exists","Set","has","uid","delete","add","Array","from","likeIssuerID","CancelButton","onClick","className","styles","cancelWrap","cancelButtonImg","src","cross","StyleModal","handleClose","show","children","ReactDom","createPortal","contentWrap","contentWrapNone","postContentDiv","close","postModalDiv","postModalDivNone","document","getElementById","ChooseTags","tagHolder","setNewTag","useSelector","handleChange","newValue","actionMeta","handleInputChange","inputValue","group","groupEnd","customStyles","control","base","background","borderRadius","isFocused","borderColor","menu","marginTop","menuList","padding","option","isDisabled","isSelected","cursor","multiValue","border","isClearable","onChange","onInputChange","options","placeholder","Heart","likes","useDispatch","isLiked","heartRef","React","useRef","heartClick","current","MsgPopup","popupstyles","msgContentDiv","msgContentDivNone","cancelStory","style","width","height","msgModalDiv","msgModalDivNone","Comment","comment","setPostComments","postComments","commentIssuer","commentIssuerMessage","useState","isCommentDeleteClick","setisCommentDeleteClick","isCommentEdit","setIsCommentEdit","commentContent","setCommentContent","keyDownEvent","e","key","editedPostComment","commentID","postcomments","postComment","newPostComment","editComment","useEffect","commentImage","commentIssuerImage","postIssuerName","commentIssuerName","commentIssuerID","commentMsg","target","onKeyDown","commentActions","commentLike","cancelWrapNone","msgPopStyles","msgPopWrap","buttonWrap","styled","decideButton","comments","newComments","filter","newPostComments","deleteComment","Commenting","newComment","setNewCommment","form","onSubmit","preventDefault","photoURL","displayName","commentTime","FieldValue","serverTimestamp","docRef","addComment","commentInput","nanoid","name","autoComplete","EditPostPopup","editPostID","setisEditClick","isEditClick","setIsUploadPopup","editpost","uploadViewStage","setUploadViewStage","setImage","postImageLink","imageURL","setImageURL","postImageID","postIssuerID","postIssuerImage","choosePic","rightModel","decideBlock","blockTitle","decideButtonBlock","htmlFor","uploadButton","files","URL","createObjectURL","stopPropagation","newMsg","setNewMsg","writeMsgTag","postPopupRightModel","decideBlockMsg","postMsgInput","cols","rows","searchButtonBlock","postSearch","decideButtonWrap","decideButtonVag","uploadPic","editPost","view","modelWrap","topModel","buttonModal","leftModel","isFromEdit","BarPopup","top","right","editContainerDiv","editContainerDivNone","editContentDiv","editContentDivNone","DeletePopup","deletePostID","setisDeletePopupClick","isDeletePopupClick","setIsDeletePopup","setisPostClick","deletepost","isFromDelete","margin","deleteBlockSubTitle","deletePost","EditPostBar","clickEdit","setclickEdit","isDeletePopup","isEditBlockClick","setIsEditBlockClick","isUploadPopup","marginLeft","position","more","setisUploadPopup","PostPopup","clickPostID","isPostClick","clickpost","setLastVisible","commentsList","where","querySnapshot","fetchComments","space","to","location","textDecoration","postblock","postProfileImage","postProfileName","separater","display","postPictureWrap","postPicture","messageBlock","commentsWrap","commenting","LoginPopup","slideTime","contentDiv","modalDiv","modalDivNone","Logo","navIcon","logo","login","provider","setLoginPopup","authProvider","signInWithPopup","a","result","url","profileMessage","userName","userProfileImage","merge","localStorage","setItem","JSON","stringify","Post","isFromUpload","isfromWelcome","commentList","setCommentList","pleaseLogin","setPleaseLogin","newList","postHeader","authorPic","picOverlay","content","textspan","photo","postInteraction","postLikeCount","headerstyle","loginPopContain","loginTitle","travel","loginWrap","title1","title2","text","google","facebook","UploadPostBlock","setisUploadPopupClick","isUploadPopupClick","setIsNewPostConfirm","uploadPicID","addPost","UploadPostButton","isNewPostConfirm","storyCirclePlus","plus","ChatRoom","SearchTags","isWindowSmall","setIsWindowSmall","window","innerWidth","zIndex","search","action","isMulti","ProfileImage","Header","isProfileToggleClick","setisProfileToggleClick","loginPopup","history","useHistory","headerWrap","navWrap","pathname","downarrow","arrow","signOut","clear","button","Loading","receiveTags","PostList","searchtags","isScrollFetching","setIsScrollFetching","stakeGridRef","loading","onscroll","body","scrollTop","documentElement","scrollHeight","clientHeight","newLast","handleScroll","updateLayout","filterTags","filterPosts","searchtag","wrap","postWrap","gridRef","columnWidth","gutterWidth","gutterHeight","monitorImagesLoaded","noPostWrap","noPostGuide","FRIEND","REQUESTED","REQUESTING","fromProfile","fromMasterProfile","acceptFriendRequest","relationshipID","status","unFriend","friend","isFrom","docName","excuteDeleteRelationship","res","RequestItem","relatedUser","profile","toggleView","requestButton","stateBlock","request","requestImage","requestName","requestMsg","requestActions","ProfileShow","paramsID","relationships","friendList","setFriendList","requestingList","setRequestingList","requestedList","setRequestedList","relationshipButton","setRelationshipButton","isRequestClick","setIsRequestClick","requestViewState","setRequestViewState","isFriendClick","setIsFriendClick","isMessageClick","setIsMessageClick","getProfile","getProfileRelationShip","rel","requester","requestee","ourRelationship","buttonViewFriend","buttonViewRequested","buttonViewRequesting","buttonViewSendRequest","relationship","buttonView","requestView","profileShowWrap","profileShow","profilePic","profileInfo","followerBlock","followerInfo","postInfo","friendModelWrap","friendTopModal","guide","friendButtonModal","requestModelWrap","requestTopModal","requestButtonModal","requestToggle","requestStateChoose","requestStateNone","StoryModal","cancelStoryNone","storyCancelImg","showStoryContentDiv","showStoryContentDivDivNone","showStoryModalDiv","showStoryModalDivNone","MakeStoryModal","storyContentDiv","storyModalDiv","storyModalDivNone","EditImage","choosedStory","chooseStory","stage","chooseCoverfunc","isCover","isImgChoose","setIsImgChoose","blockWrap","imageTime","pickPicCircle","indexOf","block","pickCoverCircle","check","EditStoryPopup","setIsEditStoryBlockClick","isEditStoryBlockClick","editStory","storyName","setstoryName","choosedCover","setChoosedCover","setIsCover","editStoryStage","setEditStoryStage","isEditSuccess","setIsEditSuccess","storiesID","stories","setChoosedStory","currentPosts","storyImageLink","story","storyID","storyIssuerID","createTime","choosePostTitle","makeStoryGuide","choosePost","grid","newchoosedStory","chooseCoverTitle","chooseCoverPhoto","storyNameingTitle","setisStoryDeleteClick","stateStory","stateStoryStories","masterPost","edtiStory","storyNameing","storyCircle","coverImage","textAlign","storyNameInput","title","StoryPost","isStoryClick","setisStoryClick","currentIndex","setCurrentIndex","isEditStoryClick","setisEditStoryClick","setEditStory","postLists","header","heading","subheading","profileImage","storyEditBar","storyBlockWrap","rightarrow","leftarrow","storyBlock","loop","keyboardNavigation","defaultInterval","onStoryEnd","s","st","onAllStoriesEnd","onStoryStart","storyStyles","objectFit","StoryCircle","circleRef","isStoryDeleteClick","deleteStory","storyDeleteCross","Image","MakeStory","setisMakeStoryClick","isMakeStoryClick","setisMakeStorySucces","makeStoryStage","setMakeStoryStage","addedstory","isMakeSuccess","setIsMakeSuccess","StoryBar","isMakeStorySuccess","containRef","wrapRef","barLeftArrowRef","barRightArrowRef","constainMargin","setconstainMargin","profileposts","storyData","profilepost","catch","fetchStories","storyBarWrap","storyCircleWrap","storyCircleContain","barrightarrow","circleWidth","clientWidth","newconstainMargin","transform","transition","storyBarScrollLeft","barleftarrow","storyBarScrollRight","ProfileContent","fetchMasterPosts","setTimeout","noPostUpload","Profile","userId","propTypes","PropTypes","string","withRouter","Welcome","slogans","tagName","backgroundColor","backgroundImage","welcomeposts","index","setIndex","isTo2","setIsTo2","timeoutRef","resetTimeout","clearTimeout","prevIndex","filteredPosts","slogan","color","_","idx","duration","NoMatch","Routers","query","URLSearchParams","useLocation","exact","path","render","props","component","App","editPostList","initState","parse","getItem","editedComment","editStoryList","masterposts","masterPosts","newRelationship","combineReducers","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM"],"mappings":"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","file":"static/js/main.bd64f551.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrap\":\"header_headerWrap__1oR5t\",\"navWrap\":\"header_navWrap__3Oq6O\",\"navIcon\":\"header_navIcon__3bYom\",\"downarrow\":\"header_downarrow__2BPnj\",\"storyCirclePlus\":\"header_storyCirclePlus__2Pcrt\",\"button\":\"header_button__1aa-o\",\"logo\":\"header_logo__1y3Xg\",\"search\":\"header_search__1KUr-\",\"loginPopContain\":\"header_loginPopContain__3GJfB\",\"loginWrap\":\"header_loginWrap__bKdLQ\",\"loginTitle\":\"header_loginTitle__3MSwY\",\"title1\":\"header_title1__2fCtM\",\"title2\":\"header_title2__Ha2YJ\",\"text\":\"header_text__1y4Ea\",\"google\":\"header_google__1jScp\",\"googleIcon\":\"header_googleIcon__21xqA\",\"facebookIcon\":\"header_facebookIcon__2LgUL\",\"facebook\":\"header_facebook__Nc3oE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatRoomWrap\":\"chatroom_chatRoomWrap__2aTkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"profileshow_loading__3RM-x\",\"profileShowWrap\":\"profileshow_profileShowWrap__3reKo\",\"profileShow\":\"profileshow_profileShow__3F1Lt\",\"profilePic\":\"profileshow_profilePic__rsvWY\",\"postInfo\":\"profileshow_postInfo__3K_sv\",\"profileInfo\":\"profileshow_profileInfo__2Zyby\",\"followerBlock\":\"profileshow_followerBlock__2p4FZ\",\"followerInfo\":\"profileshow_followerInfo__3vMTI\",\"block\":\"profileshow_block__2IqbF\",\"profileName\":\"profileshow_profileName__2wsYy\",\"profileWords\":\"profileshow_profileWords__3YmUb\",\"friendModelWrap\":\"profileshow_friendModelWrap__2sz17\",\"friendTopModal\":\"profileshow_friendTopModal__3P53F\",\"friendButtonModal\":\"profileshow_friendButtonModal__3pygN\",\"requestModelWrap\":\"profileshow_requestModelWrap__M-e1T\",\"requestTopModal\":\"profileshow_requestTopModal__19oOn\",\"requestButtonModal\":\"profileshow_requestButtonModal__2PfH_\",\"requestToggle\":\"profileshow_requestToggle__1ouGs\",\"guide\":\"profileshow_guide__15noR\",\"requestStateChoose\":\"profileshow_requestStateChoose__31yV6\",\"requestStateNone\":\"profileshow_requestStateNone__3DIRZ\",\"separater\":\"profileshow_separater__3mko0\",\"relationshipButton\":\"profileshow_relationshipButton__1WC9_\",\"relationshipWaiting\":\"profileshow_relationshipWaiting__3SBFG\",\"decideButtonVag\":\"profileshow_decideButtonVag__DfK1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modelWrap\":\"editpostpopup_modelWrap__e_mkk\",\"topModel\":\"editpostpopup_topModel__222h2\",\"space\":\"editpostpopup_space__Wi662\",\"separater\":\"editpostpopup_separater__2qsmh\",\"buttonModal\":\"editpostpopup_buttonModal__3eU4t\",\"leftModel\":\"editpostpopup_leftModel__sOMI9\",\"rightModel\":\"editpostpopup_rightModel__3er-m\",\"postMsg\":\"editpostpopup_postMsg__3WBoy\",\"postTime\":\"editpostpopup_postTime__SF4KL\",\"cancelButton\":\"editpostpopup_cancelButton__3inyL\",\"cancelButtonImg\":\"editpostpopup_cancelButtonImg__1KQiC\",\"deleteBlockSubTitle\":\"editpostpopup_deleteBlockSubTitle__uOqU0\",\"decideBlock\":\"editpostpopup_decideBlock__3T1T3\",\"labeluploadPic\":\"editpostpopup_labeluploadPic__UrIr2\",\"uploadButton\":\"editpostpopup_uploadButton__2w-i7\",\"decideButton\":\"editpostpopup_decideButton__2jLFh\",\"postPopupRightModel\":\"editpostpopup_postPopupRightModel__2_aAx\",\"decideBlockMsg\":\"editpostpopup_decideBlockMsg__2uC42\",\"postMsgInput\":\"editpostpopup_postMsgInput__1zEAQ\",\"postSearch\":\"editpostpopup_postSearch__LYbHp\",\"searchButtonBlock\":\"editpostpopup_searchButtonBlock__2zo72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"msgPopWrap\":\"msgPopWrap_msgPopWrap__ZUPqi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"post_loading__3mILh\",\"wrap\":\"post_wrap__39DDk\",\"postWrap\":\"post_postWrap__2yJId\",\"noPostWrap\":\"post_noPostWrap__2glCV\",\"noPostGuide\":\"post_noPostGuide__2YZIj\",\"form\":\"post_form__11eap\",\"commentInput\":\"post_commentInput__2Jpy9\",\"post\":\"post_post__d7Chd\",\"postHeader\":\"post_postHeader__1Jf5l\",\"new\":\"post_new__3BR51\",\"postProfileImage\":\"post_postProfileImage__3UA5A\",\"postIssuerName\":\"post_postIssuerName__1CBWS\",\"authorPic\":\"post_authorPic__tUThV\",\"picOverlay\":\"post_picOverlay__17vyZ\",\"content\":\"post_content__1Pzdk\",\"postInteraction\":\"post_postInteraction__1NvPr\",\"postLikeCount\":\"post_postLikeCount__7T4OF\",\"postTag\":\"post_postTag__2IYby\",\"postComments\":\"post_postComments__t9bzx\",\"separater\":\"post_separater__3xgvC\",\"photo\":\"post_photo__34dts\",\"editPostBar\":\"post_editPostBar__2JT8v\",\"title\":\"post_title__Ee8_B\",\"contentDiv\":\"post_contentDiv__37BA5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"storybar_loading__v2wY3\",\"wrap\":\"storybar_wrap__2Mats\",\"storyBarWrap\":\"storybar_storyBarWrap__1Lz4Y\",\"barleftarrow\":\"storybar_barleftarrow__2Bowv\",\"barrightarrow\":\"storybar_barrightarrow__2mwu_\",\"storyCircleWrap\":\"storybar_storyCircleWrap__360Ij\",\"storyCircleContain\":\"storybar_storyCircleContain__26dTN\",\"storyBlock\":\"storybar_storyBlock__3Hpaz\",\"story\":\"storybar_story__3QWw7\",\"storyDeleteCross\":\"storybar_storyDeleteCross__2kfjE\",\"storyCircle\":\"storybar_storyCircle__35Gff\",\"storyCirclePlus\":\"storybar_storyCirclePlus__3irDM\",\"storyName\":\"storybar_storyName__3WDRb\",\"storyEditBar\":\"storybar_storyEditBar__3-zW2\",\"storyBlockWrap\":\"storybar_storyBlockWrap__2_Pxp\",\"rightarrow\":\"storybar_rightarrow__1enTd\",\"leftarrow\":\"storybar_leftarrow__3NcEN\",\"storyEdit\":\"storybar_storyEdit__4vAEs\",\"cancelStory\":\"storybar_cancelStory__3sKwf\",\"deleteStory\":\"storybar_deleteStory__vOrl1\",\"noPostUpload\":\"storybar_noPostUpload__164Av\",\"noPostGuide\":\"storybar_noPostGuide__3QIwd\"};","export const RECIEVED_USER = 'RECIEVED_USER';\nexport const RECEIVED_PROFILE = 'RECEIVED_PROFILE';\nexport const ADD_POST = 'ADD_POST';\nexport const EDIT_POST = 'EDIT_POST';\nexport const DELETE_POST = 'DELETE_POST';\nexport const RECIEVED_POSTS = 'RECIEVED_POSTS';\nexport const TOGGLE_LIKE_POST = 'TOGGLE_LIKE_POST';\nexport const RECEIVED_COMMENT = 'RECEIVED_COMMENT';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const TOGGLE_Comment_Like = 'TOGGLE_Comment_Like';\nexport const ADD_POST_COMMENT = 'ADD_POST_COMMENT';\nexport const EDIT_POST_COMMENT = 'EDIT_POST_COMMENT';\nexport const DELETE_POST_COMMENT = 'DELETE_POST_COMMENT';\nexport const TOGGLE_POST_Comment_Like = 'TOGGLE_POST_Comment_Like';\nexport const RECIEVED_TAGS = 'RECIEVED_TAGS';\nexport const UPDATE_TAG = 'UPDATE_TAG';\nexport const ADD_TAG = 'ADD_TAG';\nexport const SEARCH_TAGS = 'SEARCH_TAGS';\nexport const NOSEARCH_TAGS = 'NOSEARCH_TAGS';\nexport const RECIEVED_STORIES = 'RECIEVED_STORIES';\nexport const RECIEVED_MASTERPOSTS = 'RECIEVED_MASTERPOSTS';\nexport const ADD_STORY = 'ADD_STORY';\nexport const DELETE_STORY = 'DELETE_STORY';\nexport const EDIT_STORY = 'EDIT_STORY';\nexport const RECIEVING_LOADING = 'RECIEVING_LOADING';\nexport const RECEIVED_WELCOMEPOSTS = 'RECEIVED_WELCOMEPOSTS';\nexport const RECEIVED_RELATIONSHIP = 'RECEIVED_RELATIONSHIP';\nexport const SEND_FRIEND_REQUEST = 'SEND_FRIEND_REQUEST';\nexport const ACCEPT_FRIEND_REQUEST = 'ACCEPT_FRIEND_REQUEST';\nexport const UNFRIEND = 'UNFRIEND';\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBVZWdJJwPkKS_EMsJ_DJEz8KueVp1yFio',\n  authDomain: 'c-est-la-vie-data.firebaseapp.com',\n  databaseURL: 'https://c-est-la-vie-data.firebaseio.com',\n  projectId: 'c-est-la-vie-data',\n  storageBucket: 'c-est-la-vie-data.appspot.com',\n  messagingSenderId: '123383218156',\n  appId: '1:123383218156:web:49824064c7747053a5cac9',\n  measurementId: 'G-4FL2KGWYV7',\n};\n\n//initialize firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\nexport const auth = firebase.auth();\nexport const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport default firebase;\n","import firebase from '../firebase';\n\nconst uploadImage = (image, dest, callback) => {\n  var file = image;\n  // Create the file metadata\n  var metadata = {\n    contentType: 'image/jpeg', // #TODO: shouldn't hard code it, please fix.\n  };\n  var storageRef = firebase.storage().ref();\n  var uploadTask = storageRef.child(dest).put(file, metadata);\n  uploadTask.on(\n    firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n    function (snapshot) {\n      var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case firebase.storage.TaskState.PAUSED: // or 'paused'\n          console.log('Upload is paused');\n          break;\n        case firebase.storage.TaskState.RUNNING: // or 'running'\n          console.log('Upload is running');\n          break;\n      }\n    },\n    function (error) {\n      switch (error.code) {\n        case 'storage/unauthorized':\n          break;\n        case 'storage/canceled':\n          break;\n        case 'storage/unknown':\n          break;\n      }\n    },\n    function () {\n      uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        callback(downloadURL);\n      });\n    },\n  );\n};\n\nexport default uploadImage;\n","import { nanoid } from 'nanoid';\nimport { UPDATE_TAG, ADD_TAG } from '../redux/actionTypes';\nimport { db } from '../firebase';\n\nexport const tagProcess = (newTag, tagpostID) => (dispatch, getState) => {\n  const { tags } = getState();\n  const ref = db.collection('Tag').doc(newTag.value);\n  //tag array\n  let tagID = [];\n  tags.map((tag) => {\n    tagID.push(tag.value);\n  });\n\n  //如果有該tag了，新增tag的postID array\n  if (tagID.includes(newTag.value)) {\n    let updateTag = tags.find((tag) => tag.value === newTag.value);\n    let updateTagpostID = updateTag.postID;\n    updateTagpostID.push(tagpostID);\n\n    dispatch({\n      type: UPDATE_TAG,\n      payload: { tags },\n    });\n    //更新 firebase postID array\n    const ref = db.collection('Tag').doc(newTag.value);\n    ref.update({\n      postID: updateTagpostID,\n    });\n  } else {\n    //如果沒有該tag，新增新的state data 進tag state\n    const tagData = {\n      postID: [tagpostID],\n      label: newTag.label,\n      value: newTag.value,\n    };\n\n    dispatch({\n      type: ADD_TAG,\n      payload: { tagData },\n    });\n\n    //新增新的文件，文件名是tagValue\n    const ref = db.collection('Tag').doc(newTag.value);\n    ref.set(tagData).then(() => {});\n  }\n};\n","export default function formatPost(post) {\n  if (post && typeof post.postTime !== 'string') {\n    const date = post.postTime.toDate();\n    const shortTime = date.toDateString();\n    post.postTime = shortTime;\n  }\n}\n","import { nanoid } from 'nanoid';\nimport {\n  ADD_POST,\n  EDIT_POST,\n  DELETE_POST,\n  RECIEVED_POSTS,\n  TOGGLE_LIKE_POST,\n  TOGGLE_Comment_Like,\n  TOGGLE_POST_Comment_Like,\n  RECIEVING_LOADING,\n  RECEIVED_WELCOMEPOSTS,\n} from '../actionTypes';\nimport uploadImage from '../../utils/imageUpload';\nimport { tagProcess } from '../../utils/tagProcess';\nimport firebase, { db } from '../../firebase';\nimport formatPost from '../../utils/formatPost';\n\nexport const fetchPosts = (lastVisible, lastSnap, setLastSnap) => (dispatch, getState) => {\n  const { posts } = getState();\n  if (lastVisible === 0) {\n    const postsList = [];\n    db.collection('Post')\n      .orderBy('postTime', 'desc')\n      //get 10 post at first fetch\n      .limit(10)\n      .get()\n      .then((snap) => {\n        snap.forEach((post) => {\n          const postData = {\n            postID: post.id,\n            postImage: post.data().postImage,\n            postIssuer: post.data().postIssuer,\n            postMessage: post.data().postMessage,\n            postTag: post.data().postTag,\n            postLikes: post.data().postLikes || [],\n            postTime: post.data().postTime,\n          };\n          formatPost(postData);\n          postsList.push(postData);\n        });\n        setLastSnap(snap.docs[9]);\n      })\n      .then(() => {\n        dispatch({\n          type: RECIEVED_POSTS,\n          payload: { postsList },\n        });\n      })\n      .then(() => {\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  } else if (lastSnap) {\n    let postsList = [...posts];\n    db.collection('Post')\n      .orderBy('postTime', 'desc')\n      .startAfter(lastSnap)\n      //get 10 post at the following fetch\n      .limit(10)\n      .get()\n      .then((snap) => {\n        snap.forEach((post) => {\n          const postData = {\n            postID: post.id,\n            postImage: post.data().postImage,\n            postIssuer: post.data().postIssuer,\n            postMessage: post.data().postMessage,\n            postTag: post.data().postTag,\n            postLikes: post.data().postLikes || [],\n            postTime: post.data().postTime,\n          };\n          formatPost(postData);\n          postsList.push(postData);\n        });\n        setLastSnap(snap.docs[snap.docs.length - 1]);\n      })\n      .then(() => {\n        dispatch({\n          type: RECIEVED_POSTS,\n          payload: { postsList },\n        });\n      })\n      .then(() => {\n        dispatch({ type: RECIEVING_LOADING, payload: false });\n      });\n  }\n};\n\nexport const addPost = (image, newMsg, newTag) => (dispatch, getState) => {\n  const { user } = getState();\n\n  if (!user) return;\n  uploadImage(image, `Post/postImageLink${image.name}`, (downloadURL) => {\n    const post = {\n      postID: '',\n      postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: downloadURL },\n      postIssuer: {\n        postIssuerID: user.uid,\n        postIssuerImage: user.photoURL,\n        postIssuerName: user.displayName,\n      },\n      postMessage: newMsg,\n      postTag: {\n        postID: '',\n        label: newTag.label,\n        value: newTag.value,\n      },\n      postLikes: [],\n      postTime: firebase.firestore.FieldValue.serverTimestamp(),\n    };\n    const ref = db.collection('Post');\n    ref.add(post).then((docRef) => {\n      post.postID = docRef.id;\n\n      ref.doc(docRef.id).update({\n        postID: docRef.id,\n      });\n      ref\n        .doc(docRef.id)\n        .get()\n        .then((post) => {\n          const postData = post.data();\n          formatPost(postData);\n          dispatch({ type: ADD_POST, payload: { post: postData } });\n          dispatch(tagProcess(newTag, docRef.id));\n        });\n    });\n  });\n};\n\nexport const editPost = (editPostID, image, imageURL, newMsg, newTag, setIsUploadPopup) => (\n  dispatch,\n  getState,\n) => {\n  const { user } = getState();\n  if (!user) return;\n  let post = {};\n  if (image === null) {\n    post = {\n      postID: editPostID,\n      postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: imageURL },\n      postIssuer: {\n        postIssuerID: user.uid,\n        postIssuerImage: user.photoURL,\n        postIssuerName: user.displayName,\n      },\n      postMessage: newMsg,\n      postTag: {\n        postID: '',\n        label: newTag.label,\n        value: newTag.value,\n      },\n      postLikes: [],\n    };\n    const ref = db.collection('Post').doc(editPostID);\n    ref\n      .update(post)\n      .then(() => {\n        dispatch({ type: EDIT_POST, payload: { post } });\n      })\n      .then(() => {\n        setIsUploadPopup(true);\n      });\n    dispatch(tagProcess(newTag, post.postID));\n  } else {\n    uploadImage(image, `Post/postImageLink${image.name}`, (downloadURL) => {\n      post = {\n        postID: editPostID,\n        postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: downloadURL },\n        postIssuer: {\n          postIssuerID: user.uid,\n          postIssuerImage: user.photoURL,\n          postIssuerName: user.displayName,\n        },\n        postMessage: newMsg,\n        postTag: newTag,\n        postLikes: [],\n      };\n      const ref = db.collection('Post').doc(editPostID);\n      ref.update(post).then(() => {\n        dispatch({ type: EDIT_POST, payload: { post } });\n        dispatch(tagProcess(newTag, post.postID));\n        setIsUploadPopup(true);\n      });\n    });\n  }\n};\n\nexport const deletePost = (deletePost, setisDeletePopupClick) => (dispatch, getState) => {\n  const postID = deletePost.postID;\n  const ref = db.collection('Post');\n  ref\n    .doc(deletePost.postID)\n    .delete()\n    .then(() => {\n      setisDeletePopupClick(false);\n      dispatch({ type: DELETE_POST, payload: { postID } });\n    });\n};\n\nexport const togglePostLike = (id, isfrom) => (dispatch, getState) => {\n  const { user } = getState();\n\n  if (!user) return;\n\n  let ref = {};\n  let set = '';\n  let type = '';\n\n  if (isfrom === 'post') {\n    ref = db.collection('Post').doc(id);\n    set = 'postLikes';\n    type = TOGGLE_LIKE_POST;\n  } else if (isfrom === 'comment') {\n    ref = db.collection('Comment').doc(id);\n    set = 'likeIssuerID';\n    type = TOGGLE_Comment_Like;\n  }\n\n  let likeSet = {};\n  return db.runTransaction((transaction) => {\n    return transaction\n      .get(ref)\n      .then((postDoc) => {\n        if (postDoc.exists) {\n          return postDoc;\n        } else return;\n      })\n      .then((postDoc) => {\n        likeSet = new Set(postDoc.data()[set]);\n        if (likeSet.has(user.uid)) {\n          likeSet.delete(user.uid);\n        } else {\n          likeSet.add(user.uid);\n        }\n      })\n      .then(() => {\n        if (isfrom === 'post') {\n          let postLikes = Array.from(likeSet);\n          transaction.update(ref, { postLikes });\n          dispatch({ type: type, payload: { id, postLikes } });\n        } else if (isfrom === 'comment') {\n          let likeIssuerID = Array.from(likeSet);\n          transaction.update(ref, { likeIssuerID });\n          dispatch({ type: TOGGLE_Comment_Like, payload: { id, likeIssuerID } });\n          dispatch({ type: TOGGLE_POST_Comment_Like, payload: { id, likeIssuerID } });\n        }\n      });\n  });\n};\n\nexport const fetchMasterPosts = (paramsID) => (dispatch, getState) => {\n  db.collection('Post')\n    .orderBy('postTime', 'desc')\n    .where('postIssuer.postIssuerID', '==', paramsID)\n    .get()\n    .then((snap) => {\n      const postsList = [];\n      snap.forEach((post) => {\n        const postData = {\n          postID: post.id,\n          postImage: post.data().postImage,\n          postIssuer: post.data().postIssuer,\n          postMessage: post.data().postMessage,\n          postTag: post.data().postTag,\n          postLikes: post.data().postLikes || [],\n          postTime: post.data().postTime,\n        };\n        formatPost(postData);\n        postsList.push(postData);\n      });\n      return postsList;\n    })\n    .then((postsList) => {\n      dispatch({\n        type: RECIEVED_POSTS,\n        payload: { postsList },\n      });\n    })\n    .then(() => {\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n\nexport const fetchWelcomePosts = () => (dispatch) => {\n  const postsList = [];\n  db.collection('Post')\n    .orderBy('postTime', 'desc')\n    .get()\n    .then((snap) => {\n      snap.forEach((post) => {\n        const postData = {\n          postID: post.id,\n          postImage: post.data().postImage,\n          postIssuer: post.data().postIssuer,\n          postMessage: post.data().postMessage,\n          postTag: post.data().postTag,\n          postLikes: post.data().postLikes || [],\n          postTime: post.data().postTime,\n        };\n        if (typeof postData.postTime !== 'string') {\n          let date = postData.postTime.toDate();\n          let shortTime = date.toDateString();\n          postData.postTime = shortTime;\n        }\n        postsList.push(postData);\n      });\n      return postsList;\n    })\n    .then((postsList) => {\n      dispatch({ type: RECEIVED_WELCOMEPOSTS, payload: postsList });\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n","export default __webpack_public_path__ + \"static/media/cancel.5bd7c88e.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../../style/cancelbutton.module.css';\nimport cross from '../../img/cancel.svg';\n\nfunction CancelButton({ onClick }) {\n  return (\n    <div className={styles.cancelWrap} onClick={onClick}>\n      <img className={styles.cancelButtonImg} src={cross} />\n    </div>\n  );\n}\n\nCancelButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default CancelButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport CancelButton from './CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const StyleModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentWrap : styles.contentWrapNone}`}>\n        <div className={styles.postContentDiv}>\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n          {children}\n        </div>\n      </div>\n      <div className={`${show ? styles.postModalDiv : styles.postModalDivNone}`} />\n    </>,\n    document.getElementById('portal'),\n  );\n};\n\nStyleModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport CreatableSelect from 'react-select/creatable';\n\nfunction ChooseTags({ newTag, setNewTag }) {\n  const tags = useSelector((state) => state.tags);\n  const handleChange = (newValue, actionMeta) => {\n    setNewTag(newValue);\n  };\n  const handleInputChange = (inputValue, actionMeta) => {\n    console.group('Input Changed');\n    console.groupEnd();\n  };\n\n  const customStyles = {\n    control: (base, state) => ({\n      ...base,\n      background: ' rgb(250,250,250)',\n      // match with the menu\n      borderRadius: state.isFocused ? '3px 3px 0 0' : 3,\n      // Overwrittes the different states of border\n      borderColor: 'rgb(219,219,219)',\n      borderRadius: '8px',\n      // Removes weird border around container\n      boxShadow: state.isFocused ? null : null,\n      '&:hover': {\n        // Overwrittes the different states of border\n        borderColor: 'rgb(187, 140, 47)',\n      },\n    }),\n    menu: (base) => ({\n      ...base,\n      // override border radius to match the box\n      borderRadius: '5px',\n      // kill the gap\n      marginTop: 0,\n    }),\n    menuList: (base) => ({\n      ...base,\n      // kill the white space on first and last option\n      padding: 0,\n    }),\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      // backgroundColor: isDisabled ? 'red' : 'blue',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n    multiValue: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      border: 'none',\n      background: 'rgb(250,250,250)',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n  };\n  let tagHolder;\n  if (newTag) {\n    tagHolder = newTag.value;\n  } else {\n    tagHolder = '#Tag...';\n  }\n\n  return (\n    <>\n      {newTag ? (\n        <CreatableSelect\n          isClearable\n          onChange={handleChange}\n          onInputChange={handleInputChange}\n          options={tags}\n          placeholder={tagHolder}\n          styles={customStyles}\n          value={newTag.value}\n        />\n      ) : (\n        <CreatableSelect\n          isClearable\n          onChange={handleChange}\n          onInputChange={handleInputChange}\n          options={tags}\n          placeholder={tagHolder}\n          styles={customStyles}\n          value='#Tag...'\n        />\n      )}\n    </>\n  );\n}\n\nChooseTags.propTypes = {\n  setNewTag: PropTypes.func.isRequired,\n  newTag: PropTypes.object,\n};\n\nexport default ChooseTags;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { togglePostLike } from '../../redux/actions/postAction';\nimport '../../style/heart.css';\n\nfunction Heart({ id, likes, isfrom }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const isLiked = user ? likes.includes(user.uid) : false;\n  const heartRef = React.useRef(null);\n  const heartClick = () => {\n    if (isLiked) {\n      heartRef.current.className = ' HeartAnimation';\n    } else {\n      heartRef.current.className = ' HeartAnimation animate';\n    }\n  };\n\n  return (\n    <>\n      {isLiked ? (\n        <div\n          className='HeartAnimation animate'\n          ref={heartRef}\n          onClick={() => {\n            dispatch(togglePostLike(id, isfrom));\n            heartClick();\n          }}></div>\n      ) : (\n        <div\n          className='HeartAnimation'\n          ref={heartRef}\n          onClick={() => {\n            dispatch(togglePostLike(id, isfrom));\n            heartClick();\n          }}></div>\n      )}\n    </>\n  );\n}\n\nHeart.propTypes = {\n  id: PropTypes.string.isRequired,\n  likes: PropTypes.array.isRequired,\n  isfrom: PropTypes.string.isRequired,\n};\n\nexport default Heart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport cross from '../../img/cancel.svg';\nimport styles from '../../style/storybar.module.css';\nimport popupstyles from '../../style/popup.module.css';\n\nexport const MsgPopup = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? popupstyles.msgContentDiv : popupstyles.msgContentDivNone}`}>\n        <div className={styles.cancelStory} onClick={handleClose}>\n          <div className={popupstyles.cancelWrap}>\n            <img style={{ width: '6px', height: '6px' }} src={cross}></img>\n          </div>\n        </div>\n        {children}\n      </div>\n      <div className={`${show ? popupstyles.msgModalDiv : popupstyles.msgModalDivNone}`} />\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nMsgPopup.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Heart from '../post/Heart';\nimport { MsgPopup } from '../common/MsgPopup';\nimport CancelButton from '../common/CancelButton';\nimport { editComment, deleteComment } from '../../redux/actions/commentAction';\nimport styles from '../../style/comment.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction Comment({ comment, setPostComments, postComments }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const { commentIssuer, commentIssuerMessage } = comment;\n  //(div) comment onclick >>isedit true >>從 div 改為 input >>input onchange 改 commentcontent state, onkeydown 觸發 fun 若是 13，(0)改isedit 為false，回div(1)dispatch  edit comment, (2)用commentid 改db,改state >>\n  const [isCommentDeleteClick, setisCommentDeleteClick] = useState(false);\n  const [isCommentEdit, setIsCommentEdit] = useState(false);\n  const [commentContent, setCommentContent] = useState(commentIssuerMessage);\n\n  //edit\n  const keyDownEvent = (e) => {\n    if (e.key === 'Enter') {\n      setIsCommentEdit(false);\n      setCommentContent(commentContent);\n      comment.commentIssuerMessage = commentContent;\n      dispatch(editComment(comment, commentContent));\n    }\n  };\n  useEffect(() => {\n    setCommentContent(comment.commentIssuerMessage);\n  }, [commentIssuerMessage]);\n  return (\n    <>\n      <div className={styles.comment}>\n        <img className={styles.commentImage} src={commentIssuer.commentIssuerImage} />\n        <p>\n          <span className={styles.postIssuerName}>{commentIssuer.commentIssuerName}</span>\n\n          {user.uid === commentIssuer.commentIssuerID && isCommentEdit ? (\n            <input\n              className={styles.commentMsg}\n              value={commentContent}\n              onChange={(e) => {\n                setCommentContent(e.target.value);\n              }}\n              onKeyDown={(e) => {\n                keyDownEvent(e);\n              }}\n            />\n          ) : (\n            <span\n              className={styles.commentMsg}\n              onClick={() => {\n                setIsCommentEdit(true);\n              }}>\n              {commentContent}\n            </span>\n          )}\n        </p>\n        <div className={styles.commentActions}>\n          <div className={styles.commentLike}>\n            <Heart id={comment.commentID} likes={comment.likeIssuerID} isfrom='comment' />\n          </div>\n          {user.uid === commentIssuer.commentIssuerID ? (\n            <CancelButton onClick={() => setisCommentDeleteClick(true)} />\n          ) : (\n            <div className={styles.cancelWrapNone}></div>\n          )}\n        </div>\n      </div>\n      <MsgPopup\n        show={isCommentDeleteClick}\n        handleClose={() => {\n          setisCommentDeleteClick(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Sure to Delete ?</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisCommentDeleteClick(false);\n              }}>\n              Cancel\n            </button>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisCommentDeleteClick(false);\n                dispatch(deleteComment(comment, setPostComments, postComments));\n              }}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.object.isRequired,\n  setPostComments: PropTypes.func.isRequired,\n  postComments: PropTypes.array.isRequired,\n};\n\nexport default Comment;\n","import {\n  RECEIVED_COMMENT,\n  ADD_COMMENT,\n  DELETE_COMMENT,\n  ADD_POST_COMMENT,\n  EDIT_POST_COMMENT,\n  DELETE_POST_COMMENT,\n} from '../actionTypes';\nimport firebase, { db } from '../../firebase';\n\nexport const fetchComments = (clickPostID, lastSnap, setLastSnap, lastVisible) => (\n  dispatch,\n  getState,\n) => {\n  const { comments } = getState();\n  let queryOpen = false;\n  if (lastVisible === 0) {\n    let commentsList = [];\n    db.collection('Comment')\n      .orderBy('commentTime', 'desc')\n      .limit(10)\n      .where('postID', '==', clickPostID)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          commentsList.push(doc.data());\n        });\n        setLastSnap(querySnapshot.docs[9]);\n        queryOpen = true;\n      })\n      .then(() => {\n        dispatch({ type: RECEIVED_COMMENT, payload: { commentsList } });\n      });\n  } else if (lastSnap) {\n    let commentsList = [...comments];\n    db.collection('Comment')\n      .orderBy('commentTime', 'desc')\n      .startAfter(lastSnap)\n      .limit(5)\n      .where('postID', '==', clickPostID)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          commentsList.push(doc.data());\n        });\n        setLastSnap(querySnapshot.docs[querySnapshot.docs.length - 1]);\n      })\n      .then(() => {\n        dispatch({ type: RECEIVED_COMMENT, payload: { commentsList } });\n      });\n  }\n};\n\nexport const addComment = (postID, newComment) => (dispatch, getState) => {\n  if (!newComment) return;\n  const { user } = getState();\n  if (!user) return;\n  const comment = {\n    commentIssuer: {\n      commentIssuerID: user.uid,\n      commentIssuerImage: user.photoURL,\n      commentIssuerName: user.displayName,\n    },\n    commentIssuerMessage: newComment,\n    likeIssuerID: [],\n    postID: postID,\n    commentID: '',\n    commentTime: firebase.firestore.FieldValue.serverTimestamp(),\n  };\n  const ref = db.collection('Comment');\n  ref.add(comment).then((docRef) => {\n    comment.commentID = docRef.id;\n    dispatch({ type: ADD_POST_COMMENT, payload: { comment } });\n    dispatch({ type: ADD_COMMENT, payload: { comment } });\n    //寫commentID 回firebase\n    ref.doc(docRef.id).update({\n      commentID: docRef.id,\n    });\n  });\n};\n\nexport const editComment = (comment, commentContent) => (dispatch, getState) => {\n  let editedPostComment = [];\n  const ref = db.collection('Comment').doc(comment.commentID);\n  ref\n    .update({\n      commentIssuerMessage: commentContent,\n    })\n    .then(() => {\n      //撈出有編輯的那筆，改那筆\n      const { postcomments } = getState();\n      postcomments.forEach((postComment) => {\n        let newPostComment = { ...postComment };\n        if (postComment.commentID === comment.commentID) {\n          newPostComment.commentIssuerMessage = commentContent;\n        }\n        editedPostComment.push(newPostComment);\n      });\n\n      dispatch({\n        type: EDIT_POST_COMMENT,\n        payload: { editedPostComment },\n      });\n    });\n};\nexport const deleteComment = (comment, setPostComments, postComments) => (dispatch, getState) => {\n  const { comments } = getState();\n  const { postcomments } = getState();\n  let newComments = comments.filter((postComment) => postComment.commentID !== comment.commentID);\n\n  let newPostComments = postcomments.filter(\n    (postComment) => postComment.commentID !== comment.commentID,\n  );\n  dispatch({\n    type: DELETE_COMMENT,\n    payload: { newComments },\n  });\n  dispatch({\n    type: DELETE_POST_COMMENT,\n    payload: { newPostComments },\n  });\n\n  const ref = db.collection('Comment').doc(comment.commentID);\n  ref.delete().then(() => {\n    console.log('delete data successful');\n  });\n};\n","import { React, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addComment } from '../../redux/actions/commentAction';\nimport styles from '../../style/post.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction Commenting({ postID }) {\n  const [newComment, setNewCommment] = useState('');\n  const dispatch = useDispatch();\n\n  return (\n    <form\n      className={styles.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        dispatch(addComment(postID, newComment));\n        setNewCommment('');\n      }}>\n      <input\n        className={styles.commentInput}\n        value={newComment}\n        type='text'\n        id={nanoid()}\n        name='text'\n        autoComplete='off'\n        placeholder='Reply...'\n        onChange={(e) => {\n          setNewCommment(e.target.value);\n        }}></input>\n    </form>\n  );\n}\n\nCommenting.propTypes = {\n  postID: PropTypes.string.isRequired,\n};\n\nexport default Commenting;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Post from '../post/Post';\nimport ChooseTags from './ChooseTags';\nimport { StyleModal } from '../common/PopupModal';\nimport { editPost } from '../../redux/actions/postAction';\nimport styles from '../../style/popup.module.css';\nimport styled from '../../style/editpostpopup.module.css';\n\nfunction EditPostPopup({ editPostID, setisEditClick, isEditClick, setIsUploadPopup }) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const editpost = posts.find((post) => post.postID === editPostID);\n  const [uploadViewStage, setUploadViewStage] = useState(0);\n  const [image, setImage] = useState(null);\n  const [imageURL, setImageURL] = useState(editpost.postImage.postImageLink);\n  const post = {\n    postID: editpost.postID,\n    postImage: {\n      postImageID: editpost.postImage.postImageID,\n      postImageLink: imageURL,\n    },\n    postIssuer: {\n      postIssuerID: editpost.postIssuer.postIssuerID,\n      postIssuerImage: editpost.postIssuer.postIssuerImage,\n      postIssuerName: editpost.postIssuer.postIssuerName,\n    },\n    postMessage: editpost.postMessage,\n    postTag: editpost.postTag,\n    postLikes: editpost.postLikes,\n    postTime: editpost.postTime,\n  };\n\n  const handlePictureChange = (e) => {\n    setImage(e.target.files[0]);\n    const imageURL = URL.createObjectURL(e.target.files[0]);\n    setImageURL(imageURL);\n  };\n\n  const choosePic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Pick the Photo</div>\n        <div className={styled.decideButtonBlock}>\n          <label htmlFor='editPictureButton' className={styles.uploadButton}>\n            Choose\n          </label>\n          <input type='file' id='editPictureButton' onChange={handlePictureChange} />\n          {imageURL && (\n            <button\n              className={styles.decideButton}\n              onClick={(e) => {\n                setUploadViewStage(1);\n                e.stopPropagation();\n              }}>\n              Next\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n  //msg & tag\n  const [newMsg, setNewMsg] = useState(post.postMessage);\n  const [newTag, setNewTag] = useState(post.postTag);\n\n  // Msg\n  const handleMsgChange = (e) => {\n    setNewMsg(e.target.value);\n  };\n\n  const writeMsgTag = (\n    <div className={styled.postPopupRightModel}>\n      <div className={styled.decideBlockMsg}>\n        <textarea\n          className={styled.postMsgInput}\n          type='text'\n          id='postMsg'\n          name='postMsg'\n          cols='20'\n          rows='13'\n          value={newMsg}\n          placeholder={newMsg}\n          onChange={handleMsgChange}></textarea>\n        <div className={styled.searchButtonBlock}>\n          <div className={styled.postSearch}>\n            <ChooseTags newTag={newTag} setNewTag={setNewTag} />\n          </div>\n          <div className={styles.decideButtonWrap}>\n            <button className={styles.decideButton} onClick={() => setUploadViewStage(0)}>\n              Back\n            </button>\n            {newMsg && newTag ? (\n              <button\n                className={styles.decideButton}\n                onClick={() => {\n                  setUploadViewStage(2);\n                }}>\n                Next\n              </button>\n            ) : (\n              <button className={styles.decideButtonVag}> Next</button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const uploadPic = (\n    <div className={styles.rightModel}>\n      <div className={styles.decideBlock}>\n        <div className={styles.blockTitle}>Share your Story!</div>\n        <div className={styled.decideButtonBlock}>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              setUploadViewStage(1);\n              e.stopPropagation();\n            }}>\n            Back\n          </button>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              setIsUploadPopup(true);\n              e.preventDefault();\n              e.stopPropagation();\n              dispatch(editPost(editPostID, image, imageURL, newMsg, newTag, setIsUploadPopup));\n              setisEditClick(false);\n              setImageURL(null);\n              setUploadViewStage(0);\n            }}>\n            Upload\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  let view = '';\n  if (uploadViewStage === 0) {\n    view = choosePic;\n  } else if (uploadViewStage === 1) {\n    view = writeMsgTag;\n  } else if (uploadViewStage === 2) {\n    view = uploadPic;\n  }\n\n  return (\n    <>\n      <StyleModal\n        show={isEditClick}\n        handleClose={() => {\n          setisEditClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}></div>\n          <div className={styled.buttonModal}>\n            <div className={styles.leftModel}>\n              <Post post={post} isFromEdit={true} newTag={newTag} />\n            </div>\n            {view}\n          </div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nEditPostPopup.propTypes = {\n  editPostID: PropTypes.string.isRequired,\n  setisEditClick: PropTypes.func.isRequired,\n  setIsUploadPopup: PropTypes.func.isRequired,\n  isEditClick: PropTypes.bool.isRequired,\n  editStory: PropTypes.string.isRequired,\n  setEditStory: PropTypes.object.isRequired,\n};\n\nexport default EditPostPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../../style/popup.module.css';\n\nexport const BarPopup = ({ handleClose, show, top, right, children }) => {\n  return (\n    <div\n      className={`${show ? styles.editContainerDiv : styles.editContainerDivNone}`}\n      style={{ top: top, right: right }}>\n      <div className={`${show ? styles.editContentDiv : styles.editContentDivNone}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nBarPopup.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  top: PropTypes.string,\n  right: PropTypes.string,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Post from '../post/Post';\nimport { StyleModal } from '../common/PopupModal';\nimport { deletePost } from '../../redux/actions/postAction';\nimport styles from '../../style/popup.module.css';\nimport styled from '../../style/editpostpopup.module.css';\n\nfunction DeletePopup({\n  deletePostID,\n  setisDeletePopupClick,\n  isDeletePopupClick,\n  setIsDeletePopup,\n  setisPostClick,\n}) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const deletepost = posts.find((post) => post.postID === deletePostID);\n\n  return (\n    <StyleModal\n      show={isDeletePopupClick}\n      handleClose={() => {\n        setisDeletePopupClick(false);\n      }}>\n      <div className={styles.modelWrap}>\n        <div className={styles.topModel}></div>\n        <div className={styled.buttonModal}>\n          <div className={styles.leftModel}>\n            {deletepost && <Post post={deletepost} isFromDelete={true} />}\n          </div>\n\n          <div className={styles.rightModel}>\n            <div className={styles.decideBlock} style={{ margin: '0px 0px 50px 0px' }}>\n              <div className={styles.blockTitle}>Think Twice</div>\n              <p className={styled.deleteBlockSubTitle}>Say GoodBye to the Story?</p>\n              <div className={styled.decideButtonBlock}>\n                <button\n                  className={styles.decideButton}\n                  onClick={() => {\n                    setisDeletePopupClick(false);\n                  }}>\n                  Back\n                </button>\n                <button\n                  className={styles.decideButton}\n                  onClick={() => {\n                    dispatch(deletePost(deletepost, setisDeletePopupClick));\n                    setisPostClick(false);\n                    setIsDeletePopup(true);\n                  }}>\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </StyleModal>\n  );\n}\n\nDeletePopup.propTypes = {\n  deletePostID: PropTypes.string.isRequired,\n  setisDeletePopupClick: PropTypes.func.isRequired,\n  setIsDeletePopup: PropTypes.func.isRequired,\n  setisPostClick: PropTypes.func.isRequired,\n  isDeletePopupClick: PropTypes.bool.isRequired,\n};\n\nexport default DeletePopup;\n","export default __webpack_public_path__ + \"static/media/more.73d5af0c.svg\";","import { React, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport EditPostPopup from '../common/EditPostPopup';\nimport { BarPopup } from '../common/BarPopup';\nimport DeletePopup from '../common/DeletePopup';\nimport { MsgPopup } from '../common/MsgPopup';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\nimport more from '../../img/more.svg';\n\nfunction EditPostBar({\n  postID,\n  postIssuerID,\n  clickEdit,\n  setclickEdit,\n  isDeletePopup,\n  setIsDeletePopup,\n  setisPostClick,\n}) {\n  const user = useSelector((state) => state.user);\n  //click edit\n  const [isEditClick, setisEditClick] = useState(false);\n  const [isEditBlockClick, setIsEditBlockClick] = useState(false);\n  const [isDeletePopupClick, setisDeletePopupClick] = useState(false);\n  const [isUploadPopup, setIsUploadPopup] = useState(false);\n  return (\n    <>\n      {isDeletePopup}\n      {user && user.uid === postIssuerID && (\n        <>\n          <div\n            style={{ marginLeft: 'auto', position: 'relative' }}\n            className='editPostBar'\n            onClick={(e) => {\n              e.stopPropagation();\n              setclickEdit(postID);\n              setIsEditBlockClick(!isEditBlockClick);\n            }}>\n            <img src={more} style={{ width: '17px', height: '17px', cursor: 'pointer' }} />\n\n            {postID === clickEdit && (\n              <BarPopup show={isEditBlockClick} top='20px' right='0px'>\n                <div\n                  className='editPost'\n                  onClick={(e) => {\n                    setisEditClick(true);\n                    e.stopPropagation();\n                  }}>\n                  Edit\n                </div>\n                <div\n                  className='deletePost'\n                  onClick={(e) => {\n                    setisDeletePopupClick(true);\n                    e.stopPropagation();\n                  }}>\n                  Delete\n                </div>\n                {isEditClick && (\n                  <EditPostPopup\n                    setisEditClick={setisEditClick}\n                    isEditClick={isEditClick}\n                    editPostID={postID}\n                    setIsUploadPopup={setIsUploadPopup}\n                  />\n                )}\n                {isDeletePopupClick && (\n                  <DeletePopup\n                    setisDeletePopupClick={setisDeletePopupClick}\n                    isDeletePopupClick={isDeletePopupClick}\n                    deletePostID={postID}\n                    setIsDeletePopup={setIsDeletePopup}\n                    setisPostClick={setisPostClick}\n                  />\n                )}\n              </BarPopup>\n            )}\n          </div>\n        </>\n      )}\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isUploadPopup}\n        handleClose={() => {\n          setisUploadPopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsUploadPopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nEditPostBar.propTypes = {\n  postID: PropTypes.string.isRequired,\n  postIssuerID: PropTypes.string.isRequired,\n  setDeletePost: PropTypes.func,\n  setclickEdit: PropTypes.func,\n  setisPostClick: PropTypes.func,\n  clickEdit: PropTypes.string,\n  isDeletePopup: PropTypes.bool,\n  setIsDeletePopup: PropTypes.func,\n};\n\nexport default EditPostBar;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EditPostBar from './EditPostBar';\nimport Comment from './Comment';\nimport { StyleModal } from '../common/PopupModal';\nimport Commenting from './Commenting';\nimport { fetchComments } from '../../redux/actions/commentAction';\nimport styles from '../../style/editpostpopup.module.css';\nimport postblock from '../../style/postblock.module.css';\n\nfunction PostPopup({\n  post,\n  clickPostID,\n  setisPostClick,\n  isPostClick,\n  isDeletePopup,\n  setIsDeletePopup,\n}) {\n  const { postID, postIssuer, postImage, postLikes, postTime, postTag, postMessage } = post;\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const clickpost = posts.find((post) => post.postID === clickPostID);\n  // postComments: 符合post id的\n  const [postComments, setPostComments] = useState([]);\n  const [clickEdit, setclickEdit] = useState('');\n  const [lastSnap, setLastSnap] = useState('');\n  const [lastVisible, setLastVisible] = useState(0);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let commentsList = comments.map((comment) => {\n      if (comment.postID === postID) {\n        return comment;\n      }\n    });\n    setPostComments(commentsList);\n  }, [comments]);\n\n  useEffect(() => {\n    dispatch(fetchComments(clickPostID, lastSnap, setLastSnap, lastVisible));\n  }, [lastVisible]);\n\n  return (\n    <StyleModal\n      show={isPostClick}\n      handleClose={() => {\n        setisPostClick(false);\n      }}>\n      {clickpost && (\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}>\n            <div className={styles.space}></div>\n            <Link\n              to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n              style={{ textDecoration: 'none' }}>\n              <img\n                className={postblock.postProfileImage}\n                src={clickpost.postIssuer.postIssuerImage}></img>\n            </Link>\n\n            <div className={postblock.postProfileName}>{clickpost.postIssuer.postIssuerName}</div>\n\n            {user && user.uid === clickpost.postIssuer.postIssuerID && (\n              <EditPostBar\n                postID={clickPostID}\n                postIssuerID={clickpost.postIssuer.postIssuerID}\n                clickEdit={clickEdit}\n                setclickEdit={setclickEdit}\n                isDeletePopup={isDeletePopup}\n                setIsDeletePopup={setIsDeletePopup}\n                setisPostClick={setisPostClick}\n              />\n            )}\n          </div>\n          <div className={postblock.separater}></div>\n          <div className={styles.buttonModal}>\n            <div className={styles.leftModel} style={{ display: 'block' }}>\n              <div className={postblock.postPictureWrap}>\n                <img className={postblock.postPicture} src={clickpost.postImage.postImageLink} />\n              </div>\n              <div className={postblock.messageBlock}>\n                {postMessage}\n                <br />\n                <br />\n              </div>\n            </div>\n\n            <div className={postblock.rightModel}>\n              <div className={postblock.commentsWrap}>\n                {postComments &&\n                  postComments.map((postComment) => {\n                    if (postComment) {\n                      return (\n                        <>\n                          <Comment\n                            key={postComment.commentID}\n                            comment={postComment}\n                            setPostComments={setPostComments}\n                            postComments={postComments}\n                          />\n                        </>\n                      );\n                    }\n                  })}\n\n                {postComments.length > 9 ? (\n                  <div\n                    onClick={() => {\n                      let newLast = lastVisible + 5;\n                      setLastVisible(newLast);\n                    }}>\n                    +\n                  </div>\n                ) : (\n                  ''\n                )}\n              </div>\n              {user && (\n                <div className={postblock.commenting}>\n                  <Commenting postID={postID} />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </StyleModal>\n  );\n}\n\nPostPopup.propTypes = {\n  clickPostID: PropTypes.string.isRequired,\n  postID: PropTypes.string.isRequired,\n  setisPostClick: PropTypes.func.isRequired,\n  setIsDeletePopup: PropTypes.func.isRequired,\n  isPostClick: PropTypes.bool.isRequired,\n  clickEdit: PropTypes.bool.isRequired,\n  isDeletePopup: PropTypes.bool.isRequired,\n  post: PropTypes.object.isRequired,\n};\n\nexport default PostPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport CancelButton from '../common/CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const LoginPopup = ({ handleClose, show, children, slideTime }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentDiv : styles.contentWrapNone}`}>\n        {slideTime ? (\n          <div\n            className={styles.close}\n            onClick={() => {\n              slideTime();\n            }}>\n            <CancelButton onClick={handleClose} />\n          </div>\n        ) : (\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n        )}\n        {children}\n      </div>\n\n      <div className={`${show ? styles.modalDiv : styles.modalDivNone}`}></div>\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nLoginPopup.propTypes = {\n  handleClose: PropTypes.func,\n  slideTime: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","export default __webpack_public_path__ + \"static/media/LA_VIE_logo.c8c708c3.png\";","import React from 'react';\nimport styles from '../../style/header.module.css';\nimport logo from '../../img/LA_VIE_logo.png';\n\nfunction Logo() {\n  return (\n    <>\n      <img className={styles.navIcon} src={logo}></img>\n    </>\n  );\n}\n\nexport default Logo;\n","import { RECIEVED_USER } from '../actionTypes';\nimport { db, auth, facebookAuthProvider, googleAuthProvider } from '../../firebase';\n\nexport const login = (provider, setLoginPopup, setisPostClick) => (dispatch) => {\n  let authProvider;\n  if (provider === 'google') {\n    authProvider = googleAuthProvider;\n  } else if (provider === 'facebook') {\n    authProvider = facebookAuthProvider;\n  }\n  auth.signInWithPopup(authProvider).then(async (result) => {\n    setLoginPopup(false);\n    if (setisPostClick) {\n      setisPostClick(false);\n    }\n    if (result) {\n      const { user } = result;\n      let url = user.photoURL;\n      url += '?width=700';\n      db.collection('User')\n        .doc(user.uid)\n        .set(\n          {\n            profileMessage: 'LA VIE',\n            userName: user.displayName,\n            userProfileImage: url,\n          },\n          { merge: true },\n        )\n        .then(() => {\n          // window.location = '/main';\n          localStorage.setItem('User', JSON.stringify(user));\n          dispatch({ type: RECIEVED_USER, payload: { user } });\n        });\n    }\n  });\n};\n\nexport const logout = () => (dispatch) => {\n  auth.signOut();\n  localStorage.clear();\n  dispatch({ type: RECIEVED_USER, payload: { user: null } });\n  window.location = '/';\n};\n","export default __webpack_public_path__ + \"static/media/travel.bbbe0cbb.jpg\";","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Heart from './Heart';\nimport Comment from './Comment';\nimport Commenting from './Commenting';\nimport EditPostBar from './EditPostBar';\nimport PostPopup from './PostPopup';\nimport { LoginPopup } from '../common/LoginPopup';\nimport Logo from '../common/Logo';\nimport '../../style/heart.css';\nimport '../../style/heart.css';\nimport { login } from '../../redux/actions/loginAction';\nimport travel from '../../img/travel.jpg';\nimport headerstyle from '../../style/header.module.css';\nimport styles from '../../style/post.module.css';\nfunction Post({\n  post,\n  newTag,\n  isFromDelete,\n  isFromUpload,\n  isFromEdit,\n  isfromWelcome,\n  clickEdit,\n  setclickEdit,\n  isDeletePopup,\n  setIsDeletePopup,\n}) {\n  const { postID, postIssuer, postImage, postLikes, postTime, postTag, postMessage } = post;\n  const user = useSelector((state) => state.user);\n  const postcomments = useSelector((state) => state.postcomments);\n  const [commentList, setCommentList] = useState([]);\n  const [pleaseLogin, setPleaseLogin] = useState(false);\n  const [isPostClick, setisPostClick] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let newList = postcomments.filter((comment) => comment.postID === postID);\n    setCommentList(newList);\n  }, [postcomments]);\n\n  const checkLogin = () => {\n    if (!user) {\n      setPleaseLogin(!pleaseLogin);\n    }\n  };\n  return (\n    <>\n      <div\n        className={styles.post}\n        onClick={() => {\n          checkLogin();\n        }}>\n        <div className={styles.postHeader}>\n          {!isfromWelcome && (\n            <>\n              <div>\n                <Link\n                  to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n                  style={{ textDecoration: 'none' }}>\n                  <img className={styles.postProfileImage} src={postIssuer.postIssuerImage}></img>\n                </Link>\n              </div>\n              <Link\n                to={(location) => `/profile?id=${postIssuer.postIssuerID}`}\n                style={{ textDecoration: 'none' }}>\n                <div className={styles.postIssuerName}>{postIssuer.postIssuerName}</div>\n              </Link>\n            </>\n          )}\n          {!isFromDelete && !isFromUpload && !isfromWelcome && !isFromEdit && (\n            <EditPostBar\n              postID={postID}\n              postIssuerID={postIssuer.postIssuerID}\n              clickEdit={clickEdit}\n              setclickEdit={setclickEdit}\n              isDeletePopup={isDeletePopup}\n              setIsDeletePopup={setIsDeletePopup}\n              setisPostClick={setisPostClick}\n            />\n          )}\n        </div>\n        <div className={styles.authorPic}>\n          <div\n            className={styles.picOverlay}\n            onClick={() => {\n              setisPostClick(true);\n            }}>\n            <div className={styles.content}>\n              <div className={styles.textspan}>{postMessage}</div>\n            </div>\n          </div>\n          <img className={styles.photo} src={postImage.postImageLink}></img>\n        </div>\n        <div className={styles.postInteraction}>\n          {isFromDelete || isFromUpload || isfromWelcome || isFromEdit ? (\n            <>\n              <div className='HeartAnimation animate'></div>\n              <div style={{ width: '170px' }}></div>\n              {newTag ? <div>#{newTag.value}</div> : <div>#{postTag.value}</div>}\n            </>\n          ) : (\n            <>\n              <Heart id={postID} likes={postLikes} isfrom='post' />\n              {!isfromWelcome && (\n                <>\n                  <div className={styles.postLikeCount}>{postLikes.length}</div>{' '}\n                  <div className={styles.postTag}>#{postTag.value}</div>\n                </>\n              )}\n            </>\n          )}\n        </div>\n        <>\n          {isfromWelcome || !user ? (\n            ''\n          ) : (\n            <div\n              className={styles.postComments}\n              onClick={() => {\n                setisPostClick(true);\n                // setclickPostID(postID);\n              }}>\n              See More\n            </div>\n          )}\n          {user && !isFromDelete && !isFromUpload && !isFromEdit && (\n            <>\n              {commentList.map((comment) => {\n                return <Comment key={comment.commentID} comment={comment} />;\n              })}\n              <div className={styles.separater}></div>\n              <Commenting postID={postID} />\n            </>\n          )}\n        </>\n      </div>\n      {isPostClick && user && !isFromDelete && !isFromUpload && !isFromEdit && !isfromWelcome && (\n        <PostPopup\n          isFromDelete={isFromDelete}\n          isFromUpload={isFromUpload}\n          setisPostClick={setisPostClick}\n          isPostClick={isPostClick}\n          clickPostID={postID}\n          postID={postID}\n          post={post}\n          isDeletePopup={isDeletePopup}\n          setIsDeletePopup={setIsDeletePopup}\n        />\n      )}\n      {!isfromWelcome && (\n        <LoginPopup\n          show={pleaseLogin}\n          handleClose={() => {\n            setPleaseLogin(false);\n          }}>\n          <div className={headerstyle.loginPopContain}>\n            <div className={headerstyle.loginTitle}>\n              <img src={travel} />\n            </div>\n            <div className={headerstyle.loginWrap}>\n              <Logo />\n              <br />\n              <div className={headerstyle.title1}> Share your life in</div>\n              <div className={headerstyle.title2}> LA VIE</div>\n              <br />\n              <br />\n              <div className={headerstyle.text}> Login with</div>\n              <div\n                className={headerstyle.google}\n                onClick={() => dispatch(login('google', setPleaseLogin, setisPostClick))}>\n                Google Login\n              </div>\n              <div className={headerstyle.text}> OR</div>\n              <div\n                className={headerstyle.facebook}\n                onClick={() => dispatch(login('facebook', setPleaseLogin, setisPostClick))}>\n                Facebook Login\n              </div>\n            </div>\n          </div>\n        </LoginPopup>\n      )}\n    </>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    postID: PropTypes.string,\n    postTime: PropTypes.object,\n    postMessage: PropTypes.string,\n    postTag: PropTypes.object,\n    postImage: PropTypes.shape({\n      postImageLink: PropTypes.string,\n    }),\n    postIssuer: PropTypes.shape({\n      postIssuerID: PropTypes.string,\n      postIssuerName: PropTypes.string,\n      postIssuerImage: PropTypes.string,\n    }),\n    postLikes: PropTypes.array,\n  }),\n  setDeletePost: PropTypes.func,\n  setclickEdit: PropTypes.func,\n  setIsDeletePopup: PropTypes.func,\n  isFromDelete: PropTypes.bool,\n  isFromUpload: PropTypes.bool,\n  isFromEdit: PropTypes.bool,\n  isfromWelcome: PropTypes.bool,\n  isDeletePopup: PropTypes.bool,\n  clickEdit: PropTypes.string,\n  newTag: PropTypes.object,\n};\n\nexport default Post;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addPost } from '../../redux/actions/postAction';\nimport { StyleModal } from './PopupModal';\nimport ChooseTags from './ChooseTags';\nimport Post from '../post/Post';\nimport styled from '../../style/editpostpopup.module.css';\nimport styles from '../../style/popup.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction UploadPostBlock({ setisUploadPopupClick, isUploadPopupClick, setIsNewPostConfirm }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const [uploadViewStage, setUploadViewStage] = useState(0);\n  const [image, setImage] = useState(null);\n  const [imageURL, setImageURL] = useState(null);\n\n  const post = {\n    postID: 'postID' + nanoid(),\n    postImage: { postImageID: 'postImageID_' + nanoid(), postImageLink: imageURL },\n    postIssuer: {\n      postIssuerID: user.uid,\n      postIssuerImage: user.photoURL,\n      postIssuerName: user.displayName,\n    },\n    postMessage: '',\n    postTag: 'YourTag',\n    postLikes: [],\n  };\n\n  const handlePictureChange = (e) => {\n    setImage(e.target.files[0]);\n    const imageURL = URL.createObjectURL(e.target.files[0]);\n    setImageURL(imageURL);\n  };\n\n  const uploadPicID = nanoid();\n  const choosePic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Pick the Photo</div>\n        <div className={styled.decideButtonBlock}>\n          <label htmlFor={uploadPicID} className={styles.uploadButton}>\n            Choose\n          </label>\n          <input type='file' id={uploadPicID} onChange={handlePictureChange} />\n\n          {imageURL ? (\n            <button\n              className={styles.decideButton}\n              onClick={() => {\n                setUploadViewStage(1);\n              }}>\n              Next\n            </button>\n          ) : (\n            <button className={styles.decideButtonVag}> Next</button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  //msg & tag\n  const [newMsg, setNewMsg] = useState('');\n  const [newTag, setNewTag] = useState(null);\n  // Msg\n  const handleMsgChange = (e) => {\n    setNewMsg(e.target.value);\n  };\n\n  const writeMsgTag = (\n    <div className={styled.postPopupRightModel}>\n      <div className={styled.decideBlockMsg}>\n        <textarea\n          className={styled.postMsgInput}\n          type='text'\n          id='postMsg'\n          name='postMsg'\n          cols='20'\n          rows='13'\n          value={newMsg}\n          placeholder='This is my Fashion Declare!'\n          onChange={handleMsgChange}></textarea>\n        <div className={styled.searchButtonBlock}>\n          <div className={styled.postSearch}>\n            <ChooseTags newTag={newTag} setNewTag={setNewTag} />\n          </div>\n          <div className={styles.decideButtonWrap}>\n            <button className={styles.decideButton} onClick={() => setUploadViewStage(0)}>\n              Back\n            </button>\n            {newMsg && newTag ? (\n              <button\n                className={styles.decideButton}\n                onClick={(e) => {\n                  setUploadViewStage(2);\n                  e.stopPropagation();\n                }}>\n                Next\n              </button>\n            ) : (\n              <button className={styles.decideButtonVag}> Next</button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  //最終上傳\n  const uploadPic = (\n    <div className={styles.rightModel}>\n      <div className={styled.decideBlock}>\n        <div className={styles.blockTitle}>Share your Story!</div>\n        <div className={styled.decideButtonBlock}>\n          <button className={styles.decideButton} onClick={() => setUploadViewStage(1)}>\n            Back\n          </button>\n          <button\n            className={styles.decideButton}\n            onClick={(e) => {\n              e.preventDefault();\n              dispatch(addPost(image, newMsg, newTag));\n              setisUploadPopupClick(false);\n              setImageURL('hihi');\n              setUploadViewStage(0);\n              setIsNewPostConfirm(true);\n            }}>\n            Upload\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  let view = '';\n  if (uploadViewStage === 0) {\n    view = choosePic;\n  } else if (uploadViewStage === 1) {\n    view = writeMsgTag;\n  } else if (uploadViewStage === 2) {\n    view = uploadPic;\n  }\n  return (\n    <>\n      <StyleModal\n        show={isUploadPopupClick}\n        handleClose={() => {\n          setisUploadPopupClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styles.topModel}></div>\n          <div className={styles.buttonModal}>\n            <div className={styles.leftModel}>\n              <Post post={post} isFromUpload={true} newTag={newTag} />\n            </div>\n            {view}\n          </div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nUploadPostBlock.propTypes = {\n  isUploadPopupClick: PropTypes.bool.isRequired,\n  setisUploadPopupClick: PropTypes.func.isRequired,\n  setIsNewPostConfirm: PropTypes.func.isRequired,\n};\n\nexport default UploadPostBlock;\n","export default __webpack_public_path__ + \"static/media/plusIcon.8a20f873.png\";","import React, { useState } from 'react';\nimport UploadPostBlock from './UploadPostBlock';\nimport { MsgPopup } from './MsgPopup';\nimport styled from '../../style/popup.module.css';\nimport styles from '../../style/header.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\nimport plus from '../../img/plusIcon.png';\n\nfunction UploadPostButton() {\n  const [isUploadPopupClick, setisUploadPopupClick] = useState(false);\n  //for new post\n  const [isNewPostConfirm, setIsNewPostConfirm] = useState(false);\n  return (\n    <>\n      <div\n        className={styles.navIcon}\n        onClick={() => {\n          setisUploadPopupClick(true);\n        }}>\n        <img className={styles.storyCirclePlus} src={plus} />\n      </div>\n      <UploadPostBlock\n        setisUploadPopupClick={setisUploadPopupClick}\n        isUploadPopupClick={isUploadPopupClick}\n        setIsNewPostConfirm={setIsNewPostConfirm}\n      />\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isNewPostConfirm}\n        handleClose={() => {\n          setIsNewPostConfirm(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Upload Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsNewPostConfirm(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nexport default UploadPostButton;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport ChatMessage from './ChatMessage';\nimport firebase, { auth } from '../../firebase';\nimport '../../style/chatroom.css';\nimport styles from '../../style/chatroom.module.css';\n\nfunction ChatRoom() {\n  const dummy = React.useRef();\n  const db = firebase.firestore();\n  const messagesRef = db.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  const user = useSelector((state) => state.user);\n  const [messages] = useCollectionData(query, { idField: 'id' });\n  const [formValue, setFormValue] = useState('');\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n\n    const { uid, photoURL } = auth.currentUser;\n\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL,\n    });\n\n    setFormValue('');\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <>\n      <div className={styles.chatRoomWrap}>\n        {messages && messages.map((msg) => <ChatMessage key={msg.id} message={msg} />)}\n        <span ref={dummy}></span>\n\n        <form onSubmit={sendMessage}>\n          <input\n            value={formValue}\n            onChange={(e) => setFormValue(e.target.value)}\n            placeholder='say something nice'\n          />\n          1234567\n          <button type='submit' disabled={!formValue}></button>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default ChatRoom;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SEARCH_TAGS, NOSEARCH_TAGS } from '../../redux/actionTypes';\nimport CreatableSelect from 'react-select/creatable';\nimport Select from 'react-select';\nimport styles from '../../style/header.module.css';\n\nfunction SearchTags() {\n  const dispatch = useDispatch();\n  const tags = useSelector((state) => state.tags);\n  const [isWindowSmall, setIsWindowSmall] = useState(false);\n  useEffect(() => {\n    if (window.innerWidth <= 425) {\n      setIsWindowSmall(true);\n    }\n  }, [dispatch]);\n\n  const handleChange = (newValue, actionMeta) => {\n    console.group('Value Changed');\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    if (!newValue) {\n      dispatch({ type: NOSEARCH_TAGS });\n    } else {\n      dispatch({ type: SEARCH_TAGS, payload: { newValue } });\n    }\n  };\n  const handleChangeSingle = (value, actionMeta) => {\n    console.group('Value Changed');\n    let newValue = [];\n    newValue.push(value);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    if (!newValue) {\n      dispatch({ type: NOSEARCH_TAGS });\n    } else {\n      dispatch({ type: SEARCH_TAGS, payload: { newValue } });\n    }\n  };\n\n  const customStyles = {\n    control: (base, state) => ({\n      ...base,\n      background: ' rgb(250,250,250)',\n      // match with the menu\n      borderRadius: state.isFocused ? '3px 3px 0 0' : 3,\n      // Overwrittes the different states of border\n      borderColor: ' rgb(219,219,219)',\n      borderRadius: '8px',\n      // Removes weird border around container\n      boxShadow: state.isFocused ? null : null,\n      '&:hover': {\n        // Overwrittes the different states of border\n        borderColor: 'rgb(187, 140, 47)',\n      },\n    }),\n    menu: (base) => ({\n      ...base,\n      // override border radius to match the box\n      borderRadius: '5px',\n      // kill the gap\n      marginTop: 0,\n      zIndex: '10000',\n    }),\n    menuList: (base) => ({\n      ...base,\n      // kill the white space on first and last option\n      padding: 0,\n      zIndex: '10000',\n    }),\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      // backgroundColor: isDisabled ? 'red' : 'blue',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n    multiValue: (styles, { data, isDisabled, isFocused, isSelected }) => ({\n      ...styles,\n      border: 'none',\n      background: 'rgb(250,250,250)',\n      cursor: isDisabled ? 'not-allowed' : 'default',\n    }),\n  };\n\n  return (\n    <div className={styles.search} styles={{ zIndex: '10000' }}>\n      {isWindowSmall ? (\n        <Select\n          onChange={handleChangeSingle}\n          options={tags}\n          placeholder={'Find Post.....'}\n          styles={customStyles}\n        />\n      ) : (\n        <CreatableSelect\n          isMulti\n          onChange={handleChange}\n          options={tags}\n          placeholder={'Find Post...'}\n          styles={customStyles}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default SearchTags;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport styles from '../../style/header.module.css';\n\nfunction ProfileImage() {\n  const user = useSelector((state) => state.user);\n\n  return (\n    <>\n      {user ? (\n        <img className={styles.navIcon} src={user.photoURL}></img>\n      ) : (\n        <img className={styles.navIcon}></img>\n      )}\n    </>\n  );\n}\n\nexport default ProfileImage;\n","export default __webpack_public_path__ + \"static/media/downarrow.538e818f.svg\";","import { React, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport UploadPostButton from '../common/UploadPostButton';\nimport { BarPopup } from '../common/BarPopup';\nimport Logo from '../common/Logo';\nimport ChatRoom from '../chat/ChatRoom';\nimport SearchTags from '../common/SearchTags';\nimport { LoginPopup } from '../common/LoginPopup';\nimport ProfileImage from '../header/ProfileImage';\nimport { login, logout } from '../../redux/actions/loginAction';\nimport arrow from '../../img/downarrow.svg';\nimport styles from '../../style/header.module.css';\nimport '../../style/header.module.css';\nimport travel from '../../img/travel.jpg';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const [isProfileToggleClick, setisProfileToggleClick] = useState(false);\n  const [loginPopup, setLoginPopup] = useState(false);\n  const history = useHistory();\n  const [isChatRoomOpen, setIsChatRoomOpen] = useState(false);\n  return (\n    <>\n      <div className={styles.headerWrap}>\n        <nav>\n          <div className={styles.navWrap}>\n            <div style={{ border: 'none' }}>\n              {user ? (\n                <Link to='/main'>\n                  <Logo />\n                </Link>\n              ) : (\n                <Link to='/'>\n                  <Logo />\n                </Link>\n              )}\n            </div>\n            {history.location.pathname === '/' ? (\n              <div className={styles.search} styles={{ zIndex: '10000' }}></div>\n            ) : (\n              <SearchTags />\n            )}\n            {user ? (\n              <>\n                <Link\n                  to={{\n                    pathname: '/chatroom',\n                    search: `?id=${user.uid}`,\n                  }}>\n                  {/* <h1>⚛️🔥💬</h1> */}\n                </Link>\n\n                <UploadPostButton />\n                {/* 頭貼 */}\n\n                <Link\n                  to={{\n                    pathname: '/profile',\n                    search: `?id=${user.uid}`,\n                  }}>\n                  <ProfileImage />\n                </Link>\n                <img\n                  className={styles.downarrow}\n                  src={arrow}\n                  onClick={() => {\n                    setisProfileToggleClick(!isProfileToggleClick);\n                  }}></img>\n\n                {isProfileToggleClick ? (\n                  <BarPopup\n                    show={isProfileToggleClick}\n                    top='75px'\n                    right='0px'\n                    handleClose={() => {\n                      setisProfileToggleClick(!isProfileToggleClick);\n                    }}>\n                    <div\n                      className='deletePost'\n                      onClick={() => {\n                        dispatch(logout());\n                      }}>\n                      LogOut\n                    </div>\n                  </BarPopup>\n                ) : (\n                  ''\n                )}\n              </>\n            ) : (\n              <>\n                <div className={styles.button} onClick={() => setLoginPopup(true)}>\n                  Login\n                </div>\n                <Link to='/main' style={{ textDecoration: 'none' }}>\n                  <div className={styles.button}>Visit</div>\n                </Link>\n              </>\n            )}\n          </div>\n        </nav>\n      </div>\n      <LoginPopup\n        show={loginPopup}\n        handleClose={() => {\n          setLoginPopup(false);\n        }}>\n        <div className={styles.loginPopContain}>\n          <div className={styles.loginTitle}>\n            <img src={travel}></img>\n          </div>\n          <div className={styles.loginWrap}>\n            <Logo />\n            <br />\n            <div className={styles.title1}> Share your life in</div>\n            <div className={styles.title2}> LA VIE</div>\n            <br />\n            <br />\n            <div className={styles.text}> Login with</div>\n            <div className={styles.google} onClick={() => dispatch(login('google', setLoginPopup))}>\n              Google Login\n            </div>\n\n            <div className={styles.text}> OR</div>\n            <div\n              className={styles.facebook}\n              onClick={() => dispatch(login('facebook', setLoginPopup))}>\n              Facebook Login\n            </div>\n          </div>\n        </div>\n      </LoginPopup>\n      {/* {isChatRoomOpen && <ChatRoom />} */}\n    </>\n  );\n};\n\nHeader.propTypes = {\n  handlePictureChange: PropTypes.func,\n  handleUploadPic: PropTypes.func,\n  uploadPic: PropTypes.func,\n  setCurrentUser: PropTypes.func,\n  currentUser: PropTypes.object,\n};\n\nexport default Header;\n","import { React } from 'react';\nimport Logo from './Logo';\nimport '../../style/loading.css';\n\nfunction Loading() {\n  return (\n    <div className='loading'>\n      Loading...\n      <br />\n      <br />\n      <Logo />\n    </div>\n  );\n}\n\nexport default Loading;\n","import { RECIEVED_TAGS } from '../actionTypes';\nimport { db } from '../../firebase';\n\nexport const receiveTags = () => (dispatch) => {\n  const tags = [];\n  db.collection('Tag')\n    .get()\n    .then((snap) => {\n      snap.forEach((tag) => {\n        const tagData = {\n          postID: tag.data().postID,\n          label: tag.data().label,\n          value: tag.data().value,\n        };\n        tags.push(tagData);\n      });\n    })\n    .then(() => {\n      dispatch({\n        type: RECIEVED_TAGS,\n        payload: { tags },\n      });\n    });\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StackGrid from 'react-stack-grid';\nimport Post from './Post';\nimport Loading from '../common/Loading';\nimport { MsgPopup } from '../common/MsgPopup';\nimport { fetchPosts } from '../../redux/actions/postAction';\nimport { receiveTags } from '../../redux/actions/searchAction';\nimport styles from '../../style/post.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction PostList() {\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const searchtags = useSelector((state) => state.searchtags);\n  const [clickEdit, setclickEdit] = useState('');\n  const [lastSnap, setLastSnap] = useState('');\n  const [isDeletePopup, setIsDeletePopup] = useState(false);\n  const [isScrollFetching, setIsScrollFetching] = useState(false);\n  const stakeGridRef = React.useRef(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchPosts(lastVisible.current, lastSnap, setLastSnap));\n    dispatch(receiveTags());\n  }, [dispatch]);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n  const lastVisible = React.useRef(0);\n  const handleScroll = () => {\n    setIsScrollFetching(!isScrollFetching);\n    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    if (winScroll <= height - 20) {\n      let newLast = lastVisible.current + 10;\n      dispatch(fetchPosts(lastVisible.current, lastSnap, setLastSnap));\n      lastVisible.current = newLast;\n    }\n  };\n  // infinit scroll\n  useEffect(() => {\n    onscroll = () => {\n      handleScroll();\n    };\n  }, [lastSnap]);\n\n  useEffect(() => {\n    if (stakeGridRef.current) {\n      stakeGridRef.current.updateLayout();\n    }\n  }, [comments]);\n  useEffect(() => {\n    if (stakeGridRef.current) {\n      stakeGridRef.current.updateLayout();\n    }\n  }, [posts]);\n\n  //search tags\n  let filterTags = [];\n  let filterPosts = [];\n  searchtags.map((searchtag) => {\n    filterTags.push(searchtag.value);\n  });\n\n  posts.forEach((post) => {\n    filterTags.forEach((tag) => {\n      if (post.postTag.value === tag) {\n        filterPosts.push(post);\n      }\n    });\n  });\n  if (filterTags.length > 0) {\n  } else {\n    filterPosts = posts;\n  }\n\n  return (\n    <>\n      {loading === false ? (\n        <>\n          <div className={styles.wrap}>\n            <div className={styles.postWrap}>\n              {filterPosts.length > 0 ? (\n                <StackGrid\n                  gridRef={(e) => (stakeGridRef.current = e)}\n                  columnWidth={300}\n                  gutterWidth={30}\n                  gutterHeight={30}\n                  monitorImagesLoaded={true}>\n                  {filterPosts.map((post) => (\n                    <Post\n                      key={post.postID}\n                      post={post}\n                      clickEdit={clickEdit}\n                      setclickEdit={setclickEdit}\n                      isDeletePopup={isDeletePopup}\n                      setIsDeletePopup={setIsDeletePopup}\n                    />\n                  ))}\n                </StackGrid>\n              ) : (\n                <div className={styles.noPostWrap}>\n                  <div className={styles.noPostGuide}>\n                    No post match the search, please adjust the filter.\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className={styles.loading}>\n          <Loading />\n        </div>\n      )}\n\n      {/* DeletePopup */}\n      <MsgPopup\n        show={isDeletePopup}\n        handleClose={() => {\n          setIsDeletePopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Delete Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsDeletePopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nexport default PostList;\n","export const FRIEND = 'FRIEND';\nexport const REQUESTED = 'REQUESTED';\nexport const REQUESTING = 'REQUESTING';\nexport const UNFRIEND = 'UNFRIEND';\nexport const fromProfile = 'fromProfile';\nexport const fromMasterProfile = 'fromMasterProfile';\n","import { generatePath } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { RECEIVED_RELATIONSHIP, SEND_FRIEND_REQUEST, ACCEPT_FRIEND_REQUEST } from '../actionTypes';\nimport { db } from '../../firebase';\nimport { UNFRIEND, FRIEND, REQUESTING, fromProfile, fromMasterProfile } from '../../utils/names';\n\n//state: 以使用者的角色\n//db 上的state : friend,requesting\n//local state: friend, requesting, requested,null\n\nexport const getProfileRelationShip = (paramsID) => (dispatch, getState) => {\n  const { user } = getState();\n  console.log(paramsID);\n  const relationships = [];\n  //get profile request friends list\n  db.collection('RelationShip')\n    .where('requester.uid', '==', paramsID)\n    .get()\n    .then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        relationships.push(doc.data());\n      });\n      //get profile friends request list\n      db.collection('RelationShip')\n        .where('requestee.uid', '==', paramsID)\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            relationships.push(doc.data());\n          });\n          dispatch({ type: RECEIVED_RELATIONSHIP, payload: { relationships } });\n        });\n    });\n};\n\nexport const sendFriendRequest = () => (dispatch, getState) => {\n  const { user } = getState();\n  const { profile } = getState();\n  const relationship = {\n    requester: {\n      uid: user.uid,\n      userName: user.displayName,\n      userProfileImage: user.photoURL,\n    },\n    requestee: {\n      uid: profile.uid,\n      userName: profile.userName,\n      userProfileImage: profile.userProfileImage,\n    },\n    status: REQUESTING,\n    relationshipID: `${user.uid}-${profile.uid}`,\n  };\n\n  // //更新db\n  db.collection('RelationShip')\n    .doc(`${user.uid}-${profile.uid}`)\n    .set(relationship)\n    .then(() => {\n      console.log('send request successful');\n      relationship.relationshipID = `${user.uid}-${profile.uid}`;\n      //＋relationship\n      dispatch({ type: SEND_FRIEND_REQUEST, payload: { relationship } });\n    });\n};\n\nexport const acceptFriendRequest = (relationshipID) => (dispatch, getState) => {\n  // db:找到該relationship, 改status\n  db.collection('RelationShip')\n    .doc(relationshipID)\n    .update({\n      status: FRIEND,\n    })\n    .then(() => {\n      console.log('update request successful');\n      //找到該relationship，改status\n      dispatch({ type: ACCEPT_FRIEND_REQUEST, payload: { relationshipID } });\n    });\n};\n\nexport const unFriend = (friend, isFrom) => (dispatch, getState) => {\n  console.log(friend);\n  console.log(isFrom);\n  const { user } = getState();\n  let docName;\n  if (isFrom === fromProfile) {\n    docName = friend.relationshipID;\n    db.collection('RelationShip')\n      .doc(docName)\n      .delete()\n      .then(() => {\n        console.log('delete request successful');\n        dispatch(excuteDeleteRelationship(docName));\n        //找到該relationship，刪除\n      });\n  } else if (isFrom === fromMasterProfile) {\n    //找到該relationship，刪除\n    db.collection('RelationShip')\n      .where('relationshipID', '==', `${friend.uid}-${user.uid}`)\n      .get()\n      .then((res) => {\n        if (res) {\n          console.log(res);\n          docName = `${friend.uid}-${user.uid}`;\n          console.log(docName);\n          dispatch(excuteDeleteRelationship(docName));\n        } else if (!res) {\n          db.collection('RelationShip')\n            .where('relationshipID', '==', `${user.uid}-${friend.uid}`)\n            .get()\n            .then((res) => {\n              console.log(res);\n              docName = `${user.uid}-${friend.uid}`;\n              dispatch(excuteDeleteRelationship(docName));\n            });\n        }\n      });\n  }\n};\n\nconst excuteDeleteRelationship = (docName) => (dispatch) => {\n  console.log(docName);\n  db.collection('RelationShip')\n    .doc(docName)\n    .delete()\n    .then(() => {\n      console.log(docName);\n      dispatch({ type: UNFRIEND, payload: { docName } });\n    });\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { acceptFriendRequest, unFriend } from '../../redux/actions/relationshipAction';\nimport styles from '../../style/request.module.css';\nimport { FRIEND, REQUESTED, REQUESTING, fromMasterProfile } from '../../utils/names';\n\nfunction RequestItem({ relatedUser, status }) {\n  //request,friend：都只有對方的資料，沒有status,和自己的\n  const dispatch = useDispatch();\n  const profile = useSelector((state) => state.profile);\n  const user = useSelector((state) => state.user);\n  //requesting, requested,friend,unfriend\n  const [requestStateButton, setRequestStateButton] = useState(status);\n\n  let toggleView = '';\n\n  if (status === FRIEND) {\n    toggleView = (\n      <button\n        className={styles.requestButton}\n        onClick={() => {\n          dispatch(unFriend(relatedUser, fromMasterProfile));\n        }}>\n        UnFriend\n      </button>\n    );\n  } else if (profile.uid === user.uid) {\n    if (status === REQUESTED) {\n      toggleView = (\n        <button\n          className={styles.requestButton}\n          onClick={() => {\n            dispatch(acceptFriendRequest(`${relatedUser.uid}-${user.uid}`));\n          }}>\n          Accept\n        </button>\n      );\n    } else if (status === REQUESTING) {\n      toggleView = <div className={styles.stateBlock}>Requesting</div>;\n    }\n  }\n\n  return (\n    <div className={styles.request}>\n      <img className={styles.requestImage} src={relatedUser.userProfileImage} />\n      <p>\n        <span className={styles.requestName}>{relatedUser.userName}</span>\n        <span className={styles.requestMsg}></span>\n      </p>\n      {toggleView && <div className={styles.requestActions}>{toggleView}</div>}\n    </div>\n  );\n}\n\nRequestItem.propTypes = {\n  relatedUser: PropTypes.object,\n  status: PropTypes.string,\n};\nexport default RequestItem;\n","import { React, useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getProfileRelationShip } from '../../redux/actions/relationshipAction';\nimport { getProfile } from '../../redux/actions/profileAction';\nimport {\n  sendFriendRequest,\n  acceptFriendRequest,\n  unFriend,\n} from '../../redux/actions/relationshipAction';\nimport Loading from '../common/Loading';\nimport RequestItem from '../profile/RequestItem';\nimport { StyleModal } from '../common/PopupModal';\nimport styles from '../../style/profileshow.module.css';\nimport { FRIEND, REQUESTED, REQUESTING, fromProfile } from '../../utils/names';\n\nfunction ProfileShow({ paramsID }) {\n  const profile = useSelector((state) => state.profile);\n  const posts = useSelector((state) => state.posts);\n  const user = useSelector((state) => state.user);\n  const relationships = useSelector((state) => state.relationships);\n  const loading = useSelector((state) => state.loading);\n  const dispatch = useDispatch();\n  const [friendList, setFriendList] = useState(null);\n  const [requestingList, setRequestingList] = useState([]);\n  const [requestedList, setRequestedList] = useState([]);\n  const [relationshipButton, setRelationshipButton] = useState(null);\n  const [isRequestClick, setIsRequestClick] = useState(false);\n  const [requestViewState, setRequestViewState] = useState(REQUESTED);\n  const [isFriendClick, setIsFriendClick] = useState(false);\n  const [isMessageClick, setIsMessageClick] = useState(false);\n\n  useEffect(() => {\n    dispatch(getProfile(paramsID));\n    dispatch(getProfileRelationShip(paramsID));\n  }, [paramsID]);\n  //當使用者在別人頁面時，要判斷與此人關係為何\n  useEffect(() => {\n    // relationshipSplit();\n    if (relationships && user && profile) {\n      const friendList = relationships\n        .filter((rel) => rel.status === FRIEND)\n        .map((rel) => (rel.requester.uid === profile.uid ? rel.requestee : rel.requester));\n\n      const ourRelationship = relationships.find(\n        (rel) =>\n          (rel.requestee.uid === profile.uid || rel.requester.uid === profile.uid) &&\n          (rel.requestee.uid === user.uid || rel.requester.uid === user.uid),\n      );\n      setRelationshipButton(ourRelationship);\n      setFriendList(friendList);\n\n      //到自己頁面有requestlist\n      if (user.uid === profile.uid) {\n        const requestingList = relationships\n          .filter((rel) => rel.status === REQUESTING && rel.requester.uid === profile.uid)\n          .map((rel) => rel.requestee);\n\n        const requestedList = relationships\n          .filter((rel) => rel.status === REQUESTING && rel.requestee.uid === profile.uid)\n          .map((rel) => rel.requester);\n\n        setRequestedList(requestedList);\n        setRequestingList(requestingList);\n      }\n    }\n  }, [relationships, profile, user]);\n\n  //unfollow?\n  const buttonViewFriend = (\n    <>\n      <button\n        className={styles.relationshipButton}\n        onClick={() => {\n          dispatch(unFriend(relationshipButton, fromProfile));\n        }}>\n        UnFriend\n      </button>\n      <button\n        className={styles.relationshipButton}\n        onClick={() => {\n          setIsMessageClick(!isMessageClick);\n        }}>\n        Message\n      </button>\n    </>\n  );\n  //accept: 到requester 頁面，點 accept\n  const buttonViewRequested = (\n    <button\n      className={styles.relationshipButton}\n      onClick={() => {\n        dispatch(acceptFriendRequest(relationshipButton.relationshipID));\n      }}>\n      Accept\n    </button>\n  );\n  const buttonViewRequesting = <div className={styles.decideButtonVag}>Waiting</div>;\n  const buttonViewSendRequest = (\n    <button\n      className={styles.relationshipButton}\n      onClick={() => {\n        dispatch(sendFriendRequest());\n      }}>\n      +Friend\n    </button>\n  );\n\n  //state: 以使用者的角色\n  //db 上的state : friend,requesting\n  //local state: friend, requesting, requested,null\n  let buttonView = '';\n  if (relationshipButton?.status === FRIEND) {\n    buttonView = buttonViewFriend;\n  } else if (relationshipButton?.status === REQUESTING) {\n    if (relationshipButton.requestee.uid === user.uid) {\n      buttonView = buttonViewRequested;\n    } else if (relationshipButton.requester.uid === user.uid) {\n      buttonView = buttonViewRequesting;\n    }\n  } else {\n    buttonView = buttonViewSendRequest;\n  }\n\n  //request state view\n  let requestView = '';\n  if (requestViewState === REQUESTING) {\n    requestView = requestingList.map((relatedUser) => (\n      <RequestItem key={relatedUser.uid} relatedUser={relatedUser} status={REQUESTING} />\n    ));\n  } else if (requestViewState === REQUESTED) {\n    requestView = requestedList.map((relatedUser) => (\n      <RequestItem key={relatedUser.uid} relatedUser={relatedUser} status={REQUESTED} />\n    ));\n  }\n  return (\n    <>\n      <div className={styles.profileShowWrap}>\n        {loading === false ? (\n          <div className={styles.profileShow}>\n            <img className={styles.profilePic} src={profile.userProfileImage}></img>\n            <div className={styles.profileInfo}>\n              <div className={styles.followerBlock}>\n                <div className={styles.followerInfo}>{profile.userName}</div>\n                <div className={styles.followerInfo}>\n                  {user && user.uid !== profile.uid && buttonView}\n                </div>\n              </div>\n              <div className={styles.followerBlock}>\n                <div className={styles.postInfo}>\n                  {posts.length} <span>Posts</span>\n                </div>\n                <div\n                  className={styles.followerInfo}\n                  onClick={() => setIsFriendClick(!isFriendClick)}>\n                  {friendList?.length} <span>Friends</span>\n                </div>\n                {user.uid === profile.uid && (\n                  <div\n                    className={styles.followerInfo}\n                    onClick={() => {\n                      setIsRequestClick(!isRequestClick);\n                    }}>\n                    <span>Requests...</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className={styles.loading}>\n            <Loading />\n          </div>\n        )}\n      </div>\n      {/* friend block*/}\n      <StyleModal\n        show={isFriendClick}\n        handleClose={() => {\n          setIsFriendClick(false);\n        }}>\n        <div className={styles.friendModelWrap}>\n          <div className={styles.friendTopModal}>\n            <div className={styles.guide}>Friends</div>\n          </div>\n          <div className={styles.separater}></div>\n          <div className={styles.friendButtonModal}>\n            {friendList?.map((relatedUser) => (\n              <RequestItem\n                key={relatedUser.relationshipID}\n                relatedUser={relatedUser}\n                status={FRIEND}\n              />\n            ))}\n          </div>\n        </div>\n      </StyleModal>\n      {/* request block*/}\n      <StyleModal\n        show={isRequestClick}\n        handleClose={() => {\n          setIsRequestClick(false);\n        }}>\n        <div className={styles.requestModelWrap}>\n          <div className={styles.requestTopModal}>\n            <div className={styles.guide}>Requests</div>\n          </div>\n          <div className={styles.separater}></div>\n          <div className={styles.requestButtonModal}>\n            <div className={styles.requestToggle}>\n              <div\n                onClick={() => {\n                  setRequestViewState(REQUESTED);\n                }}\n                className={`${\n                  requestViewState === REQUESTED\n                    ? styles.requestStateChoose\n                    : styles.requestStateNone\n                }`}>\n                Friend Requests\n              </div>\n\n              <div\n                onClick={() => {\n                  setRequestViewState(REQUESTING);\n                }}\n                className={`${\n                  requestViewState === REQUESTING\n                    ? styles.requestStateChoose\n                    : styles.requestStateNone\n                }`}>\n                Requesting\n              </div>\n            </div>\n          </div>\n\n          <div>{requestView}</div>\n        </div>\n      </StyleModal>\n    </>\n  );\n}\n\nProfileShow.propTypes = {\n  paramsID: PropTypes.string,\n};\n\nexport default ProfileShow;\n","import { RECEIVED_PROFILE, RECIEVING_LOADING } from '../actionTypes';\nimport { db } from '../../firebase';\n\nexport const getProfile = (paramsID) => (dispatch) => {\n  db.collection('User')\n    .doc(paramsID)\n    .get()\n    .then((doc) => {\n      const profile = doc.data();\n      profile.uid = doc.id;\n      dispatch({\n        type: RECEIVED_PROFILE,\n        payload: { profile },\n      });\n      dispatch({ type: RECIEVING_LOADING, payload: false });\n    });\n};\n","export default __webpack_public_path__ + \"static/media/cross.0d5d3013.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport styled from '../../../style/popup.module.css';\nimport cross from '../../../img/cross.png';\n\nexport const StoryModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div\n        className={`${show ? styled.cancelStory : styled.cancelStoryNone}`}\n        onClick={() => {\n          handleClose(false);\n        }}>\n        <img\n          className={styled.storyCancelImg}\n          onClick={() => {\n            handleClose(false);\n          }}\n          src={cross}></img>\n      </div>\n\n      <div className={`${show ? styled.showStoryContentDiv : styled.showStoryContentDivDivNone}`}>\n        {children}\n      </div>\n      <div className={`${show ? styled.showStoryModalDiv : styled.showStoryModalDivNone}`} />\n    </>,\n\n    document.getElementById('portal'),\n  );\n};\n\nStoryModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\nimport CancelButton from './CancelButton';\nimport styles from '../../style/popup.module.css';\n\nexport const MakeStoryModal = ({ handleClose, show, children }) => {\n  return ReactDom.createPortal(\n    <>\n      <div className={`${show ? styles.contentWrap : styles.contentWrapNone}`}>\n        <div className={styles.storyContentDiv}>\n          <div className={styles.close}>\n            <CancelButton onClick={handleClose} />\n          </div>\n          {children}\n        </div>\n      </div>\n\n      <div className={`${show ? styles.storyModalDiv : styles.storyModalDivNone}`}></div>\n    </>,\n    document.getElementById('portal'),\n  );\n};\n\nMakeStoryModal.propTypes = {\n  handleClose: PropTypes.func,\n  show: PropTypes.bool,\n  children: PropTypes.object,\n};\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '../../../style/makestory.module.css';\nimport check from '../../../img/check.png';\n\nfunction EditImage({ post, choosedStory, chooseStory, stage, chooseCoverfunc, isCover }) {\n  const { postID, postImage, postTime } = post;\n  const [isImgChoose, setIsImgChoose] = useState(false);\n  useEffect(() => {\n    choosedStory.map((postID) => {\n      if (postID === post.postID) {\n        setIsImgChoose(true);\n      }\n    });\n  }, [choosedStory]);\n\n  return (\n    <>\n      {stage === 0 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            setIsImgChoose(!isImgChoose);\n            chooseStory(postID);\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n\n      {stage === 1 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            if (choosedStory.includes(post.postID)) {\n              chooseCoverfunc(post);\n            }\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isCover === post.postImage.postImageLink ? (\n              <div className={styled.pickCoverCircle}>\n                <img className={styled.check} src={check} />\n              </div>\n            ) : (\n              ''\n            )}\n          </div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n    </>\n  );\n}\n\nEditImage.propTypes = {\n  post: PropTypes.object.isRequired,\n  choosedStory: PropTypes.array.isRequired,\n  stage: PropTypes.number.isRequired,\n  chooseStory: PropTypes.func,\n  chooseCoverfunc: PropTypes.func,\n  isCover: PropTypes.string,\n};\n\nexport default EditImage;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { edtiStory } from '../../../redux/actions/storyAction';\nimport { MakeStoryModal } from '../../common/MakeStoryModal';\nimport EditImage from '../story/EditImage';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styles from '../../../style/popup.module.css';\nimport { nanoid } from 'nanoid';\nimport styled from '../../../style/makestory.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\n\nfunction EditStoryPopup({ setIsEditStoryBlockClick, isEditStoryBlockClick, editStory }) {\n  const dispatch = useDispatch();\n  const [storyName, setstoryName] = useState(editStory.storyName);\n  const [choosedCover, setChoosedCover] = useState('');\n  const [isCover, setIsCover] = useState(null);\n  const [editStoryStage, setEditStoryStage] = useState(0);\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const [isEditSuccess, setIsEditSuccess] = useState(false);\n  let storiesID = [];\n  useEffect(() => {\n    //繞成 storyID array\n    storiesID = editStory.stories.map((post) => {\n      return post.postID;\n    });\n    setChoosedStory(storiesID);\n  }, []);\n  const [choosedStory, setChoosedStory] = useState(storiesID);\n\n  //若沒有改choosedpost，沒有image link\n  useEffect(() => {\n    //check isCover 是不是在choosedStory 裡\n    let currentPosts = [];\n    posts.forEach((post) => {\n      const postID = choosedStory.find((id) => id === post.postID);\n      if (postID) {\n        currentPosts.push(post);\n      }\n    });\n\n    currentPosts.map((post) => {\n      if (post.postImage.postImageLink === editStory.storyImageLink) {\n        setChoosedCover(editStory.storyImageLink);\n        setIsCover(editStory.storyImageLink);\n      }\n    });\n  }, [choosedStory]);\n\n  const story = {\n    storyID: editStory.storyID,\n    storyName: storyName,\n    storyImageLink: choosedCover,\n    storyIssuerID: user.uid,\n    createTime: editStory.createTime,\n    stories: choosedStory,\n  };\n\n  //選擇post\n  const choosePostTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setIsEditStoryBlockClick(false);\n        }}>\n        Cancel\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Story Posts</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(1);\n        }}>\n        Next\n      </button>\n    </>\n  );\n\n  const chooseStory = (postID) => {\n    if (choosedStory.includes(postID)) {\n      let newchoosedStory = choosedStory.filter((storyID) => storyID !== postID);\n      setChoosedStory(newchoosedStory);\n    } else {\n      let newchoosedStory = choosedStory;\n      newchoosedStory.push(postID);\n      setChoosedStory(newchoosedStory);\n    }\n  };\n\n  const choosePost = (\n    <>\n      <div className={styled.grid}>\n        {posts.map((post) => (\n          <EditImage\n            key={post.postID}\n            post={post}\n            choosedStory={choosedStory}\n            stage={0}\n            chooseStory={() => {\n              chooseStory(post.postID);\n            }}\n          />\n        ))}\n      </div>\n    </>\n  );\n\n  //選擇cover image\n\n  const chooseCoverTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(0);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Cover Photo</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(2);\n        }}>\n        Next\n      </button>\n    </>\n  );\n\n  const chooseCoverfunc = (post) => {\n    if (post.postImage.postImageLink !== choosedCover) {\n      setChoosedCover(post.postImage.postImageLink);\n      setIsCover(post.postImage.postImageLink);\n    }\n  };\n\n  const chooseCoverPhoto = (\n    <div className={styled.grid}>\n      {posts.map((post) => (\n        <EditImage\n          key={post.postID}\n          post={post}\n          choosedStory={choosedStory}\n          choosedCover={choosedCover}\n          stage={1}\n          chooseCoverfunc={() => chooseCoverfunc(post)}\n          isCover={isCover}\n        />\n      ))}\n    </div>\n  );\n\n  //Story 命名\n\n  const storyNameingTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setEditStoryStage(1);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Name Your Story</div>{' '}\n      <button\n        className={styled.decideButton}\n        onClick={(e) => {\n          e.preventDefault();\n          dispatch(edtiStory(story));\n          setIsEditStoryBlockClick(false);\n          setstoryName('');\n          setChoosedCover('');\n          setChoosedStory([]);\n          setEditStoryStage(0);\n          setIsEditSuccess(true);\n        }}>\n        Upload\n      </button>\n    </>\n  );\n\n  const handleMsgChange = (e) => {\n    setstoryName(e.target.value);\n  };\n  const storyNameing = (\n    <>\n      <div className={styled.storyCircle}>\n        {!choosedCover ? '' : <img className={styled.coverImage} src={choosedCover} />}\n      </div>\n      <form\n        className={styles.form}\n        style={{ textAlign: 'center' }}\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}>\n        <input\n          type='text'\n          id={nanoid()}\n          name='text'\n          autoComplete='off'\n          value={storyName}\n          onChange={handleMsgChange}\n          className={styled.storyNameInput}></input>\n      </form>\n    </>\n  );\n\n  let title = '';\n  let view = '';\n  if (editStoryStage === 0) {\n    title = choosePostTitle;\n    view = choosePost;\n  } else if (editStoryStage === 1) {\n    title = chooseCoverTitle;\n    view = chooseCoverPhoto;\n  } else if (editStoryStage === 2) {\n    title = storyNameingTitle;\n    view = storyNameing;\n  }\n\n  return (\n    <>\n      <MakeStoryModal\n        show={isEditStoryBlockClick}\n        handleClose={() => {\n          setIsEditStoryBlockClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styled.topModel}>{title}</div>\n          <div className={styled.buttonModal}>\n            <div>{view}</div>\n          </div>\n        </div>\n      </MakeStoryModal>\n      <MsgPopup\n        show={isEditSuccess}\n        handleClose={() => {\n          setIsEditSuccess(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsEditSuccess(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nEditStoryPopup.propTypes = {\n  editStory: PropTypes.object.isRequired,\n  setEditStory: PropTypes.func.isRequired,\n  isEditStoryBlockClick: PropTypes.bool.isRequired,\n  setIsEditStoryBlockClick: PropTypes.func.isRequired,\n};\n\nexport default EditStoryPopup;\n","import { RECIEVED_STORIES, ADD_STORY, DELETE_STORY, EDIT_STORY } from '../actionTypes';\nimport firebase, { db } from '../../firebase';\n\nexport const fetchStories = (paramsID) => (dispatch, getState) => {\n  const { posts } = getState();\n  const profileposts = posts.filter((post) => post.postIssuer.postIssuerID === paramsID);\n  // 組合story state\n  // 1.拿到此人的所有story\n  // 2.組合 story 資訊，包含用post id去找post 資訊\n  let story = [];\n  db.collection('Story')\n    .orderBy('createTime', 'desc')\n    .where('storyIssuerID', '==', paramsID)\n    .get()\n    .then((snap) => {\n      snap.forEach((doc) => {\n        let storyData = {\n          storyID: doc.data().storyID,\n          storyName: doc.data().storyName,\n          storyImageLink: doc.data().storyImageLink,\n          storyIssuerID: doc.data().storyIssuerID,\n          createTime: doc.data().createTime,\n        };\n        let stories = doc.data().stories.map((storiesID) => {\n          return profileposts.find((profilepost) => profilepost.postID === storiesID);\n        });\n        storyData.stories = stories;\n        story.push(storyData);\n      });\n    })\n    .then(() => {\n      dispatch({\n        type: RECIEVED_STORIES,\n        payload: { story },\n      });\n    })\n    .catch((error) => console.log(error));\n};\n\nexport const addStory = (addedstory) => (dispatch, getState) => {\n  const { user } = getState();\n  const { posts } = getState();\n  const story = {\n    storyID: '',\n    storyName: addedstory.storyName,\n    storyImageLink: addedstory.storyImageLink,\n    storyIssuerID: user.uid,\n    createTime: firebase.firestore.FieldValue.serverTimestamp(),\n    stories: addedstory.stories,\n  };\n  const ref = db.collection('Story');\n  ref\n    .add(story)\n    .then((docRef) => {\n      story.storyID = docRef.id;\n      ref.doc(docRef.id).update({\n        storyID: docRef.id,\n      });\n      let stateStory = story;\n      let stateStoryStories = [];\n      stateStory.stories.map((postID) => {\n        posts.map((masterPost) => {\n          if (masterPost.postID === postID) {\n            stateStoryStories.push(masterPost);\n          }\n        });\n      });\n      stateStory.stories = stateStoryStories;\n      return stateStory;\n    })\n    .then((stateStory) => {\n      dispatch({ type: ADD_STORY, payload: { stateStory } });\n    });\n};\n\nexport const deleteStory = (deleteStory, setisStoryDeleteClick) => (dispatch, getState) => {\n  //delete db\n  const storyID = deleteStory.storyID;\n  const ref = db.collection('Story');\n\n  ref\n    .doc(storyID)\n    .delete()\n    .then(() => {\n      setisStoryDeleteClick(false);\n    })\n    .then(() => {\n      //delete state\n      dispatch({ type: DELETE_STORY, payload: { deleteStory } });\n    });\n};\n\nexport const edtiStory = (story, setisStoryDeleteClick) => (dispatch, getState) => {\n  const { user } = getState();\n  const { posts } = getState();\n  if (!user) return;\n  //set db\n  const ref = db.collection('Story').doc(story.storyID);\n  ref\n    .update(story)\n    .then(() => {\n      console.log('update data successful');\n      let stateStory = story;\n      let stateStoryStories = [];\n      stateStory.stories.map((postID) => {\n        posts.map((masterPost) => {\n          if (masterPost.postID === postID) {\n            stateStoryStories.push(masterPost);\n          }\n        });\n      });\n      stateStory.stories = stateStoryStories;\n      return stateStory;\n    })\n    .then((stateStory) => {\n      //set state\n      dispatch({ type: EDIT_STORY, payload: { stateStory } });\n    });\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA7aAAAO2gF4tlIvAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoeXDDQAAAIV0Uk5TAAECAwQFBgcICQoLDA4PEBETFBUdHyAhIiUmKC0uMDE1Nzo7PD0+P0BBQkNERUZHSElKS0xNTlRWWFpjZWltb3Z7fICCg4SIi5KTl6Kjpaipq6ytrq+wsbKztLW2t7i5uru8vcXHyMzNz9DS1dbY3+Dh4+Xn6evs7fDy8/T19vf4+fz9/tRJANQAAAXdSURBVHja7d1pV1V1GMZhqEBs0sKZKBWLMCIUtMHKJscirVAkSU1oNIwGIBsQpP/39p0thmC/8bDY9/X7BGc99/Xm7LPXOk1NanRt/ecmfr47e2v05F7HyOvJD/8sD/qm20HCemO6LGm03U2CeuRMWd4vLzhLTK2XysrmuhwmZf+RslrTO5wmef9Svn/UcZL3L+WE60TvX35tc5/k/Ut504Gi9y+fuFD0/mXGiaL3L+UZR4revzznStH7lx5nit6/dLpT9P7lWYeK3n+22aWS9y+fulT0/uUtp4re/7etbpW8f3nbraL39z5A9v7eCMref947gdn79zuW/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/dWw/Y84lv1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/3VsP2POpb9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf91bD9BxzL/rK/7C/7K2n/BfvbX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf23s/oOOZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf91dD9jzmW/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lf9lf9pf9ZX/ZX/aX/WV/2V/2l/1lfz3EWuyf3cf2j+4d+0e3e8H+0Q3ZP7qORftH9361/Y+7VE2bsH90rYv2j26n/bM7aP/sugDIbrevgNm1/UtAdt95DJTdRx4EZve8nwLCGyYgu457BGT3nhdCwhsiIPxZwDgB2T1OAAEEEEAAAf4cMratBBBAAAEEEEAAAQQQQAABBCQKuEkAAQQQQAABBBCwnoABxyJABIgAESACRIAIEAEiQHUQ8DUBBBBAQIXmCUgXcNSxCBABIkAEiAARIAJEgAgQAdr8Am4QQEA1AUccq5a1EUAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAE5Aq5XFdDvWASIABEgAkSACBABIkAEiAARIAK0uQVcqyjg7muORYAIEAEiQASIABEgAkSACBABIkAhAvocq5Zt+YoAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIGC5gFcdq54CxggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIGBFcwSkC+h1rHoKuEoAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEELBcwCuOVU8BXxJAAAEEEJBbKwEEEEAAAQQQQAABBBBAAAEEEEAAAQT8j4DDjkWA6ihglAACCCCAAAIIIIAAAgggYI3+IYAAESACRIAIUKaAHseqp4ArBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQECMgJGqAl52LAJEgAgQASJABIgA1aQWAggggAACCCCAAAJSBVwmgIBqArodK1vA3wQQIAJEgAgQASJABIgAESACVAMBlwggoJqAlxyLABEgAkSACBABIkAEiAARIAK02QUME0AAAQRUEfCiYxEgAkSACBABShTwFwEEiAARoNoJ+IIAAggggAACCCBgPQGHHIsA1bDHCCCAAAIIIIAAAgggYB0BnY6VLWCq3bHqKeDzigLG3SpcwKBbZQv4odmtsgX4JhAu4KxLZQuYdKhsAQvuFC5guztlC9jjTNkCtrlStIB5N8oW8KMT1V3AZ2sCOO1C2QIOOFC0gG+dJ1tAr+tECxh1m2gBt592mhQBF1fZf2afw8TUfGrF/j95ChzV678v3f/CU26S1RMf3Plv/pv7HSSv1r7zE1Pzf0yOvbtr4z/MfekBdhWzZHexAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport Stories from 'react-insta-stories';\nimport { StoryModal } from './StoryModal';\nimport EditStoryPopup from './EditStoryPopup';\nimport { BarPopup } from '../../common/BarPopup';\nimport styles from '../../../style/storybar.module.css';\nimport leftarrow from '../../../img/left-arrow.png';\nimport more from '../../../img/more.png';\nimport rightarrow from '../../../img/right-arrow.png';\n\nfunction StoryPost({ story, isStoryClick, setisStoryClick }) {\n  const user = useSelector((state) => state.user);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isEditStoryClick, setisEditStoryClick] = useState(false);\n  const [isEditStoryBlockClick, setIsEditStoryBlockClick] = useState(false);\n  const [editStory, setEditStory] = useState(story);\n  let postLists = [];\n  story.stories.map((post) => {\n    if (post) {\n      let postData = {\n        url: post.postImage.postImageLink,\n        header: {\n          heading: post.postIssuer.postIssuerName,\n          subheading: post.postTime,\n          profileImage: post.postIssuer.postIssuerImage,\n        },\n      };\n      postLists.push(postData);\n    }\n  });\n  return (\n    <>\n      <StoryModal\n        show={isStoryClick}\n        handleClose={() => {\n          setisStoryClick(false);\n        }}>\n        {user.uid === story.storyIssuerID && (\n          <div\n            className={styles.storyEditBar}\n            onClick={(e) => {\n              e.stopPropagation();\n              setisEditStoryClick(!isEditStoryClick);\n            }}>\n            <img src={more} style={{ width: '12px', height: '12px', zIndex: '10000' }}></img>\n            <BarPopup\n              show={isEditStoryClick}\n              top='20px'\n              right='80px'\n              handleClose={() => {\n                setisEditStoryClick(!isEditStoryClick);\n              }}>\n              {' '}\n              <div\n                onClick={() => {\n                  setIsEditStoryBlockClick(true);\n                  setEditStory(story);\n                }}>\n                Edit\n              </div>\n            </BarPopup>\n          </div>\n        )}\n\n        <div className={styles.storyBlockWrap}>\n          <img\n            src={rightarrow}\n            className={styles.rightarrow}\n            onClick={() => {\n              setCurrentIndex(currentIndex + 1);\n            }}\n          />\n\n          <img\n            src={leftarrow}\n            className={styles.leftarrow}\n            onClick={() => {\n              setCurrentIndex(currentIndex - 1);\n            }}\n          />\n\n          {isStoryClick ? (\n            <div className={styles.storyBlock}>\n              <Stories\n                loop\n                keyboardNavigation\n                defaultInterval={8000}\n                stories={postLists}\n                onStoryEnd={(s, st) => console.log('story ended', s, st)}\n                onAllStoriesEnd={(s, st) => console.log('all stories ended', s, st)}\n                onStoryStart={(s, st) => console.log('story started', s, st)}\n                currentIndex={currentIndex}\n                storyStyles={{\n                  width: '360px',\n                  height: '100%',\n                  objectFit: 'cover',\n                }}\n              />\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n      </StoryModal>\n\n      {isEditStoryBlockClick && (\n        <EditStoryPopup\n          isEditStoryBlockClick={isEditStoryBlockClick}\n          setIsEditStoryBlockClick={setIsEditStoryBlockClick}\n          editStory={editStory}\n          setEditStory={setEditStory}\n        />\n      )}\n    </>\n  );\n}\n\nStoryPost.propTypes = {\n  story: PropTypes.object.isRequired,\n  isStoryClick: PropTypes.bool.isRequired,\n  setisStoryClick: PropTypes.func.isRequired,\n};\n\nexport default StoryPost;\n","export default \"data:image/png;base64,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\"","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport StoryPost from './StoryPost';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styled from '../../../style/popup.module.css';\nimport styles from '../../../style/storybar.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport { deleteStory } from '../../../redux/actions/storyAction';\nimport cross from '../../../img/cancel.svg';\n\nfunction StoryCircle({ story, circleRef }) {\n  const { storyImageLink, storyIssuerID } = story;\n  const [isStoryClick, setisStoryClick] = useState(false);\n  const user = useSelector((state) => state.user);\n  const [isStoryDeleteClick, setisStoryDeleteClick] = useState(false);\n  const dispatch = useDispatch();\n  return (\n    <>\n      <div className={styles.story} ref={circleRef}>\n        {storyIssuerID === user.uid && (\n          <div\n            className={styles.deleteStory}\n            onClick={() => {\n              setisStoryDeleteClick(true);\n            }}>\n            <img className={styles.storyDeleteCross} src={cross} />\n          </div>\n        )}\n        <img\n          className={styles.storyCircle}\n          src={storyImageLink}\n          onClick={(e) => {\n            setisStoryClick(true);\n            e.stopPropagation();\n          }}\n        />\n        <div className={styles.storyName}>{story.storyName}</div>\n      </div>\n\n      <StoryPost\n        key={story.postID}\n        story={story}\n        isStoryClick={isStoryClick}\n        setisStoryClick={setisStoryClick}\n      />\n      <MsgPopup\n        show={isStoryDeleteClick}\n        handleClose={() => {\n          setisStoryDeleteClick(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Sure to Delete ?</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisStoryDeleteClick(false);\n              }}>\n              Cancel\n            </button>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                dispatch(deleteStory(story, setisStoryDeleteClick));\n              }}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nStoryCircle.propTypes = {\n  story: PropTypes.object.isRequired,\n  circleRef: PropTypes.object.isRequired,\n};\n\nexport default StoryCircle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '../../../style/makestory.module.css';\nimport check from '../../../img/check.png';\n\nfunction Image({ post, choosedStory, chooseStory, stage, chooseCoverfunc, isCover }) {\n  const { postID, postImage, postTime } = post;\n  const isImgChoose = choosedStory.includes(postID);\n  return (\n    <>\n      {stage === 0 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            chooseStory(postID);\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n\n      {stage === 1 && (\n        <div\n          className={styled.blockWrap}\n          onClick={() => {\n            if (choosedStory.includes(post.postID)) {\n              chooseCoverfunc(post);\n            }\n          }}>\n          <div className={styled.imageTime}>{JSON.stringify(postTime)}</div>\n          <div className={styled.pickPicCircle}>\n            {isCover === post.postImage.postImageLink && (\n              <div className={styled.pickCoverCircle}>\n                <img className={styled.check} src={check} />\n              </div>\n            )}\n          </div>\n          <div className={styled.pickPicCircle}>\n            {isImgChoose ? choosedStory.indexOf(postID) + 1 : ''}\n          </div>\n          <img src={postImage.postImageLink} className={styled.block} />\n        </div>\n      )}\n    </>\n  );\n}\n\nImage.propTypes = {\n  post: PropTypes.object.isRequired,\n  choosedStory: PropTypes.array.isRequired,\n  stage: PropTypes.number.isRequired,\n  chooseStory: PropTypes.func,\n  chooseCoverfunc: PropTypes.func,\n  isCover: PropTypes.string,\n};\n\nexport default Image;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addStory } from '../../../redux/actions/storyAction';\nimport { MakeStoryModal } from '../../common/MakeStoryModal';\nimport Image from '../story/Image';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport styles from '../../../style/popup.module.css';\nimport styled from '../../../style/makestory.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport { nanoid } from 'nanoid';\n\nfunction MakeStory({ setisMakeStoryClick, isMakeStoryClick, setisMakeStorySucces }) {\n  const dispatch = useDispatch();\n  const [storyName, setstoryName] = useState('');\n  const [choosedCover, setChoosedCover] = useState('');\n  const [choosedStory, setChoosedStory] = useState([]);\n  const user = useSelector((state) => state.user);\n  const posts = useSelector((state) => state.posts);\n  const [makeStoryStage, setMakeStoryStage] = useState(0);\n  const story = {\n    storyID: '',\n    storyName: storyName,\n    storyImageLink: choosedCover,\n    storyIssuerID: user.uid,\n    createTime: '',\n    stories: choosedStory,\n  };\n  //選擇post\n  const choosePostTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setisMakeStoryClick(false);\n        }}>\n        Cancel\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Story Posts</div>{' '}\n      {choosedStory.length > 0 ? (\n        <button\n          className={styled.decideButton}\n          onClick={() => {\n            setMakeStoryStage(1);\n          }}>\n          Next\n        </button>\n      ) : (\n        <button className={styled.decideButtonVag}>Next</button>\n      )}\n    </>\n  );\n\n  const chooseStory = (postID) => {\n    if (choosedStory.includes(postID)) {\n      let newchoosedStory = choosedStory.filter((storyID) => storyID !== postID);\n      setChoosedStory(newchoosedStory);\n    } else {\n      let newchoosedStory = [...choosedStory];\n      newchoosedStory.push(postID);\n      setChoosedStory(newchoosedStory);\n    }\n  };\n\n  const choosePost = (\n    <>\n      <div className={styled.grid}>\n        {posts.map((post) => (\n          <Image\n            key={post.postID}\n            post={post}\n            choosedStory={choosedStory}\n            stage={0}\n            chooseStory={() => {\n              chooseStory(post.postID);\n            }}\n          />\n        ))}\n      </div>\n    </>\n  );\n\n  //選擇cover image\n\n  const chooseCoverTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setMakeStoryStage(0);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Choose Cover Photo</div>{' '}\n      {!choosedCover ? (\n        <button className={styled.decideButtonVag}>Next</button>\n      ) : (\n        <button\n          className={styled.decideButton}\n          onClick={() => {\n            setMakeStoryStage(2);\n          }}>\n          Next\n        </button>\n      )}\n    </>\n  );\n  const [isCover, setIsCover] = useState('');\n  const chooseCoverfunc = (post) => {\n    if (post.postImage.postImageLink !== choosedCover) {\n      setChoosedCover(post.postImage.postImageLink);\n      setIsCover(post.postImage.postImageLink);\n    }\n  };\n\n  const chooseCoverPhoto = (\n    <div className={styled.grid}>\n      {posts.map((post) => (\n        <Image\n          key={post.postID}\n          post={post}\n          choosedStory={choosedStory}\n          choosedCover={choosedCover}\n          stage={1}\n          chooseCoverfunc={() => chooseCoverfunc(post)}\n          isCover={isCover}\n        />\n      ))}\n    </div>\n  );\n\n  //Story 命名\n\n  const storyNameingTitle = (\n    <>\n      <button\n        className={styled.decideButton}\n        onClick={() => {\n          setMakeStoryStage(1);\n        }}>\n        Back\n      </button>\n      <div className={styled.makeStoryGuide}> Name Your Story</div>{' '}\n      {storyName === '' ? (\n        <button className={styled.decideButtonVag}>Upload</button>\n      ) : (\n        <button\n          className={styled.decideButton}\n          onClick={(e) => {\n            e.preventDefault();\n            //要dispatch\n            dispatch(addStory(story));\n            // setMakeStoryStage(2);\n            setisMakeStoryClick(false);\n            setstoryName('');\n            setChoosedCover('');\n            setChoosedStory([]);\n            setMakeStoryStage(0);\n            setisMakeStorySucces(true);\n          }}>\n          Upload\n        </button>\n      )}\n    </>\n  );\n\n  const handleMsgChange = (e) => {\n    setstoryName(e.target.value);\n  };\n  const storyNameing = (\n    <>\n      <div className={styled.storyCircle}>\n        {!choosedCover ? '' : <img className={styled.coverImage} src={choosedCover} />}\n      </div>\n      <form\n        className={styles.form}\n        style={{ textAlign: 'center' }}\n        onSubmit={(e) => {\n          e.preventDefault();\n        }}>\n        <input\n          type='text'\n          id={nanoid()}\n          name='text'\n          autoComplete='off'\n          placeholder='Story Name ...'\n          onChange={handleMsgChange}\n          className={styled.storyNameInput}></input>\n      </form>\n    </>\n  );\n\n  let title = '';\n  let view = '';\n  if (makeStoryStage === 0) {\n    title = choosePostTitle;\n    view = choosePost;\n  } else if (makeStoryStage === 1) {\n    title = chooseCoverTitle;\n    view = chooseCoverPhoto;\n  } else if (makeStoryStage === 2) {\n    title = storyNameingTitle;\n    view = storyNameing;\n  }\n  const [isMakeSuccess, setIsMakeSuccess] = useState(0);\n  return (\n    <>\n      <MakeStoryModal\n        show={isMakeStoryClick}\n        handleClose={() => {\n          setisMakeStoryClick(false);\n        }}>\n        <div className={styles.modelWrap}>\n          <div className={styled.topModel}>{title}</div>\n          <div className={styled.buttonModal}>\n            <div>{view}</div>\n          </div>\n        </div>\n      </MakeStoryModal>\n      {/* EditPostPopup */}\n      <MsgPopup\n        show={isMakeSuccess}\n        handleClose={() => {\n          setIsMakeSuccess(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>New Story Is On!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsMakeSuccess(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nMakeStory.propTypes = {\n  isMakeStoryClick: PropTypes.bool.isRequired,\n  setisMakeStoryClick: PropTypes.func.isRequired,\n  setisMakeStorySucces: PropTypes.func.isRequired,\n};\n\nexport default MakeStory;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StoryCircle from '../../../component/profile/story/StoryCircle';\nimport MakeStory from '../story/MakeStory';\nimport { MsgPopup } from '../../common/MsgPopup';\nimport { fetchStories } from '../../../redux/actions/storyAction';\nimport styles from '../../../style/storybar.module.css';\nimport msgPopStyles from '../../../style/msgPopWrap.module.css';\nimport styled from '../../../style/popup.module.css';\nimport plus from '../../../img/plusIcon.png';\nimport leftarrow from '../../../img/left-arrow.png';\nimport rightarrow from '../../../img/right-arrow.png';\n\nfunction StoryBar({ paramsID }) {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const stories = useSelector((state) => state.stories);\n  const posts = useSelector((state) => state.posts);\n  const [isMakeStoryClick, setisMakeStoryClick] = useState(false);\n  const [isMakeStorySuccess, setisMakeStorySucces] = useState(false);\n  const containRef = React.useRef(null);\n  const wrapRef = React.useRef(null);\n  const barLeftArrowRef = React.useRef(null);\n  const barRightArrowRef = React.useRef(null);\n  const circleRef = React.useRef(null);\n  const [constainMargin, setconstainMargin] = useState(0);\n  const loading = useSelector((state) => state.loading);\n  //stories 慢，判斷完了\n  useEffect(() => {\n    if (posts.length > 0) {\n      dispatch(fetchStories(paramsID));\n    }\n  }, [posts]);\n\n  useEffect(() => {\n    if (barRightArrowRef.current && barRightArrowRef.current) {\n      barRightArrowRef.current.style.display = 'none';\n      barLeftArrowRef.current.style.display = 'none';\n      if (stories.length > 3) {\n        barRightArrowRef.current.style.display = 'block';\n      }\n    }\n  }, [stories]);\n\n  const storyBarScrollLeft = () => {\n    let circleWidth = circleRef.current.clientWidth;\n    if (containRef.current.clientWidth > wrapRef.current.clientWidth) {\n      let newconstainMargin = constainMargin - circleWidth;\n      setconstainMargin(newconstainMargin);\n      containRef.current.style.transform = `translateX(${newconstainMargin}px)`;\n      containRef.current.style.transition = 'transform 1s ease-in-out';\n      barLeftArrowRef.current.style.display = 'block';\n      if (\n        -constainMargin + wrapRef.current.clientWidth + circleWidth >=\n        containRef.current.clientWidth\n      ) {\n        barRightArrowRef.current.style.display = 'none';\n        barLeftArrowRef.current.style.display = 'block';\n      }\n    }\n  };\n\n  const storyBarScrollRight = () => {\n    let circleWidth = circleRef.current.clientWidth;\n    if (containRef.current.clientWidth > wrapRef.current.clientWidth) {\n      let newconstainMargin = constainMargin + circleWidth;\n      setconstainMargin(newconstainMargin);\n      containRef.current.style.transform = `translateX(${newconstainMargin}px)`;\n      containRef.current.style.transition = 'transform 1s ease-in-out';\n      if (user.uid === paramsID) {\n        if (-constainMargin <= circleWidth) {\n          barLeftArrowRef.current.style.display = 'none';\n          barRightArrowRef.current.style.display = 'block';\n        }\n      } else {\n        if (-constainMargin + wrapRef.current.clientWidth > containRef.current.clientWidth) {\n          barLeftArrowRef.current.style.display = 'none';\n          barRightArrowRef.current.style.display = 'block';\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className={styles.wrap}>\n        {loading === false ? (\n          <div className={styles.storyBarWrap}>\n            <div className={styles.storyCircleWrap} ref={wrapRef}>\n              <div className={styles.storyCircleContain} ref={containRef}>\n                {user.uid === paramsID && posts.length > 0 && (\n                  <div\n                    className={styles.storyCircle}\n                    onClick={() => {\n                      setisMakeStoryClick(true);\n                    }}>\n                    <img className={styles.storyCirclePlus} src={plus} />\n                  </div>\n                )}\n                {posts.length > 0 && (\n                  <>\n                    {stories.map((story) => (\n                      <StoryCircle key={story.storyID} story={story} circleRef={circleRef} />\n                    ))}\n                  </>\n                )}\n              </div>\n            </div>\n            {stories.length > 0 && (\n              <>\n                <img\n                  src={rightarrow}\n                  className={styles.barrightarrow}\n                  ref={barRightArrowRef}\n                  onClick={() => {\n                    storyBarScrollLeft();\n                  }}\n                />\n                <img\n                  src={leftarrow}\n                  className={styles.barleftarrow}\n                  ref={barLeftArrowRef}\n                  onClick={() => {\n                    storyBarScrollRight();\n                  }}\n                />\n              </>\n            )}\n          </div>\n        ) : (\n          <div className={styles.loading} />\n        )}\n      </div>\n      {/* make story */}\n      <MakeStory\n        isMakeStoryClick={isMakeStoryClick}\n        setisMakeStoryClick={setisMakeStoryClick}\n        setisMakeStorySucces={setisMakeStorySucces}\n      />\n      {/* MakeStory Success Popup */}\n      <MsgPopup\n        show={isMakeStorySuccess}\n        handleClose={() => {\n          setisMakeStorySucces(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Update Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setisMakeStorySucces(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nStoryBar.propTypes = {\n  paramsID: PropTypes.string.isRequired,\n};\n\nexport default StoryBar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport StackGrid from 'react-stack-grid';\nimport Post from '../post/Post';\nimport { MsgPopup } from '../common/MsgPopup';\nimport UploadPostButton from '../common/UploadPostButton';\nimport { fetchMasterPosts } from '../../redux/actions/postAction';\nimport { receiveTags } from '../../redux/actions/searchAction';\nimport styles from '../../style/profilecontent.module.css';\nimport styled from '../../style/popup.module.css';\nimport msgPopStyles from '../../style/msgPopWrap.module.css';\n\nfunction ProfileContent({ paramsID }) {\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n  const comments = useSelector((state) => state.comments);\n  const searchtags = useSelector((state) => state.searchtags);\n  const [clickEdit, setclickEdit] = useState('');\n  const [isDeletePopup, setIsDeletePopup] = useState(false);\n  const stakeGridRef = React.useRef(null);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n\n  useEffect(() => {\n    dispatch(fetchMasterPosts(paramsID));\n    dispatch(receiveTags());\n  }, [dispatch, paramsID]);\n\n  useEffect(() => {\n    if (stakeGridRef.current) {\n      stakeGridRef.current.updateLayout();\n    }\n  }, [comments]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (stakeGridRef.current) {\n        stakeGridRef.current.updateLayout();\n      }\n    }, 500);\n  }, [posts]);\n\n  let filterTags = [];\n  let filterPosts = [];\n  searchtags.map((searchtag) => {\n    filterTags.push(searchtag.value);\n  });\n\n  posts.map((post) => {\n    filterTags.map((tag) => {\n      if (post.postTag.value === tag) {\n        filterPosts.push(post);\n      }\n    });\n  });\n  if (filterTags.length > 0) {\n    //將tag 放進 filterTags array裡\n  } else {\n    filterPosts = posts;\n  }\n\n  return (\n    <>\n      {loading === false ? (\n        <div className={styles.wrap}>\n          <div className={styles.postWrap}>\n            {posts.length > 0 ? (\n              <>\n                {filterPosts.length > 0 ? (\n                  <StackGrid\n                    gridRef={(e) => (stakeGridRef.current = e)}\n                    columnWidth={300}\n                    gutterWidth={30}\n                    gutterHeight={30}\n                    monitorImagesLoaded={true}>\n                    {filterPosts.map((post) => (\n                      <Post\n                        key={post.postID}\n                        post={post}\n                        clickEdit={clickEdit}\n                        setclickEdit={setclickEdit}\n                        setIsDeletePopup={setIsDeletePopup}\n                      />\n                    ))}\n                  </StackGrid>\n                ) : (\n                  <div className={styles.noPostWrap}>\n                    <div className={styles.noPostGuide}>\n                      No post match the search, please adjust the filter.\n                    </div>\n                  </div>\n                )}\n              </>\n            ) : (\n              <div className={styles.noPostUpload}>\n                <div className={styles.noPostGuide}>No Posts Yet, Upload My First Post:</div>{' '}\n                <UploadPostButton />\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        <div className={styles.loading}></div>\n      )}\n\n      {/* DeletePopup */}\n      <MsgPopup\n        show={isDeletePopup}\n        handleClose={() => {\n          setIsDeletePopup(false);\n        }}>\n        <div className={msgPopStyles.msgPopWrap}>\n          <h2>Delete Successful!</h2>\n          <div className={msgPopStyles.buttonWrap}>\n            <button\n              className={styled.decideButton}\n              onClick={() => {\n                setIsDeletePopup(false);\n              }}>\n              OK\n            </button>\n          </div>\n        </div>\n      </MsgPopup>\n    </>\n  );\n}\n\nProfileContent.propTypes = {\n  paramsID: PropTypes.string,\n};\n\nexport default ProfileContent;\n","import { React } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ProfileShow from './ProfileShow';\nimport StoryBar from './story/StoryBar';\nimport ProfileContent from './ProfileContent';\n\nfunction Profile({ userId }) {\n  const user = useSelector((state) => state.user);\n\n  let view = '';\n\n  if (!user) {\n    //visitor/not log in\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  } else if (user.uid === userId) {\n    //master\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <StoryBar paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  } else {\n    //viewer\n    view = (\n      <>\n        <ProfileShow paramsID={userId} />\n        <StoryBar paramsID={userId} />\n        <ProfileContent paramsID={userId} />\n      </>\n    );\n  }\n\n  return <>{view}</>;\n}\n\nProfile.propTypes = {\n  userId: PropTypes.string,\n};\n\nexport default withRouter(Profile);\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport StackGrid from 'react-stack-grid';\nimport Post from '../post/Post';\nimport Loading from '../common/Loading';\nimport Logo from '../common/Logo';\nimport { LoginPopup } from '../common/LoginPopup';\nimport { fetchWelcomePosts } from '../../redux/actions/postAction';\nimport { login } from '../../redux/actions/loginAction';\nimport headerstyle from '../../style/header.module.css';\nimport styles from '../../style/post.module.css';\nimport '../../style/welcome.css';\nimport '../../style/welcomeshow.css';\nimport travel from '../../img/travel.jpg';\n\nfunction Welcome() {\n  const dispatch = useDispatch();\n  const slogans = [\n    {\n      tag: 'OUTFIT',\n      tagName: 'STUNNING OUTFIT',\n      backgroundColor: 'rgb(187,140,47)',\n      backgroundImage: '#cfc1ae',\n    },\n    {\n      tag: 'TRAVEL',\n      tagName: 'AMAZING VACATION',\n      backgroundColor: 'rgb(86, 181, 183)',\n      backgroundImage: '#fbde90',\n      // 114, 202, 232\n    },\n    {\n      tag: 'FOODIE',\n      tagName: 'CHRISTMAS DINNER',\n      backgroundColor: 'rgb(106, 138,106)',\n      backgroundImage: '#b3cd8f',\n    },\n  ];\n\n  //get welcome posts\n  useEffect(() => {\n    dispatch(fetchWelcomePosts());\n  }, []);\n  const welcomeposts = useSelector((state) => state.welcomeposts);\n\n  //loading\n  const loading = useSelector((state) => state.loading);\n  const [pleaseLogin, setPleaseLogin] = useState(false);\n  const [isPostClick, setisPostClick] = useState(false);\n  const stakeGridRef = React.useRef(null);\n\n  //slide show\n  const delay = 5000;\n  const [index, setIndex] = React.useState(0);\n  const [isTo2, setIsTo2] = useState(true);\n  const timeoutRef = React.useRef(null);\n\n  function resetTimeout() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  }\n\n  const slideTime = () => {\n    resetTimeout();\n    timeoutRef.current = setTimeout(\n      () =>\n        setIndex((prevIndex) => {\n          if (prevIndex === 1 && isTo2) {\n            setIsTo2(false);\n            return 2;\n          } else if (prevIndex === 1) {\n            setIsTo2(true);\n            return 0;\n          } else if (prevIndex === 0) {\n            return 1;\n          } else if (prevIndex == 2) {\n            return 1;\n          }\n        }),\n      delay,\n    );\n    return () => {\n      resetTimeout();\n    };\n  };\n  useEffect(() => {\n    slideTime();\n  }, [index]);\n\n  const filteredPosts = welcomeposts.filter((post) => {\n    if (index === 0) return post.postTag.value === 'OUTFIT';\n    if (index === 1) return post.postTag.value === 'TRAVEL';\n    if (index === 2) return post.postTag.value === 'FOODIE';\n  });\n  return (\n    <>\n      {loading === false ? (\n        <div\n          className='slideshow'\n          onClick={() => {\n            resetTimeout();\n          }}>\n          <div\n            className='slideshowSlider'\n            style={{ transform: `translate3d(${-index * 100}%, 0, 0)` }}>\n            {slogans.map((slogan, index) => (\n              <div className='slide' key={index}>\n                <div className='welcomeShow'>\n                  <div>Share Your</div>\n\n                  <div className='welcomeShowTag'>\n                    <div\n                      className='tagNameLine'\n                      style={{ backgroundColor: slogan.backgroundImage }}></div>\n                    <div className='tagNameText' style={{ color: slogan.backgroundColor }}>\n                      {slogan.tagName}\n                    </div>\n                    <div\n                      style={{\n                        width: '35px',\n                        height: '35px',\n                        position: 'absolute',\n                        right: '150px',\n                        top: '-55px',\n                      }}></div>\n                  </div>\n                  <div>with the World</div>\n                </div>\n                <div className='slideshowDots'>\n                  {slogans.map((_, idx) => (\n                    <div\n                      key={idx}\n                      className={`slideshowDot${index === idx ? ' active' : ''}`}\n                      onClick={() => {\n                        setIndex(idx);\n                      }}></div>\n                  ))}\n                </div>\n                <div\n                  className='wrap'\n                  onClick={() => {\n                    setPleaseLogin(true);\n                  }}>\n                  <div className='postWrap'>\n                    <StackGrid\n                      gridRef={(e) => (stakeGridRef.current = e)}\n                      columnWidth={300}\n                      gutterWidth={33}\n                      gutterHeight={30}\n                      duration={0}\n                      monitorImagesLoaded={true}>\n                      {filteredPosts.map((post) => (\n                        <Post key={post.postID} post={post} isfromWelcome={true} />\n                      ))}\n                    </StackGrid>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className={styles.loading}>\n          <Loading />\n        </div>\n      )}\n      {slideTime && (\n        <LoginPopup\n          show={pleaseLogin}\n          handleClose={() => {\n            setPleaseLogin(false);\n          }}\n          slideTime={slideTime}>\n          <div className={headerstyle.loginPopContain}>\n            <div className={headerstyle.loginTitle}>\n              <img src={travel}></img>\n            </div>\n            <div className={headerstyle.loginWrap}>\n              <Logo />\n              <br />\n              <div className={headerstyle.title1}> Share your life in</div>\n              <div className={headerstyle.title2}> LA VIE</div>\n              <br />\n              <br />\n              <div className={headerstyle.text}> Login with</div>\n              <div\n                className={headerstyle.google}\n                onClick={() => dispatch(login('google', setPleaseLogin, setisPostClick))}>\n                {/* <img src={google} className={headerstyle.googleIcon} /> */}\n                Google Login\n              </div>\n\n              <div className={headerstyle.text}> OR</div>\n              <div\n                className={headerstyle.facebook}\n                onClick={() => dispatch(login('facebook', setPleaseLogin, setisPostClick))}>\n                Facebook Login\n              </div>\n            </div>\n          </div>\n        </LoginPopup>\n      )}\n    </>\n  );\n}\n\nexport default Welcome;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../style/nomatch.css';\n\nfunction NoMatch() {\n  const user = useSelector((state) => state.user);\n  return (\n    <>\n      <div className='noMatch'>\n        <div className='noMatchTitle'> I wanna go to : </div>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = './';\n          }}>\n          Welcome\n        </button>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = './main';\n          }}>\n          Main\n        </button>\n        <button\n          className='noMatchBtn'\n          onClick={() => {\n            window.location = `./profile?id=${user.uid}`;\n          }}>\n          Profile\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default NoMatch;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Header from './header/Header';\nimport PostList from './post/PostList';\nimport Profile from './profile/Profile';\nimport Welcome from './welcome/Welcome';\nimport NoMatch from './common/NoMatch';\nimport { BrowserRouter as Router, Switch, Route, useLocation, Redirect } from 'react-router-dom';\nimport ChatRoom from './chat/ChatRoom';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction Routers() {\n  const user = useSelector((state) => state.user);\n  const query = useQuery();\n\n  return (\n    <>\n      <Header />\n      <Switch>\n        <Route exact path='/'>\n          {user ? <Redirect to='/main' /> : <Welcome />}\n        </Route>\n        <Route\n          path='/profile'\n          render={(props) => <Profile {...props} userId={query.get('id')} />}\n        />\n        {/* <Route\n          path='/chatroom/:'\n          render={(props) => <ChatRoom {...props} userId={query.get('id')} />}\n        /> */}\n        <Route path='/main' component={PostList} />\n        <Route component={NoMatch} />\n      </Switch>\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Routers />\n    </Router>\n  );\n}\n\nexport default App;\n","import { ADD_POST, EDIT_POST, DELETE_POST, RECIEVED_POSTS, TOGGLE_LIKE_POST } from '../actionTypes';\n\nconst posts = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_POSTS: {\n      return action.payload.postsList;\n    }\n    case ADD_POST: {\n      return [action.payload.post, ...state];\n    }\n    case DELETE_POST: {\n      return state.filter((post) => post.postID !== action.payload.postID);\n    }\n\n    case EDIT_POST: {\n      let editPostList = state.map((post) => {\n        if (post.postID === action.payload.post.postID) {\n          return action.payload.post;\n        }\n        return post;\n      });\n      return editPostList;\n    }\n\n    case TOGGLE_LIKE_POST: {\n      return state.map((post) => {\n        if (post.postID === action.payload.id) {\n          return { ...post, postLikes: action.payload.postLikes };\n        }\n        return post;\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default posts;\n","import { RECIEVED_USER } from '../actionTypes';\n\nconst initState = JSON.parse(localStorage.getItem('User'));\n\nconst user = (state = initState, action) => {\n  switch (action.type) {\n    case RECIEVED_USER: {\n      return action.payload.user;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","import {\n  RECEIVED_COMMENT,\n  ADD_COMMENT,\n  EDIT_COMMENT,\n  DELETE_COMMENT,\n  TOGGLE_Comment_Like,\n} from '../actionTypes';\n\n//comments: 該post popup 的comments 們（10,5），若有別篇的add，一樣加進來，在各compo render 時再判斷是哪篇post的\nconst comments = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.commentsList;\n      return newComments;\n    }\n    // 不管來自哪篇。都加進comments\n    case ADD_COMMENT: {\n      return [action.payload.comment, ...state];\n    }\n    case EDIT_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.editedComment;\n      return newComments;\n    }\n    case DELETE_COMMENT: {\n      return action.payload.newComments;\n    }\n    case TOGGLE_Comment_Like: {\n      return state.map((comment) => {\n        if (comment.commentID === action.payload.id) {\n          return { ...comment, likeIssuerID: action.payload.likeIssuerID };\n        }\n        return comment;\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default comments;\n","import { RECIEVED_TAGS, UPDATE_TAG, ADD_TAG } from '../actionTypes';\n\nconst tags = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_TAGS: {\n      return action.payload.tags;\n    }\n    case UPDATE_TAG: {\n      return action.payload.tags;\n    }\n    case ADD_TAG: {\n      console.log(action.payload.tagData);\n      return [...state, action.payload.tagData];\n    }\n    default:\n      return state;\n  }\n};\n\nexport default tags;\n","import { SEARCH_TAGS, NOSEARCH_TAGS } from '../actionTypes';\n\nconst searchtags = (state = [], action) => {\n  switch (action.type) {\n    case SEARCH_TAGS: {\n      return action.payload.newValue;\n    }\n    case NOSEARCH_TAGS: {\n      return [];\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default searchtags;\n","import { RECIEVED_STORIES, ADD_STORY, DELETE_STORY, EDIT_STORY } from '../actionTypes';\n\nconst stories = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_STORIES: {\n      return action.payload.story;\n    }\n    case ADD_STORY: {\n      return [action.payload.stateStory, ...state];\n    }\n    case DELETE_STORY: {\n      return state.filter((story) => story.storyID !== action.payload.deleteStory.storyID);\n    }\n    case EDIT_STORY: {\n      console.log('EDIT_POST');\n      console.log(action.payload);\n      let editStoryList = state.map((story) => {\n        if (story.storyID === action.payload.stateStory.storyID) {\n          return action.payload.stateStory;\n        }\n        return story;\n      });\n      return editStoryList;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default stories;\n","import { RECIEVED_MASTERPOSTS } from '../actionTypes';\n\nconst masterposts = (state = [], action) => {\n  switch (action.type) {\n    case RECIEVED_MASTERPOSTS: {\n      return action.payload.masterPosts;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default masterposts;\n\n//profile 頁面，因為infinit 沒辦法用原本取posts 的方式取用，add post, delete post 又都掛在posts 上，\n//要即時看到，只能用posts>>每次切換頁面，呼叫fetch posts，染出該頁的內容\n","import {\n  ADD_POST_COMMENT,\n  EDIT_POST_COMMENT,\n  DELETE_POST_COMMENT,\n  TOGGLE_POST_Comment_Like,\n} from '../actionTypes';\n\n//comments: 該post popup 的comments 們（10,5），若有別篇的add，一樣加進來，在各compo render 時再判斷是哪篇post的\nconst postcomments = (state = [], action) => {\n  switch (action.type) {\n    case ADD_POST_COMMENT: {\n      return [...state, action.payload.comment];\n    }\n\n    case EDIT_POST_COMMENT: {\n      let newComments = [...state];\n      newComments = action.payload.editedPostComment;\n      return newComments;\n    }\n    case DELETE_POST_COMMENT: {\n      return action.payload.newPostComments;\n    }\n    case TOGGLE_POST_Comment_Like: {\n      return state.map((comment) => {\n        if (comment.commentID === action.payload.id) {\n          return { ...comment, likeIssuerID: action.payload.likeIssuerID };\n        }\n        return comment;\n      });\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default postcomments;\n","import { RECIEVING_LOADING } from '../actionTypes';\n\nconst loading = (state = true, action) => {\n  switch (action.type) {\n    case RECIEVING_LOADING: {\n      return action.payload;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default loading;\n","import { RECEIVED_WELCOMEPOSTS } from '../actionTypes';\n\nconst welcomeposts = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_WELCOMEPOSTS: {\n      return action.payload;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default welcomeposts;\n","import {\n  RECEIVED_RELATIONSHIP,\n  SEND_FRIEND_REQUEST,\n  ACCEPT_FRIEND_REQUEST,\n  UNFRIEND,\n} from '../actionTypes';\nimport { FRIEND } from '../../utils/names';\nconst relationships = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_RELATIONSHIP: {\n      return action.payload.relationships;\n    }\n    case SEND_FRIEND_REQUEST: {\n      let newRelationship = [...state];\n      newRelationship.push(action.payload.relationship);\n      return newRelationship;\n    }\n\n    case ACCEPT_FRIEND_REQUEST: {\n      return state.map((relationship) => {\n        if (relationship.relationshipID === action.payload.relationshipID) {\n          return { ...relationship, status: FRIEND };\n        }\n        return relationship;\n      });\n    }\n    case UNFRIEND: {\n      return state.filter((relationship) => relationship.relationshipID !== action.payload.docName);\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default relationships;\n","import { RECEIVED_PROFILE } from '../actionTypes';\n\nconst profile = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVED_PROFILE: {\n      return action.payload.profile;\n    }\n    default:\n      return state;\n  }\n};\nexport default profile;\n","import posts from './posts';\nimport user from './user';\nimport comments from './comments';\nimport tags from './tags';\nimport searchtags from './searchtags';\nimport stories from './stories';\nimport masterposts from './masterposts';\nimport postcomments from './postcomments';\nimport loading from './loading';\nimport welcomeposts from './welcomeposts';\nimport relationships from './relationships';\nimport profile from './profile';\nimport { combineReducers } from 'redux';\n\nexport default combineReducers({\n  user,\n  posts,\n  comments,\n  tags,\n  searchtags,\n  stories,\n  masterposts,\n  postcomments,\n  loading,\n  welcomeposts,\n  relationships,\n  profile,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App';\nimport { Provider } from 'react-redux';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './redux/reducers/index';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"storyCancelImg\":\"popup_storyCancelImg__3ODbE\",\"cancelStory\":\"popup_cancelStory__3mv7G\",\"cancelStoryNone\":\"popup_cancelStoryNone__1Zf-g\",\"showStoryModalDiv\":\"popup_showStoryModalDiv__2ejen\",\"showStoryModalDivNone\":\"popup_showStoryModalDivNone__2TJba\",\"showStoryContentDiv\":\"popup_showStoryContentDiv__2mI0r\",\"showStoryContentDivDivNone\":\"popup_showStoryContentDivDivNone__2p-WG\",\"msgModalDiv\":\"popup_msgModalDiv___8dZl\",\"msgModalDivNone\":\"popup_msgModalDivNone__3WAWr\",\"msgContentDiv\":\"popup_msgContentDiv__1qYHI\",\"msgContentDivNone\":\"popup_msgContentDivNone__18hii\",\"editContainerDiv\":\"popup_editContainerDiv__1IQXJ\",\"editContainerDivNone\":\"popup_editContainerDivNone__3xzVw\",\"editContentDiv\":\"popup_editContentDiv__3sFdR\",\"editContentDivNone\":\"popup_editContentDivNone__3z94r\",\"modalDiv\":\"popup_modalDiv__1D4H_\",\"modalDivNone\":\"popup_modalDivNone__2skBj\",\"contentDiv\":\"popup_contentDiv__1OSRR\",\"contentWrapNone\":\"popup_contentWrapNone__2_5hr\",\"storyModalDiv\":\"popup_storyModalDiv__35wH3\",\"storyModalDivNone\":\"popup_storyModalDivNone__1HJK8\",\"storyContentDiv\":\"popup_storyContentDiv__Jl9N_\",\"postModalDiv\":\"popup_postModalDiv__FtxY6\",\"postModalDivNone\":\"popup_postModalDivNone__2WCGQ\",\"postContentDiv\":\"popup_postContentDiv__3F5dU\",\"shareText\":\"popup_shareText__1LePq\",\"modelWrap\":\"popup_modelWrap__3Q-jp\",\"contentWrap\":\"popup_contentWrap__3b6tH\",\"fade\":\"popup_fade__1rLU_\",\"topModel\":\"popup_topModel__GtDw8\",\"moreBar\":\"popup_moreBar__3ao5t\",\"separater\":\"popup_separater__2sQw-\",\"buttonModal\":\"popup_buttonModal__3SBhJ\",\"leftModel\":\"popup_leftModel__3BIx3\",\"postPicture\":\"popup_postPicture__1y4bw\",\"rightModel\":\"popup_rightModel__3c_Hm\",\"blockTitle\":\"popup_blockTitle__36JX9\",\"postMsg\":\"popup_postMsg__G3LFb\",\"postTime\":\"popup_postTime__kUoy0\",\"cancelButton\":\"popup_cancelButton__2tEIm\",\"cancelWrap\":\"popup_cancelWrap__1jBlz\",\"close\":\"popup_close__3OcBh\",\"cancelButtonImg\":\"popup_cancelButtonImg__1wsr6\",\"decideBlock\":\"popup_decideBlock__3rPDD\",\"labeluploadPic\":\"popup_labeluploadPic__3BLEZ\",\"uploadButton\":\"popup_uploadButton__1z6IH\",\"decideButton\":\"popup_decideButton__jC9Rz\",\"decideButtonVag\":\"popup_decideButtonVag__5SQCP\",\"decideButtonWrap\":\"popup_decideButtonWrap__2McHj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postProfileImage\":\"postblock_postProfileImage__19tgN\",\"postProfileName\":\"postblock_postProfileName__Lidk-\",\"postPicture\":\"postblock_postPicture__wVLJS\",\"messageBlock\":\"postblock_messageBlock__1vFrm\",\"rightModel\":\"postblock_rightModel__3UaAT\",\"commentsWrap\":\"postblock_commentsWrap__1Qc9G\",\"separater\":\"postblock_separater__1-xuo\",\"commenting\":\"postblock_commenting__jmRWo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"comment_comment__N63zc\",\"cancelWrapNone\":\"comment_cancelWrapNone__1C9kx\",\"postIssuerName\":\"comment_postIssuerName__pb8Mf\",\"commentImage\":\"comment_commentImage__23wkZ\",\"commentMsg\":\"comment_commentMsg__3WcEu\",\"deleteComment\":\"comment_deleteComment__23TMI\",\"commentLike\":\"comment_commentLike__89bCS\",\"commentActions\":\"comment_commentActions__3sk4v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"request\":\"request_request__Og_Op\",\"requestImage\":\"request_requestImage__X9Wm9\",\"requestName\":\"request_requestName__2K1U_\",\"requestMsg\":\"request_requestMsg__3Hq-L\",\"requestActions\":\"request_requestActions__3qfnG\",\"requestButton\":\"request_requestButton__13JAb\",\"stateBlock\":\"request_stateBlock__vHtpb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"profilecontent_loading__1ohd_\",\"tabs\":\"profilecontent_tabs__3C7we\",\"tab\":\"profilecontent_tab__3GHcf\",\"postWrap\":\"profilecontent_postWrap__1YI-W\",\"wrap\":\"profilecontent_wrap__1hd-E\",\"noPostUpload\":\"profilecontent_noPostUpload__1inAE\",\"noPostGuide\":\"profilecontent_noPostGuide___S1L7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonModal\":\"makestory_buttonModal__155Uy\",\"grid\":\"makestory_grid__yFHAM\",\"blockWrap\":\"makestory_blockWrap__3qRSM\",\"block\":\"makestory_block__5Qy_G\",\"pickPicCircle\":\"makestory_pickPicCircle__S8_P3\",\"pickCoverCircle\":\"makestory_pickCoverCircle__37ZHC\",\"check\":\"makestory_check__2iwp6\",\"storyCircle\":\"makestory_storyCircle__1ba3M\",\"imageTime\":\"makestory_imageTime__2O2_f\",\"coverImage\":\"makestory_coverImage__2wHmx\",\"storyNameInput\":\"makestory_storyNameInput__1ZLxu\",\"makeStoryGuide\":\"makestory_makeStoryGuide__1nChY\",\"topModel\":\"makestory_topModel__NTEEw\",\"decideButton\":\"makestory_decideButton__17Etz\",\"decideButtonVag\":\"makestory_decideButtonVag__ypgTI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelWrap\":\"cancelbutton_cancelWrap__1yrj6\",\"cancelButtonImg\":\"cancelbutton_cancelButtonImg__2jftC\"};"],"sourceRoot":""}